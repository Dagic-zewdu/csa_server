(this.webpackJsonpfirstapp=this.webpackJsonpfirstapp||[]).push([[0],{10:function(e,a){e.exports={server:"http://192.168.8.101:1111",host:"http://192.168.8.101:1111/api",files_url:"http://192.168.8.101/static/",password:"CREnq9ret34201X_gfsd_zvVQMnWKSvsdoj45_ROEIcnvx_789453nM",tokenPassword:"JKdlcsRINVbrpRYURr230xzaw7zxxlqe2032"}},17:function(e,a,t){var n=t(10).tokenPassword,l=t(231);e.exports={encryptToken:function(e){return l.AES.encrypt(e,n).toString()},decryptToken:function(e){return l.AES.decrypt(e,n).toString(l.enc.Utf8)}}},271:function(e,a,t){},341:function(e,a,t){e.exports=t(669)},346:function(e,a,t){},347:function(e,a,t){},394:function(e,a){},396:function(e,a){},427:function(e,a){},428:function(e,a){},493:function(e,a,t){},669:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(39),r=t.n(c),i=(t(346),t(7)),s=(t(347),t(13)),o=t(15),m=l.a.createContext(),d=l.a.createContext(),u=(l.a.createContext(),l.a.createContext()),p=(l.a.createContext(),l.a.createContext()),E=t(2),f=t(3),g=t(4),b=t(9),_=t(25),v=t(33),h=t(32),N=t(34),x=function(e,a){var t=[],n={};for(var l in e)n[e[l][a]]=e[l];for(l in n)t.push(n[l]);return t},y=function e(a){var t=this;Object(_.a)(this,e),this.Filter=function(e){return t.employees.filter((function(a){return a.emp_id===e}))},this.UnFilter=function(e){return t.employees.filter((function(a){return a.emp_id!==e}))},this.Find=function(e){return t.employees.find((function(a){return a.emp_id===e}))},this.getUserInfo=function(e){return t.employees.find((function(a){return a._id===e}))},this.Name=function(e){return(t.Find(e)?t.Find(e).first_name:"")+" "+(t.Find(e)?t.Find(e).middle_name:"")+" "+(t.Find(e)?t.Find(e).last_name:"")},this.Emp_id=function(e){return t.Find(e)?t.Find(e).emp_id:""},this.Department=function(e){return t.Find(e)?t.Find(e).department:""},this.UserRole=function(e){return t.Find(e)?t.Find(e).type:""},this.findUser=function(e){return!!t.Filter(e).length},this.avaliableManager=function(e){return"finance"===e||"Finance"===e?t.employees.filter((function(a){return a.department===e&&("f_director"===a.type||"f_sector_leader"===a.type)})):t.employees.filter((function(a){return a.department===e&&("sector_leader"===a.type||"director"===a.type)}))},this.F_TeamLeader=function(){return t.employees.filter((function(e){return"f_team_leader"===e.type}))},this.F_Employee=function(){return t.employees.filter((function(e){return"f_employee"===e.type}))},this.Salary=function(e){return t.Find(e)?t.Find(e).salary:0},this.isOfficial=function(e){return!!t.Find(e)&&!!t.Find(e).official},this.officialPosition=function(e){return t.isOfficial(e)?t.Find(e).position:""},this.messageName=function(e){return t.Name(e).split(" ")[0]+" "+t.Name(e).split(" ")[1]},this.firstLetters=function(e){return(t.messageName(e).split(" ")[0].slice(0,1)+t.messageName(e).split(" ")[1].slice(0,1)).toUpperCase()},this.searchEmployee=function(e){var a=e.toString().toLowerCase(),n=t.employees.filter((function(e){return e.emp_id.toString().toLowerCase().includes(a,0)})),l=t.employees.filter((function(e){return t.Name(e.emp_id).toString().toLowerCase().includes(a,0)})),c=t.employees.filter((function(e){return e.department.toString().toLowerCase().includes(a,0)})),r=t.employees.filter((function(e){return e.type.toString().toLowerCase().includes(a,0)}));return x([].concat(Object(b.a)(l),Object(b.a)(c),Object(b.a)(r),Object(b.a)(n)),"_id")},this.employees=a},w=function(e){function a(e,t){var n;return Object(_.a)(this,a),(n=Object(v.a)(this,Object(h.a)(a).call(this,t))).getId=function(e){var a=e||localStorage.id,t=n.users.find((function(e){return e._id===a})),l=t||{emp_id:""},c=n.Find(l.emp_id);return c?c._id:""},n.getEmp_id=function(e){var a=e||localStorage.id,t=n.users.find((function(e){return e._id===a}));return(t||{emp_id:""}).emp_id},n.isApproval_Manager=function(){var e=n.getEmp_id(),a=n.UserRole(e);return"director"===a||"senior_officer"===a||"f_director"===a||"f_sector_leader"===a||"sector_leader"===a},n.isFinanceDirector=function(){var e=n.getEmp_id();return"f_director"===n.UserRole(e)},n.isFinanceTeamLeader=function(){var e=n.getEmp_id();return"f_team_leader"===n.UserRole(e)},n.isFinanceEmployee=function(){var e=n.getEmp_id();return"f_employee"===n.UserRole(e)},n.isF_director=function(e){return!!n.Find(e)&&"f_director"===n.Find(e).type},n.canApprove=function(e){return!!n.Find(e)&&"employee"!==n.Find(e).type},n.getF_director=function(){return n.employees.filter((function(e){return"f_director"===e.type}))},n.Type=function(e){return n.employees.filter((function(a){return a.type===e&&n.getEmp_id()!==a.emp_id}))},n.employeeSearch=function(e,a){return e.filter((function(e){return e.type===a&&n.getEmp_id()!==e.emp_id}))},n.ContactSearch=function(e){var a=e.toString().toLowerCase(),t=n.employees.filter((function(e){return e.emp_id.toString().toLowerCase().includes(a,0)})),l=n.employees.filter((function(e){return n.Name(e.emp_id).toString().toLowerCase().includes(a,0)})),c=n.employees.filter((function(e){return e.department.toString().toLowerCase().includes(a,0)})),r=x([].concat(Object(b.a)(t),Object(b.a)(l),Object(b.a)(c)),"_id");return{employees:x([].concat(Object(b.a)(n.employeeSearch(r,"employee")),Object(b.a)(n.employeeSearch(r,"f_employee"))),"_id"),directors:n.employeeSearch(r,"director"),f_director:n.employeeSearch(r,"f_director"),team_leaders:x([].concat(Object(b.a)(n.employeeSearch(r,"f_team_leader")),Object(b.a)(n.employeeSearch(r,"team_leader"))),"_id"),sector_leaders:n.employeeSearch(r,"sector_leader"),f_sector_leader:n.employeeSearch(r,"f_sector_leader"),commisioner:n.employeeSearch(r,"senior_officer")}},n.users=e,n}return Object(N.a)(a,e),a}(y),O=function(e){function a(e,t,n){var l;return Object(_.a)(this,a),(l=Object(v.a)(this,Object(h.a)(a).call(this,t))).getEmp_id=function(){var e=localStorage.id;return new w(l.users,l.employees).getEmp_id(e)},l.userAllowances=function(){return l.allowances.filter((function(e){return e.creater===l.getEmp_id()}))},l.findAllowance=function(e){return l.allowances.find((function(a){return a._id===e}))},l.rankProgress=function(e){return"Approved"===e?4:"unApproved"===e?1:"commented"===e?2:0},l.progress=function(e){var a=0;if(void 0===l.findAllowance(e))return a;var t=l.findAllowance(e),n=t.approval_manager,c=t.f_pending_dr,r=t.f_pending_emp,i=t.f_approve_tm,s=t.f_pending_tl,o=t.f_approve_dr;return a+=n.seen&&"waiting"===n.approved?3:l.rankProgress(n.approved),a+=c.seen&&"waiting"===c.approved?3:l.rankProgress(c.approved),a+=s.seen?3:0,a+=r.seen?3:0,a+=i.seen&&"waiting"===i.approved?3:l.rankProgress(i.approved),a+=o.seen&&"waiting"===o.approved?3:l.rankProgress(o.approved)},l.totallProgress=function(e){return Math.round(l.progress(e)/22*100)},l.tellProgress=function(e){var a=l.progress(e);return 1===a?"Allowance is unapproved by your approving manager":2===a?"Allowance is commented by your approving Manager":3===a?"Your approving manager is reviewing your allowance":4===a?"Allowance is approved by your manager":5===a?"Allowance is disapproved by finance director":6===a?"Allowance is commented by finance director":7===a?"Finance director is reviewing your Allowance":8===a?"Allwoance is approved by finance director":11===a?"Allowance is being reviwed by finance team leader":14===a?"Allwoance is calculating ":15===a?"Allowance is calculated but it is dis approved by finance by team leader":16===a?"Allowance is calculated but is commented by fiancne team leader":17===a?"Allowance is callcualted is being reviewed by finance team leader":18===a?"Allowance is calculated is approved by finance team leader":19===a?"Allowance is calculated is dis approved by finance director":20===a?"Allowance is  calcualted and commented by fianance director":21===a?"Allowance is calculated and is being reviewed for approval":22===a?"Allowance is calculated":void 0},l.checkApproval=function(e){return 0===e?"Begin":3===e||7===e||11===e||17===e||14===e?"Reviewed":4===e||8===e||18===e?"Approved":1===e||5===e||15===e||19===e?"unApproved":2===e||6===e||16===e||20===e?"commented":22===e?"completed":void 0},l.approve_Allowances=function(){return l.allowances.filter((function(e){return e.approval_manager.emp_id===l.getEmp_id()&&"approve"===e.save_options}))},l.new_allowances_manager=function(){return l.approve_Allowances()?l.approve_Allowances().filter((function(e){return!1===e.approval_manager.seen})):[]},l.seen_allowances_manager=function(){return l.approve_Allowances()?l.approve_Allowances().filter((function(e){return!0===e.approval_manager.seen})):[]},l.approved_Allowances=function(){return l.approve_Allowances()?l.approve_Allowances().filter((function(e){return"Approved"===e.approval_manager.approved})):[]},l.unApproved_Allowances=function(){return l.approve_Allowances()?l.approve_Allowances().filter((function(e){return"unApproved"===e.approval_manager.approved})):[]},l.commented_Allowances=function(){return l.approve_Allowances()?l.approve_Allowances().filter((function(e){return"commented"===e.approval_manager.approved})):[]},l.isNewApproval=function(e){return!!(l.new_allowances_manager()?l.new_allowances_manager().filter((function(a){return a._id===e})):[]).length},l.DirectorPending=function(){return l.allowances.filter((function(e){return"Approved"===e.approval_manager.approved&&"approve"===e.save_options&&e.approval_manager.seen}))},l.seenDirectorPending=function(){return l.DirectorPending().filter((function(e){return e.f_pending_dr.seen}))},l.NewDirectorPending=function(){return l.DirectorPending().filter((function(e){return!e.f_pending_dr.seen}))},l.F_pending_tl=function(){return l.DirectorPending().filter((function(e){return e.f_pending_tl.emp_id===l.getEmp_id()}))},l.New_F_Pending_tl=function(){return l.F_pending_tl().filter((function(e){return!e.f_pending_tl.seen}))},l.seen_F_Pending_tl=function(){return l.F_pending_tl().filter((function(e){return e.f_pending_tl.seen}))},l.tlApprove=function(){return l.F_pending_tl().filter((function(e){return"approve"===e.f_pending_emp.calculated}))},l.tlNewApprove=function(){return l.tlApprove().filter((function(e){return!e.f_approve_tm.seen}))},l.tlSeenApprove=function(){return l.tlApprove().filter((function(e){return e.f_approve_tm.seen}))},l.IncomingCalculations=function(){return l.DirectorPending().filter((function(e){return e.f_pending_tl.forwarded&&e.f_pending_emp.emp_id===l.getEmp_id()}))},l.seenCalculations=function(){return l.IncomingCalculations()?l.IncomingCalculations().filter((function(e){return e.f_pending_emp.seen})):[]},l.newCalculations=function(){return l.IncomingCalculations()?l.IncomingCalculations().filter((function(e){return!e.f_pending_emp.seen})):[]},l.isCalculationDone=function(e){return!!l.IncomingCalculations().find((function(a){return a._id===e&&("approve"===a.f_pending_emp.calculated||"draft"===a.f_pending_emp.calculated)}))},l.tlCommented=function(){return l.seenCalculations().filter((function(e){return l.isCalculationDone(e._id)&&"commented"===e.f_approve_tm.approved&&!e.f_pending_emp.redone}))},l.redone=function(){return l.tlSeenApprove().filter((function(e){return e.f_pending_emp.redone}))},l.isRedone=function(e){return!!l.redone().find((function(a){return a._id===e}))},l.DrApproveAllowance=function(){return l.allowances.filter((function(e){return e.f_pending_dr.emp_id===l.getEmp_id()&&"Approved"===e.f_approve_tm.approved}))},l.NewDrApprove=function(){return l.DrApproveAllowance().filter((function(e){return!e.f_approve_dr.seen}))},l.seenDrApprove=function(){return l.DrApproveAllowance().filter((function(e){return e.f_approve_dr.seen}))},l.drCommented=function(){return l.seenCalculations().filter((function(e){return l.isCalculationDone(e._id)&&"commented"===e.f_approve_dr.approved&&!e.f_pending_emp.redone_director}))},l.reDone=function(){return l.DrApproveAllowance().filter((function(e){return e.f_pending_emp.redone_director}))},l.isReDone=function(e){return!!l.reDone().find((function(a){return a._id===e}))},l.completed=function(){return l.userAllowances().filter((function(e){return 22===l.progress(e._id)&&!e.all_done}))},l.searchCompleted=function(e){var a=e.toString().toLowerCase(),t=l.completed().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),n=l.completed().filter((function(e){return e.letter_id.toString().toLowerCase().includes(a,0)})),c=l.completed().filter((function(e){return e.destination_place.toString().toLowerCase().includes(a,0)})),r=l.completed().filter((function(e){return e.project_name.toString().toLowerCase().includes(a,0)}));return x([].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(c),Object(b.a)(r)),"_id")},l.unCompleted=function(){return l.userAllowances().filter((function(e){return 22!==l.progress(e._id)||e.all_done}))},l.searchUnCompleted=function(e){var a=e.toString().toLowerCase(),t=l.unCompleted().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),n=l.unCompleted().filter((function(e){return e.letter_id.toString().toLowerCase().includes(a,0)})),c=l.unCompleted().filter((function(e){return e.destination_place.toString().toLowerCase().includes(a,0)})),r=l.unCompleted().filter((function(e){return e.project_name.toString().toLowerCase().includes(a,0)}));return x([].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(c),Object(b.a)(r)),"_id")},l.allCompleted=function(){return l.allowances.filter((function(e){return 22===l.progress(e._id)&&"Approved"===e.f_approve_dr.approved}))},l.searchAllCompleted=function(e){var a=e.toString().toLowerCase(),t=l.allCompleted().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),n=l.allCompleted().filter((function(e){return e.letter_id.toString().toLowerCase().includes(a,0)})),c=l.allCompleted().filter((function(e){return e.destination_place.toString().toLowerCase().includes(a,0)})),r=l.allCompleted().filter((function(e){return e.project_name.toString().toLowerCase().includes(a,0)}));return x([].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(c),Object(b.a)(r)),"_id")},l.searchAllowances=function(e,a){var t=a.toString().toLowerCase(),n=e.filter((function(e){return e.id.toString().toLowerCase().includes(t,0)})),c=e.filter((function(e){return l.Name(e.creater).toString().toLowerCase().includes(t,0)})),r=e.filter((function(e){return e.letter_id.toString().toLowerCase().includes(t,0)})),i=e.filter((function(e){return e.objective.toString().toLowerCase().includes(t,0)})),s=e.filter((function(e){return e.initial_place.toString().toLowerCase().includes(t,0)})),o=e.filter((function(e){return e.destination_place.toString().toLowerCase().includes(t,0)}));return x([].concat(Object(b.a)(n),Object(b.a)(c),Object(b.a)(r),Object(b.a)(i),Object(b.a)(s),Object(b.a)(o)),"_id")},l.allowances=e,l.users=n,l}return Object(N.a)(a,e),a}(y),j=t(200),k=t.n(j),C=function(e,a){localStorage.removeItem("id"),localStorage.removeItem("token"),localStorage.removeItem("auth"),localStorage.removeItem("user_type"),localStorage.removeItem("emp_id"),a.emit("disConnect"),e.history.push("/login")},A=Object(o.withRouter)((function(e){var a=Object(n.useState)({search:"",toggleButton:"",title:"Shemsu Medebir",screen:0,acivateProfile:"",profileOpener:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],o=Object(n.useContext)(m),u=o.togglers,p=o.uiContents,b=o.uiContents,_=b.collapse,v=b.headertheme,h=localStorage,N=h.user_type,x=h.token;Object(n.useEffect)((function(){"system_admin"===N&&x||e.history.push("/login");var a=window.screen.width;r(Object(E.a)({},c,{screen:a})),a<=892&&u(Object(E.a)({},p,{collapse:"closed-sidebar-mobile closed-sidebar"}))}),[N,x]);var y=function(){var e=""===c.toggleButton?"is-active":"",a=window.screen.width<=892?"closed-sidebar-mobile closed-sidebar"===_?"closed-sidebar-mobile closed-sidebar sidebar-mobile-open":"closed-sidebar-mobile closed-sidebar":""===_?"closed-sidebar":"";u(Object(E.a)({},p,{collapse:a})),r(Object(E.a)({},c,{toggleButton:e}))},w=Object(n.useContext)(d),j=w.socket,k=w.allowances,A=w.employees,D=w.users,S=k.state,P=A.state,L=D.state,R=new O(S,P,L);return l.a.createElement("div",{className:"app-header header-shadow "+v},l.a.createElement("div",{className:"app-header__logo"},l.a.createElement("h2",{className:"font-weight-bold show"},"CSA",l.a.createElement(f.a,{icon:g.l})),l.a.createElement("div",{className:"header__pane ml-auto"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"hamburger close-sidebar-btn hamburger--elastic "+c.toggleButton,"data-classname":"closed-sidebar",onClick:function(){return y()}},l.a.createElement("span",{className:"hamburger-box"},l.a.createElement("span",{className:"hamburger-inner"})))))),l.a.createElement("div",{className:"app-header__mobile-menu"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"hamburger hamburger--elastic mobile-toggle-nav",onClick:function(){return y()}},l.a.createElement("span",{className:"hamburger-box"},l.a.createElement("span",{className:"hamburger-inner"}))))),l.a.createElement("div",{className:"app-header__menu"},l.a.createElement("span",null,l.a.createElement("button",{type:"button",className:"btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav "+c.acivateProfile,onClick:function(){return function(){var e=c.acivateProfile,a=c.profileOpener,t=window.screen.width,n=t<=892&&""===e?"active":"",l=t<=892&&""===a?"header-mobile-open":"";r(Object(E.a)({},c,{acivateProfile:n,profileOpener:l}))}()}},l.a.createElement("span",{className:"btn-icon-wrapper"},l.a.createElement("i",{className:"fa fa-ellipsis-v fa-w-6"}))))),l.a.createElement("div",{className:"app-header__content "+c.profileOpener},l.a.createElement("div",{className:"app-header-left"},l.a.createElement("div",{className:"search-wrapper "+c.search},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type to search"}),l.a.createElement("button",{className:"search-icon",onClick:function(){r(Object(E.a)({},c,{search:"active"}))}},l.a.createElement("span",null))),l.a.createElement("button",{className:"close",onClick:function(){r(Object(E.a)({},c,{search:""}))}})),l.a.createElement("ul",{className:"header-menu nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.c,{to:"/messages",className:"nav-link"},l.a.createElement("i",{className:"nav-link-icon fa fa-database"}," "),"Feed backs")))),l.a.createElement("div",{className:"app-header-right"},l.a.createElement("div",{className:"header-btn-lg pr-0"},l.a.createElement("div",{className:"widget-content p-0"},l.a.createElement("div",{className:"widget-content-wrapper"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"btn-group"},l.a.createElement("div",{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",className:"p-0 btn"},l.a.createElement("h4",{className:"font-weight-bold"},"[M] ",l.a.createElement("i",{className:"fa fa-angle-down ml-2 opacity-8"}))),l.a.createElement("div",{tabIndex:"-1",role:"menu","aria-hidden":"true",className:"dropdown-menu dropdown-menu-right"},l.a.createElement("button",{type:"button",onClick:function(){return C(e,j)},tabIndex:"0",className:"dropdown-item"},"Logout")))),l.a.createElement("div",{className:"widget-content-left  ml-3 header-user-info"},l.a.createElement("div",{className:"widget-heading"},R.Name(R.getEmp_id())),l.a.createElement("div",{className:"widget-subheading"},R.Department(R.getEmp_id())," ",R.UserRole(R.getEmp_id()))),l.a.createElement("div",{className:"widget-content-right header-user-info ml-3"},l.a.createElement("button",{type:"button",className:"btn-shadow p-1 btn btn-primary btn-sm show-toastr-example"},l.a.createElement("i",{className:"fa text-white fa-calendar pr-1 pl-1"}," ")))))))))})),D=t(5),S=t.n(D),P=t(12),L=t.n(P),R=t(10),T=t(8),I=function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/department"));case 2:return e=t.sent,a=Object(T.decrptObject)(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}))},F=function(e){return{type:"ADD_DEPARTMENT",payload:e}},B=function(){var e=Object(n.useContext)(d).dispatchDepartment;return Object(n.useEffect)((function(){!function(){var a;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"LOADING_DEPARTMENT"}),t.prev=1,t.next=4,S.a.awrap(I());case 4:a=t.sent,e(F(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}()}),[e]),l.a.createElement("div",null)},q=function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/places"));case 2:return e=t.sent,a=Object(T.decrptObject)(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}))},M=function(e){return{type:"ADD_PLACES",payload:e}},U=function(){var e=Object(n.useContext)(d).dispatchPlaces;return Object(n.useEffect)((function(){!function(){var a;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:"LOADING_PLACES"}),t.next=4,S.a.awrap(q());case 4:a=t.sent,e(M(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[0,8]])}()}),[e]),l.a.createElement("p",null)},G=function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/employee"));case 2:return e=t.sent,a=Object(T.decrptObject)(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}))},Y=function(e){return{type:"ADD_EMPLOYEES",payload:e}},z=function(){var e=Object(n.useContext)(d).dispatchEmployees;return Object(n.useEffect)((function(){!function(){var a;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:"LOADING_EMPLOYEES"}),t.next=4,S.a.awrap(G());case 4:a=t.sent,e(Y(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[0,8]])}()}),[e]),l.a.createElement("p",null)},W=function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/users"));case 2:return e=t.sent,a=Object(T.decrptObject)(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}))},H=function(e){return{type:"ADD_USERS",payload:e}},J=function(){var e=Object(n.useContext)(d).dispatchUsers;return Object(n.useEffect)((function(){!function(){var a;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:"LOADING_USERS"}),t.next=4,S.a.awrap(W());case 4:a=t.sent,e(H(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[0,8]])}()}),[e]),l.a.createElement("p",null)},V=function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/fieldAllowance"));case 2:return e=t.sent,a=Object(T.decrptObject)(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}))},Z=function(e){return{type:"ADD_FIELDALLOWANCE",payload:e}},K=function(){var e=Object(n.useContext)(d).dispatchFieldEmplooyees;return Object(n.useEffect)((function(){!function(){var a;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:"LOADING_FIELDALLOWANCE"}),t.next=4,S.a.awrap(V());case 4:a=t.sent,e(Z(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[0,8]])}()}),[e]),l.a.createElement("p",null)},Q=function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/config"));case 2:return e=t.sent,a=Object(T.decrptObject)(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}))},X=function(e){return{type:"ADD_CONFIG",payload:e}},$=function(){var e=Object(n.useContext)(d).dispatchConfig;return Object(n.useEffect)((function(){!function(){var a;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"LOADING_CONFIG"}),t.prev=1,t.next=4,S.a.awrap(Q());case 4:a=t.sent,e(X(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}()}),[e]),l.a.createElement("p",null)},ee=function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/company"));case 2:return e=t.sent,a=Object(T.decrptObject)(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}))},ae=function(e){return{type:"ADD_COMPANY",payload:e}},te=function(){var e=Object(n.useContext)(d).dispatchCompany;return Object(n.useEffect)((function(){!function(){var a;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"LOADING_COMPANY"}),t.prev=1,t.next=4,S.a.awrap(ee());case 4:a=t.sent,e(ae(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}()}),[e]),l.a.createElement("p",null)},ne=function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/climatePlaces"));case 2:return e=t.sent,a=Object(T.decrptObject)(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}))},le=function(e){return{type:"ADD_PLACES",payload:e}},ce=function(){var e=Object(n.useContext)(d).dispatchClimatePlaces;return Object(n.useEffect)((function(){!function(){var a;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:"LOADING_PLACES"}),t.next=4,S.a.awrap(ne());case 4:a=t.sent,e(le(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[0,8]])}()}),[e]),l.a.createElement("div",null)},re=function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/deductions"));case 2:return e=t.sent,a=Object(T.decrptObject)(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}))},ie=function(e){var a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.awrap(re());case 3:a=t.sent,e({type:"ADD_DEDUCTIONS",payload:a}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[0,7]])},se=function(){var e=Object(n.useContext)(d).dispatchDeductions;return Object(n.useEffect)((function(){e({type:"LOADING_DEDUCTIONS"}),ie(e)}),[]),l.a.createElement("div",null)},oe=function(){var e=Object(n.useContext)(m).uiContents.sidetheme;return l.a.createElement("div",{className:"app-sidebar sidebar-shadow "+e},l.a.createElement("div",{className:"app-header__logo"},l.a.createElement("div",{className:"logo-src"},l.a.createElement(z,null),l.a.createElement(B,null),l.a.createElement(U,null),l.a.createElement(J,null),l.a.createElement(K,null),l.a.createElement($,null),l.a.createElement(te,null),l.a.createElement(ce,null),l.a.createElement(se,null)),l.a.createElement("div",{className:"header__pane ml-auto"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"hamburger close-sidebar-btn hamburger--elastic","data-classname":"closed-sidebar"},l.a.createElement("span",{className:"hamburger-box"},l.a.createElement("span",{className:"hamburger-inner"})))))),l.a.createElement("div",{className:"app-header__mobile-menu"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"hamburger hamburger--elastic mobile-toggle-nav"},l.a.createElement("span",{className:"hamburger-box"},l.a.createElement("span",{className:"hamburger-inner"}))))),l.a.createElement("div",{className:"app-header__menu"},l.a.createElement("span",null,l.a.createElement("button",{type:"button",className:"btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav"},l.a.createElement("span",{className:"btn-icon-wrapper"},l.a.createElement("i",{className:"fa fa-ellipsis-v fa-w-6"}))))),"    ",l.a.createElement("div",{className:"scrollbar-sidebar"},l.a.createElement("div",{className:"app-sidebar__inner"},l.a.createElement("ul",{className:"vertical-nav-menu"},l.a.createElement("li",{className:"app-sidebar__heading"},"Allowance System"),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/configuration",className:"mm-active"},l.a.createElement(f.a,{icon:g.x,className:"metismenu-icon pe-7s-display2"}),"configure")),l.a.createElement("li",{className:"app-sidebar__heading"},"Users"),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/employee"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("h6",null,"Employee"))),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/users"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("h6",null,"users"))),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/fieldAllowance"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("h6",null,"Field allowance"))),l.a.createElement("li",{className:"app-sidebar__heading"},"Organization"),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/company"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("h6",null,"Company"))),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/department"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("h6",null,"Department"),l.a.createElement("i",{className:"metismenu-state-icon pe-7s-angle-down caret-left"}))),l.a.createElement("li",null,l.a.createElement("li",{className:"app-sidebar__heading"},"Place"),l.a.createElement(s.c,{to:"/places"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("h6",null,"Places"),l.a.createElement("i",{className:"metismenu-state-icon pe-7s-angle-down caret-left"})),l.a.createElement(s.c,{to:"/climate_places"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("h6",null,"Climate places"),l.a.createElement("i",{className:"metismenu-state-icon pe-7s-angle-down caret-left"}))),l.a.createElement("li",{className:"app-sidebar__heading"},"Statistics"),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/reports"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),"Reports"))))))},me=function(){var e=Object(n.useState)({collapse:""}),a=Object(i.a)(e,2),t=a[0],c=a[1];return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(A,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(oe,null))))},de=t(683),ue=t(676),pe=t(677),Ee=t(18),fe=(t(271),t(493),function(){return l.a.createElement("div",{className:"spinner"},l.a.createElement("div",{className:"bounce1"}),l.a.createElement("div",{className:"bounce2"}),l.a.createElement("div",{className:"bounce3"}))}),ge=function(){return l.a.createElement("div",{className:"col-lg-12 text-center"},l.a.createElement("div",{className:"spinner-border text-dark text-center",role:"status"},l.a.createElement("span",{className:"sr-only text-center text-dark"},"Loading...")))},be=t(17),_e=function(){var e=Object(n.useState)({emp_id:"",first_name:"",last_name:"",middle_name:"",sex:"M",position:"",department:"",official:!1,salary:"",type:"",check:{female:!1,male:!0},collapse:"",process:"",error:"",success:"",loading:!1,disabled:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d).department,s=r.state,o=r.loading,m=r.error,u=o?l.a.createElement("option",{value:""},l.a.createElement(fe,null)):m?l.a.createElement("option",{value:""},"Department loading failed server is not active try again later or contact system admin to activate the server"):s.map((function(e){return l.a.createElement("option",{value:e.name,key:e._id},e.name)})),p=Object(n.useRef)(null),b=Object(n.useRef)(null),_=Object(n.useRef)(null);return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("form",{onSubmit:function(e){return function(e){var a,n,l,r,i,s,o,m,d,u,f,g,v,h,N,x,y,w;return S.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:if(e.preventDefault(),a=t.emp_id,n=t.middle_name,l=t.salary,r=t.type,i=t.position,s=t.official,o=t.first_name,m=t.last_name,d=t.sex,u=t.department,""===i&&s&&(c(Object(E.a)({},t,{error:"Enter position of manager",process:"",success:""})),p.current.focus()),""!==u||t.official){O.next=8;break}c(Object(E.a)({},t,{error:"Enter Department",process:"",success:""})),b.current.focus(),O.next=23;break;case 8:if(""!==r){O.next=13;break}_.current.focus(),c(Object(E.a)({},t,{error:"Enter user type based on system role",process:"",success:""})),O.next=23;break;case 13:return c(Object(E.a)({},t,{loading:!0,disabled:!0,process:"Registering",error:"",success:""})),f=localStorage,g=f.token,v=f.user_type,h=Object(be.decryptToken)(g),N=Object(T.encryptObject)({emp_id:a,salary:l,middle_name:n,type:r,position:i,official:s,first_name:o,last_name:m,sex:d,department:u,token:h,usertype:v}),O.next=19,S.a.awrap(L.a.post(R.host+"/createEmployee",{data:N}));case 19:x=O.sent,y=Object(T.decrptObject)(x.data),console.log(y),y.error?c(Object(E.a)({},t,{error:y.message.message,disabled:!1,loading:!1,process:"",success:""})):y.created?y.created&&!y.error&&c(Object(E.a)({},t,(w={error:"",success:"Employee has been registered successfully",process:""},Object(Ee.a)(w,"error",""),Object(Ee.a)(w,"disabled",!1),Object(Ee.a)(w,"loading",!1),w))):c(Object(E.a)({},t,{error:y.message,disabled:!1,loading:!1,process:"",success:""}));case 23:case"end":return O.stop()}}))}(e)}},l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h5",{className:"text-center font-weight-bold"},"Register new Employee")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"card-body"},l.a.createElement("p",{className:"font-weight-bold text-center"},"id"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.e,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Employee id",onChange:function(e){c(Object(E.a)({},t,{emp_id:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"First name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.xb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"First name",onChange:function(e){return c(Object(E.a)({},t,{first_name:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Middle name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.xb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Middle name",onChange:function(e){return c(Object(E.a)({},t,{middle_name:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Last name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.xb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Last name",onChange:function(e){return c(Object(E.a)({},t,{last_name:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Sex"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.S,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"radio",name:"gender",value:"male",checked:t.check.male,className:"my-auto mx-3",onChange:function(e){return c(Object(E.a)({},t,{sex:"M",check:{male:!0,female:!1}}))}}),"Male",l.a.createElement("input",{type:"radio",name:"gender",value:"female",className:"my-auto mx-3",checked:t.check.female,onChange:function(e){return c(Object(E.a)({},t,{sex:"F",check:{male:!1,female:!0}}))}})," Female"))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center"},"salary"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.A,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",required:!0,min:"0",placeholder:"salary",onChange:function(e){return c(Object(E.a)({},t,{salary:e.target.value,process:"",error:"",success:""}))}})),l.a.createElement("p",{className:"font-weight-bold text-center"},"official ( if official fill postion of manager)"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Ab,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"font-weight-bold my-auto"},"is employee offical?"),l.a.createElement("input",{className:"my-auto",type:"checkbox",onClick:function(e){return c((function(e){return Object(E.a)({},t,{official:!e.official,position:"",process:"",error:"",success:""})}))},checked:t.official})),t.official?l.a.createElement("div",{className:"input-container"},l.a.createElement("select",{className:"input-field form-control my-auto",id:"position",ref:p,onChange:function(e){return c(Object(E.a)({},t,{position:e.target.value,department:"",process:"",error:"",success:""}))}},l.a.createElement("option",{value:""},"Enter Position"),l.a.createElement("option",{value:"superintendent"},"superintendent ( \u1260\u120b\u12ed \u1200\u120b\u134a )"),l.a.createElement("option",{value:"commissioner"},"commissioner ( \u12a8\u134d\u1270\u129b \u1200\u120b\u134a )"),l.a.createElement("option",{value:"spr_member_1"},"spr member 1 (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 1)"),l.a.createElement("option",{value:"spr_member_2"},"spr member 2 (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 2)"),l.a.createElement("option",{value:"medium_manager"},"Medium level manager ( \u1218\u12ab\u12a8\u1208\u129b \u1200\u120b\u134a )"),l.a.createElement("option",{value:"others"},"others"))):l.a.createElement("p",null),l.a.createElement("p",{className:"font-weight-bold text-center"},"Department"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Y,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",ref:b,onChange:function(e){return c(Object(E.a)({},t,{department:e.target.value,process:"",error:"",success:""}))}},l.a.createElement("option",{value:""},"Enter Department"),u)),l.a.createElement("p",{className:"font-weight-bold text-center"},"User type"),l.a.createElement("div",{className:"input-container"},l.a.createElement("select",{className:"input-field form-control my-auto",ref:_,onChange:function(e){return c(Object(E.a)({},t,{type:e.target.value,process:"",error:"",success:""}))}},l.a.createElement("option",{value:""},"Enter user type"),l.a.createElement("option",{value:"employee"},"Employee"),l.a.createElement("option",{value:"team_leader"},"Team leader ( \u1261\u12f5\u1295 \u1200\u120b\u134a )"),l.a.createElement("option",{value:"director"},"Director"),l.a.createElement("option",{value:"sector_leader"},"sector leader (\u12d8\u122d\u134d \u1200\u120b\u134a)"),l.a.createElement("option",{value:"senior_officer"},"commissioner"),l.a.createElement("option",{value:"system_admin"},"System admin"),l.a.createElement("option",{value:"f_employee"},"Finance Employee"),l.a.createElement("option",{value:"f_team_leader"},"Finance Team leader"),l.a.createElement("option",{value:"f_director"},"Finance Director"),l.a.createElement("option",{value:"f_sector_leader"},"Finance Sector leader"))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},t.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},t.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},t.process),t.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement("div",{className:"input-container"},l.a.createElement("button",{className:"btn btn-info mx-3",type:"reset",disabled:t.disabled,onClick:function(){return c(Object(E.a)({},t,{position:"",sex:"M",official:!1,type:"",success:"",error:"",process:""}))}},l.a.createElement(f.a,{icon:g.Fb}),"Reset"),l.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:t.disabled},l.a.createElement(f.a,{icon:g.nb}),"Register"))))))))},ve=function(e){return l.a.createElement("div",{className:"main-card mb-3 card text-center"},l.a.createElement(f.a,{icon:g.wb,className:"fa-5x text-info float-left"}),l.a.createElement("p",{className:"font-weight-bold"},"First name : ",e.employee.first_name),l.a.createElement("p",{className:"font-weight-bold"},"middle name : ",e.employee.middle_name),l.a.createElement("p",{className:"font-weight-bold"},"last name : ",e.employee.last_name),l.a.createElement("p",{className:"font-weight-bold"},"Department : ",e.employee.department),l.a.createElement("p",{className:"font-weight-bold"},"sex : ",e.employee.sex),l.a.createElement("p",{className:"font-weight-bold"},"salary : ",e.employee.salary),l.a.createElement("p",{className:"font-weight-bold"},"official employee: ",e.employee.official?"Yes":"No"),e.employee.official?l.a.createElement("p",{className:"font-weight-bold"},"position: ",e.employee.position):l.a.createElement("p",null),l.a.createElement("p",{className:"font-weight-bold"},"user type: ",e.employee.type))},he=function(e){var a=Object(n.useState)({emp_id:"",first_name:"",last_name:"",middle_name:"",sex:"M",position:"",department:"",official:!1,salary:"",type:"",check:{female:!1,male:!0},process:"",error:"",success:"",loading:!1,disabled:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=e.employee,o=Object(n.useContext)(d).employees.state;Object(n.useEffect)((function(){r(Object(E.a)({},c,{},s,{check:{female:"F"===s.sex,male:"M"===s.sex}}))}),[]);var m=Object(n.useContext)(d).department,u=m.state,p=m.loading,b=m.error,_=p?l.a.createElement("option",{value:""},l.a.createElement(fe,null)):b?l.a.createElement("option",{value:"",className:"text-danger"},"Department loading failed server is not active try again later or contact system admin to activate the server"):u.map((function(e){return l.a.createElement("option",{value:e.name,key:e._id},e.name)})),v=function(){var e,a,t,n,l,i,o,m,d,u,p,f,g,b,_,v,h,N;return S.a.async((function(x){for(;;)switch(x.prev=x.next){case 0:return e=c.emp_id,a=c.middle_name,t=c.salary,n=c.type,l=c.position,i=c.official,o=c.first_name,m=c.last_name,d=c.sex,u=c.department,r(Object(E.a)({},c,{loading:!0,disabled:!0,process:"uploading",error:"",success:""})),p=localStorage,f=p.token,g=p.user_type,b=Object(be.decryptToken)(f),_=Object(T.encryptObject)({emp_id:e,salary:t,middle_name:a,type:n,position:l,official:i,first_name:o,last_name:m,sex:d,department:u,_id:s._id,token:b,usertype:g}),x.next=7,S.a.awrap(L.a.put(R.host+"/employee",{data:_}));case 7:v=x.sent,(h=Object(T.decrptObject)(v.data)).error?r(Object(E.a)({},c,{error:h.message.message,disabled:!1,loading:!1,process:"",success:""})):h.updated&&!h.error&&r(Object(E.a)({},c,(N={error:"",success:"update successfull",process:""},Object(Ee.a)(N,"error",""),Object(Ee.a)(N,"disabled",!1),Object(Ee.a)(N,"loading",!1),N)));case 10:case"end":return x.stop()}}))};return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("form",{onSubmit:function(e){return function(e){var a,t,n,l,i;return S.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:e.preventDefault(),a=c.emp_id,t=c.type,n=c.position,l=c.official,i=c.department,""===n&&l?r(Object(E.a)({},c,{error:"Enter position of manager",process:"",success:""})):""===t?r(Object(E.a)({},c,{error:"Enter user type based on system role",process:"",success:""})):""===i?r(Object(E.a)({},c,{error:"Enter Department",process:"",success:""})):s.emp_id!==a&&o.filter((function(e){return e.emp_id===a})).length>0?r(Object(E.a)({},c,{error:"Employee is registered with the same id before employee id must be unique",process:"",success:""})):v();case 3:case"end":return m.stop()}}))}(e)}},l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h5",{className:"text-center font-weight-bold"},"Edit Employee")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"card-body"},l.a.createElement("p",{className:"font-weight-bold text-center"},"id"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.e,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",value:c.emp_id,placeholder:"Employee id",onChange:function(e){r(Object(E.a)({},c,{emp_id:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"First name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.xb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",value:c.first_name,placeholder:"First name",onChange:function(e){return r(Object(E.a)({},c,{first_name:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Middle name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.xb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Middle name",value:c.middle_name,onChange:function(e){return r(Object(E.a)({},c,{middle_name:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Last name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.xb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",value:c.last_name,placeholder:"Last name",onChange:function(e){return r(Object(E.a)({},c,{last_name:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Sex"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.S,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"radio",name:"gender",value:"male",checked:c.check.male,className:"my-auto mx-3",onChange:function(e){return r(Object(E.a)({},c,{sex:"M",check:{male:!0,female:!1}}))}}),"Male",l.a.createElement("input",{type:"radio",name:"gender",value:"female",className:"my-auto mx-3",checked:c.check.female,onChange:function(e){return r(Object(E.a)({},c,{sex:"F",check:{male:!1,female:!0}}))}})," Female"))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center"},"salary"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.A,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",required:!0,min:"0",placeholder:"salary",value:c.salary,onChange:function(e){return r(Object(E.a)({},c,{salary:e.target.value,process:"",error:"",success:""}))}})),l.a.createElement("p",{className:"font-weight-bold text-center"},"official ( if official fill postion of manager)"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Ab,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"font-weight-bold my-auto"},"is employee offical?"),l.a.createElement("input",{className:"my-auto",type:"checkbox",onClick:function(e){return r((function(e){return Object(E.a)({},c,{official:!e.official,position:"",process:"",error:"",success:""})}))},checked:c.official})),c.official?l.a.createElement("div",{className:"input-container"},l.a.createElement("select",{className:"input-field form-control my-auto",id:"position",value:c.position,onChange:function(e){return r(Object(E.a)({},c,{position:e.target.value,process:"",error:"",success:""}))}},l.a.createElement("option",{value:c.position},c.position),l.a.createElement("option",{value:"superintendent"},"superintendent ( \u1260\u120b\u12ed \u1200\u120b\u134a )"),l.a.createElement("option",{value:"commissioner"},"commissioner ( \u12a8\u134d\u1270\u129b \u1200\u120b\u134a )"),l.a.createElement("option",{value:"spr_member_1"},"spr member 1 (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 1)"),l.a.createElement("option",{value:"spr_member_2"},"spr member 2 (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 2)"),l.a.createElement("option",{value:"medium_manager"},"Medium level manager ( \u1218\u12ab\u12a8\u1208\u129b \u1200\u120b\u134a )"),l.a.createElement("option",{value:"others"},"others"))):l.a.createElement("p",null),l.a.createElement("p",{className:"font-weight-bold text-center"},"Department"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Y,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",value:c.department,onChange:function(e){return r(Object(E.a)({},c,{department:e.target.value,process:"",error:"",success:""}))}},l.a.createElement("option",{value:c.department},c.department),_)),l.a.createElement("p",{className:"font-weight-bold text-center"},"User type"),l.a.createElement("div",{className:"input-container"},l.a.createElement("select",{className:"input-field form-control my-auto",value:c.type,onChange:function(e){return r(Object(E.a)({},c,{type:e.target.value,process:"",error:"",success:""}))}},l.a.createElement("option",{value:c.type},c.type),l.a.createElement("option",{value:"employee"},"Employee"),l.a.createElement("option",{value:"team_leader"},"Team leader ( \u1261\u12f5\u1295 \u1200\u120b\u134a )"),l.a.createElement("option",{value:"director"},"Director"),l.a.createElement("option",{value:"sector_leader"},"sector leader (\u12d8\u122d\u134d \u1200\u120b\u134a)"),l.a.createElement("option",{value:"senior_officer"},"commissioner"),l.a.createElement("option",{value:"system_admin"},"System admin"),l.a.createElement("option",{value:"f_employee"},"Finance Employee"),l.a.createElement("option",{value:"f_team_leader"},"Finance Team leader"),l.a.createElement("option",{value:"f_director"},"Finance Director"),l.a.createElement("option",{value:"f_sector_leader"},"Finance Sector leader"))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement("div",{className:"input-container"},l.a.createElement("button",{className:"btn btn-info mx-3",type:"reset",disabled:c.disabled,onClick:function(){return r(Object(E.a)({},c,{},s,{check:{female:"F"===s.sex,male:"M"===s.sex},type:s.type}))}},l.a.createElement(f.a,{icon:g.Fb}),"Reset"),l.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:c.disabled},l.a.createElement(f.a,{icon:g.C}),"update"))))))))},Ne=function(e){var a=Object(n.useState)({progress:"",disable:!1,loading:!1,deleted:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},c.deleted?l.a.createElement("h5",{className:"text-center text-success"},l.a.createElement(f.a,{icon:g.r})," Deleted"):l.a.createElement("h5",{className:"text-center text-info"},c.progress),l.a.createElement("p",{className:"text-center"},c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)))),l.a.createElement("div",{className:"row float-right"},c.deleted?l.a.createElement("button",{className:"btn btn-info float-right mx-2",onClick:function(){return e.fetch()},disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Close"):l.a.createElement("button",{className:"btn btn-info float-right",onClick:e.close,disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Cancel"),c.deleted?l.a.createElement("p",null):l.a.createElement("button",{className:"btn btn-primary float-right mx-2",onClick:function(){return function(){var a,t,n,l,i,s,o,m;return S.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return r(Object(E.a)({},c,{progress:"Deleting",disable:!0,loading:!0})),a=e.employee._id,t=localStorage,n=t.token,l=t.user_type,i=Object(be.decryptToken)(n),s=Object(T.encryptObject)({_id:a,token:i,usertype:l}),d.next=7,S.a.awrap(L.a.put(R.host+"/delEmployee",{data:s}));case 7:o=d.sent,(m=Object(T.decrptObject)(o.data)).error?r(Object(E.a)({},c,{progress:"unable to delete try again",disable:!1,loading:!1})):m.deleted&&!m.error&&r(Object(E.a)({},c,{progress:"Delteted sucessfully",disable:!1,loading:!1,deleted:!0,cancel:"close"}));case 10:case"end":return d.stop()}}))}()},disabled:c.disable},l.a.createElement(f.a,{icon:g.r,className:"mx-2 fx-2"}),"Yes")))},xe=t(6),ye=function(e){var a=e.className,t=e.type,c=Object(n.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],m=function(){return o(!s)};return"admin_create_user"===t?l.a.createElement("div",null,l.a.createElement(xe.b,{rounded:!0,onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.ib,className:"mx-2 fa-1x"}),"Register Employee"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"lg",className:a},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"New Employee"),l.a.createElement(pe.a,null,l.a.createElement(_e,null)))):"view_employees"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.H,className:"mx-2 fa-1x text-warning"}),"see"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center"},l.a.createElement(f.a,{icon:g.bb,className:"mx-2"}),e.employee.first_name+" "+e.employee.middle_name),l.a.createElement(pe.a,null,l.a.createElement(ve,{employee:e.employee})))):"edit_employees"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.fb,className:"mx-2 fa-1x"}),"Edit"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"lg",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.fb,className:"mx-2"}),"Edit"),l.a.createElement(pe.a,null,l.a.createElement(he,{employee:e.employee})))):"delete_employees"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 fa-1x"}),"Delete"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a+" dialogue"},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement("p",{className:"text-danger"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 text-danger"}),"Employee is flagged for deletion are you sure you want to delete")),l.a.createElement(pe.a,null,l.a.createElement(Ne,{employee:e.employee,fetch:e.fetch,close:m})))):void 0},we=function(){var e=Object(n.useState)({collapse:"",Employees:[],found:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.employees,o=r.dispatchEmployees,u=s.state,p=s.loading,_=s.error,v=function(){var e;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o({type:"LOADING_EMPLOYEES"}),a.next=4,S.a.awrap(G());case 4:e=a.sent,o(Y(e)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),o({type:"ERROR"});case 11:case"end":return a.stop()}}),null,null,[[0,8]])};Object(n.useEffect)((function(){c(Object(E.a)({},t,{Employees:u}))}),[p]);var h=p?l.a.createElement("tr",null,l.a.createElement("td",{className:"row text-center",colSpan:"5"},l.a.createElement(fe,null))):_?l.a.createElement("tr",null,l.a.createElement("td",{className:"text-danger text-danger",colSpan:"5"},"Loading Employee failed  because server is not active contact system admin to activate it")):t.Employees.length?t.Employees.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.emp_id),l.a.createElement("td",null,e.first_name+" "+e.middle_name+" "+e.last_name),l.a.createElement("td",null,e.department),l.a.createElement("td",null,e.type),l.a.createElement("td",{className:"row"},l.a.createElement(ye,{type:"view_employees",employee:e}),l.a.createElement("p",{className:"text-danger mx-2"},"|"),l.a.createElement(ye,{type:"edit_employees",employee:e,fetch:v}),l.a.createElement("p",{className:"text-danger mx-2"},"|"),l.a.createElement(ye,{type:"delete_employees",employee:e,fetch:v})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"5"},"No users yet")),N=function(e){var a=""===e?u:function(e,a){var t=a.toLowerCase().toLowerCase(),n=e.filter((function(e){return e.first_name.toString().toLowerCase().includes(t,0)})),l=e.filter((function(e){return e.middle_name.toString().toLowerCase().includes(t,0)})),c=e.filter((function(e){return e.last_name.toString().toLowerCase().includes(t,0)})),r=[].concat(Object(b.a)(n),Object(b.a)(l),Object(b.a)(c)),i=e.filter((function(e){return e.emp_id.toString().toLowerCase().includes(t,0)})),s=e.filter((function(e){return e.department.toString().toLowerCase().includes(t,0)})),o=e.filter((function(e){return e.type.toString().toLowerCase().includes(t,0)})),m=[].concat(Object(b.a)(r),Object(b.a)(i),Object(b.a)(s),Object(b.a)(o));return x(m,"_id")}(u,e),n=""!==e;c(Object(E.a)({},t,{Employees:a,found:n}))};return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(A,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(oe,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"},l.a.createElement(ye,{type:"admin_create_user",fetch:v})),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type id,name,department or usertype search",onChange:function(e){return N(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-md-6 col-xl-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-midnight-bloom"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Total Employees"),l.a.createElement("div",{className:"widget-subheading"},"Registered")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,u.length)))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"main-card mb-3 card mt-2"},t.found?l.a.createElement("h5",{className:"text-center"},"Employees found:",t.Employees.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Employee id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"Name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.P,className:"mx-2"}),"Department"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.j,className:"mx-2"}),"user type"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.db,className:"mx-2"}),"operation"))),l.a.createElement(xe.h,null,h))))))))))},Oe={state:[],loading:!0,error:!1},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_EMPLOYEES":return{state:a.payload,loading:!1,error:!1};case"LOADING_EMPLOYEES":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},ke=function(e,a){return e.filter((function(e){var t=a.toString().toLowerCase();return e.name.toString().toLowerCase()===t})).length>0},Ce=function(e,a){return e.filter((function(e){var t=a.toString().toLowerCase();return e.emp_id.toString().toLowerCase()===t})).length>0},Ae=function(){var e=Object(n.useState)({name:"",office_number:"",phone:"",process:"",error:"",success:"",disable:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d).department.state;return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("form",{onSubmit:function(e){return function(e){var a,n,l,i,s,o,m,d,u,p;return S.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(e.preventDefault(),a=t.name,n=t.office_number,l=t.phone,c(Object(E.a)({},t,{process:"saving...",error:"",success:"",disable:!0})),!ke(r,t.name)){f.next=8;break}c(Object(E.a)({},t,{disable:!1,process:"",error:"you have registered department with the same name",success:""})),f.next=22;break;case 8:return i=localStorage,s=i.token,o=i.user_type,m=Object(be.decryptToken)(s),d=Object(T.encryptObject)({name:a,office_number:n,phone:l,token:m,usertype:o}),f.prev=11,f.next=14,S.a.awrap(L.a.post(R.host+"/department",{data:d}));case 14:u=f.sent,(p=Object(T.decrptObject)(u.data)).error?c(Object(E.a)({},t,{disable:!1,process:"",error:"saving department failed try again",success:""})):p.error||p.created?c(Object(E.a)({},t,{disable:!1,process:"",error:"",success:"saved successfully"})):c(Object(E.a)({},t,{disable:!1,process:"",error:p.message,success:""})),f.next=22;break;case 19:f.prev=19,f.t0=f.catch(11),c(Object(E.a)({},t,{disable:!1,process:"",error:"saving failed server is not active try again later or contact system admin to activate the server",success:""}));case 22:case"end":return f.stop()}}),null,null,[[11,19]])}(e)}},l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h5",{className:"text-center font-weight-bold"},"Register new Department")),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Y,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Name",onChange:function(e){c(Object(E.a)({},t,{name:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"office description"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.k,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"office number",onChange:function(e){c(Object(E.a)({},t,{office_number:e.target.value,process:"",error:"",success:""}))}})),l.a.createElement("p",{className:"font-weight-bold text-center"},"phone number"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.gb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Department phone number",onChange:function(e){c(Object(E.a)({},t,{phone:e.target.value,process:"",error:"",success:""}))}})),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},t.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},t.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},t.process)),l.a.createElement("button",{type:"submit",className:"btn btn-large btn-primary float-right mt-2",disabled:t.disable},"Save"),l.a.createElement("button",{className:"btn btn-info btn-large float-left mt-2",type:"reset",disabled:t.disable,onClick:function(e){return c(Object(E.a)({},t,{office_number:"",phone:"",error:"",process:"",success:""}))}},"Reset")))))},De=function(e){var a=Object(n.useState)({name:"",office_number:"",phone:"",process:"",error:"",success:"",checker:!1,disable:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1];Object(n.useEffect)((function(){r(Object(E.a)({},c,{},e.department))}),[e.department]);var s=Object(n.useContext)(d).department.state,o=function(){var a,t,n,l,i,s,o;return S.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return r(Object(E.a)({},c,{success:"",process:"updating...",error:"",disable:!0})),a=localStorage,t=a.token,n=a.user_type,l=Object(be.decryptToken)(t),i=Object(T.encryptObject)({name:c.name,office_number:c.office_number,phone:c.phone,_id:e.department._id,token:l,usertype:n}),m.prev=4,m.next=7,S.a.awrap(L.a.put(R.host+"/department",{data:i}));case 7:s=m.sent,(o=Object(T.decrptObject)(s.data)).error?r(Object(E.a)({},c,{disable:!1,process:"",error:"updating failed try again",success:""})):o.updated&&!o.error&&r(Object(E.a)({},c,{disable:!1,process:"",error:"",success:"Edited successfully"})),m.next=15;break;case 12:m.prev=12,m.t0=m.catch(4),r(Object(E.a)({},c,{disable:!1,process:"",error:"Editing failed server is not active try again later or contact system admin to activate the server",success:""}));case 15:case"end":return m.stop()}}),null,null,[[4,12]])};return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("form",{onSubmit:function(e){return function(e){return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.preventDefault(),c.checker&&ke(s,c.name)?r(Object(E.a)({},c,{disable:!1,process:"",error:"you have registered department with the same name",success:""})):o();case 2:case"end":return a.stop()}}))}(e)}},l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h5",{className:"text-center font-weight-bold"},"Edit Department")),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Y,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",value:c.name,placeholder:"Name",onChange:function(a){r(Object(E.a)({},c,{name:a.target.value,process:"",error:"",success:"",checker:e.department.name!==a.target.value}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"office number"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.k,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",value:c.office_number,placeholder:"office number",onChange:function(e){r(Object(E.a)({},c,{office_number:e.target.value,process:"",error:"",success:""}))}})),l.a.createElement("p",{className:"font-weight-bold text-center"},"phone number"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.gb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",value:c.phone,placeholder:"Department phone number",onChange:function(e){r(Object(E.a)({},c,{phone:e.target.value,process:"",error:"",success:""}))}})),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process)),l.a.createElement("button",{type:"submit",className:"btn btn-large btn-primary float-right mt-2",disabled:c.disable},"Save"),l.a.createElement("button",{className:"btn btn-info btn-large float-left mt-2",type:"reset",disabled:c.disable,onClick:function(a){return r(Object(E.a)({},c,{office_number:e.department.office_number,phone:e.department.phone,name:e.department.name,error:"",process:"",success:""}))}},"Reset")))))},Se=function(e){var a=Object(n.useState)({progress:"",disable:!1,loading:!1,deleted:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},c.deleted?l.a.createElement("h5",{className:"text-center text-success"},l.a.createElement(f.a,{icon:g.r})," Deleted"):l.a.createElement("h5",{className:"text-center text-info"},c.progress),l.a.createElement("p",{className:"text-center"},c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)))),l.a.createElement("div",{className:"row float-right"},c.deleted?l.a.createElement("button",{className:"btn btn-info float-right mx-2",onClick:function(){return e.fetch()},disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Close"):l.a.createElement("button",{className:"btn btn-info float-right",onClick:e.close,disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Cancel"),c.deleted?l.a.createElement("p",null):l.a.createElement("button",{className:"btn btn-primary float-right mx-2",onClick:function(){return function(){var a,t,n,l,i,s,o,m;return S.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return r(Object(E.a)({},c,{progress:"Deleting",disable:!0,loading:!0})),a=e.department._id,t=localStorage,n=t.token,l=t.user_type,i=Object(be.decryptToken)(n),s=Object(T.encryptObject)({_id:a,token:i,usertype:l}),d.next=7,S.a.awrap(L.a.put(R.host+"/delDepartment",{data:s}));case 7:o=d.sent,m=Object(T.decrptObject)(o.data);try{m.error?r(Object(E.a)({},c,{progress:"unable to delete try again",disable:!1,loading:!1})):m.deleted&&!m.error&&r(Object(E.a)({},c,{progress:"Delteted sucessfully",disable:!1,loading:!1,deleted:!0,cancel:"close"}))}catch(u){r(Object(E.a)({},c,{progress:"Editing failed server is not active try again later or contact system admin to activate the server",disable:!1,loading:!1}))}case 10:case"end":return d.stop()}}))}()},disabled:c.disable},l.a.createElement(f.a,{icon:g.r,className:"mx-2 fx-2"}),"Yes")))},Pe=function(e){var a=e.className,t=e.type,c=Object(n.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],m=function(){return o(!s)};return"create_department"===t?l.a.createElement("div",null,l.a.createElement(xe.b,{rounded:!0,onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.ib,className:"mx-2 fa-1x"}),"Register Department"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.P,className:"mx-2"}),"New Department"),l.a.createElement(pe.a,null,l.a.createElement(Ae,null)))):"edit_department"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.fb,className:"mx-2 fa-1x"}),"Edit"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.fb,className:"mx-2"}),"Edit"),l.a.createElement(pe.a,null,l.a.createElement(De,{department:e.department})))):"delete_department"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 fa-1x"}),"Delete"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a+" dialogue"},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement("p",{className:"text-danger"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 text-danger"}),"Department is flagged for deletion are you sure you want to delete")),l.a.createElement(pe.a,null,l.a.createElement(Se,{department:e.department,fetch:e.fetch,close:m})))):void 0},Le=function(){var e=Object(n.useState)({collapse:"",found:!1,departments:[]}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.department,o=r.dispatchDepartment,u=s.state,p=s.loading,_=s.error,v=function(e){var a=""===e?u:function(e,a){var t=a.toString().toLowerCase(),n=e.filter((function(e){return e.name.toString().toLowerCase().includes(t)})),l=e.filter((function(e){return e.office_number.toString().toLowerCase().includes(t)})),c=e.filter((function(e){return e.phone.toString().toLowerCase().includes(t)})),r=[].concat(Object(b.a)(n),Object(b.a)(l),Object(b.a)(c));return x(r,"_id")}(u,e),n=""!==e;c(Object(E.a)({},t,{departments:a,found:n}))};Object(n.useEffect)((function(){c(Object(E.a)({},t,{departments:u}))}),[p]);var h=function(){var e;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o({type:"LOADING_DEPARTMENT"}),a.next=4,S.a.awrap(I());case 4:e=a.sent,o(F(e)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),o({type:"ERROR"});case 11:case"end":return a.stop()}}),null,null,[[0,8]])},N=p?l.a.createElement("tr",null,l.a.createElement("td",{className:"row text-center",colSpan:"5"},l.a.createElement(fe,null))):_?l.a.createElement("tr",null,l.a.createElement("td",{className:"text-danger text-danger",colSpan:"5"},"Loading department failed  because server is not active contact system admin to activate it")):t.departments.length?t.departments.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.office_number),l.a.createElement("td",null,e.phone),l.a.createElement("td",{className:"row"},l.a.createElement(Pe,{type:"edit_department",department:e,fetch:h}),l.a.createElement("p",{className:"text-danger mx-2"},"|"),l.a.createElement(Pe,{type:"delete_department",department:e,fetch:h})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"5"},"No Department yet"));return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(A,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(oe,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"},l.a.createElement(Pe,{type:"create_department",fetch:h})),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Department name,office,phone number",onChange:function(e){return v(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null)))))),l.a.createElement("div",{class:"col-md-6 col-xl-4"},l.a.createElement("div",{class:"card mb-3 widget-content bg-arielle-smile"},l.a.createElement("div",{class:"widget-content-wrapper text-white"},l.a.createElement("div",{class:"widget-content-left"},l.a.createElement("div",{class:"widget-heading"},"Totall Department"),l.a.createElement("div",{class:"widget-subheading"},"Registered")),l.a.createElement("div",{class:"widget-content-right"},l.a.createElement("div",{class:"widget-numbers text-white"},l.a.createElement("span",null,u.length)))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"main-card mb-3 card mt-2"},t.found?l.a.createElement("h5",{className:"text-center"},"Departments found:",t.departments.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.P,className:"mx-2"}),"Department name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.k,className:"mx-2"}),"office"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.gb,className:"mx-2"}),"Phone"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.db,className:"mx-2"}),"operation"))),l.a.createElement(xe.h,null,N))))))))))},Re={state:[],loading:!0,error:!1},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_DEPARTMENT":return{state:a.payload,loading:!1,error:!1};case"LOADING_DEPARTMENT":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},Ie=function(e){var a=Object(n.useState)({progress:"",disable:!1,loading:!1,deleted:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},c.deleted?l.a.createElement("h5",{className:"text-center text-success"},l.a.createElement(f.a,{icon:g.r})," Deleted"):l.a.createElement("h5",{className:"text-center text-info"},c.progress),l.a.createElement("p",{className:"text-center"},c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)))),l.a.createElement("div",{className:"row float-right"},c.deleted?l.a.createElement("button",{className:"btn btn-info float-right mx-2",onClick:function(){return e.fetch()},disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Close"):l.a.createElement("button",{className:"btn btn-info float-right",onClick:e.close,disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Cancel"),c.deleted?l.a.createElement("p",null):l.a.createElement("button",{className:"btn btn-primary float-right mx-2",onClick:function(){return function(){var a,t,n,l,i,s,o,m;return S.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return r(Object(E.a)({},c,{progress:"Deleting",disable:!0,loading:!0})),a=e.places._id,t=localStorage,n=t.token,l=t.user_type,i=Object(be.decryptToken)(n),s=Object(T.encryptObject)({_id:a,token:i,usertype:l}),d.next=7,S.a.awrap(L.a.put(R.host+"/delPlace",{data:s}));case 7:o=d.sent,(m=Object(T.decrptObject)(o.data)).error?r(Object(E.a)({},c,{progress:"unable to delete try again",disable:!1,loading:!1})):m.deleted&&!m.error&&r(Object(E.a)({},c,{progress:"Delteted sucessfully",disable:!1,loading:!1,deleted:!0,cancel:"close"}));case 10:case"end":return d.stop()}}))}()},disabled:c.disable},l.a.createElement(f.a,{icon:g.r,className:"mx-2 fx-2"}),"Yes")))},Fe=function(){var e=Object(n.useState)({name:"",region:"",type:"",superintendent_allowance:"",higher_officer_allowance:"",spr_members_1:"",spr_members_2:"",other_allowances:"",normal_scale_1:"",normal_scale_2:"",normal_scale_3:"",climate_allowances:"",process:"",success:"",error:"",disable:!1,addname:"",loading:!1,official:!1,normal:!0}),a=Object(i.a)(e,2),t=a[0],c=a[1];return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("form",{onSubmit:function(e){return function(e){var a,n,l,r,i,s,o,m,d,u,p,f,g,b,_,v,h,N,x;return S.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(e.preventDefault(),t.official||t.normal){y.next=5;break}c(Object(E.a)({},t,{error:"Allowance in any kind is not set",process:"",success:""})),y.next=30;break;case 5:if(""!==t.region){y.next=9;break}c(Object(E.a)({},t,{error:"Enter region",process:"",success:""})),y.next=30;break;case 9:if(""!==t.type){y.next=13;break}c(Object(E.a)({},t,{error:"Enter place type ",process:"",success:""})),y.next=30;break;case 13:return c(Object(E.a)({},t,{disable:!0,process:"registering...",loading:!0,error:"",success:""})),a=localStorage,n=a.token,l=a.user_type,r=Object(be.decryptToken)(n),i=t.name,s=t.region,o=t.type,m=t.superintendent_allowance,d=t.higher_officer_allowance,u=t.spr_members_1,p=t.spr_members_2,f=t.other_allowances,g=t.normal_scale_1,b=t.normal_scale_2,_=t.normal_scale_3,v=t.climate_allowances,h=Object(T.encryptObject)({name:i,region:s,type:o,superintendent_allowance:m,higher_officer_allowance:d,spr_members_1:u,spr_members_2:p,other_allowances:f,normal_scale_1:g,normal_scale_2:b,normal_scale_3:_,climate_allowances:v,token:r,usertype:l}),y.prev=18,y.next=21,S.a.awrap(L.a.post(R.host+"/places",{data:h}));case 21:N=y.sent,(x=Object(T.decrptObject)(N.data)).error?c(Object(E.a)({},t,{error:"Error while ssaving try again later",disable:!1,loading:!1,success:""})):x.created&&!x.error&&c(Object(E.a)({},t,{success:"save successful",disable:!1,loading:!1,error:""})),y.next=30;break;case 26:y.prev=26,y.t0=y.catch(18),console.log(y.t0),c(Object(E.a)({},t,{error:"saving failed server is not active try again later or contact system admin to activate the server",disable:!1,loading:!1,success:""}));case 30:case"end":return y.stop()}}),null,null,[[18,26]])}(e)}},l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h5",{className:"text-center font-weight-bold"},"Register new Place")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"card-body"},l.a.createElement("p",{className:"font-weight-bold text-center"},"name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"my-auto mx-2"},"place has name?"),l.a.createElement("input",{className:"my-auto",type:"checkbox",onClick:function(e){return c((function(e){return Object(E.a)({},t,{addname:!e.addname,name:"",position:"",process:"",error:"",success:""})}))},checked:t.addname}),t.addname?l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"name",required:!0,onChange:function(e){c(Object(E.a)({},t,{name:e.target.value,process:"",error:"",success:""}))},value:t.name}):l.a.createElement("p",null)),l.a.createElement("p",{className:"font-weight-bold text-center"},"Region"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.I,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return c(Object(E.a)({},t,{region:e.target.value,process:"",error:"",success:""}))}},l.a.createElement("option",{value:""},"Enter region"),l.a.createElement("option",{value:"Amhara"},"Amhara"),l.a.createElement("option",{value:"Oromia"},"Oromia"),l.a.createElement("option",{value:"Tigrai"},"Tigrai"),l.a.createElement("option",{value:"Somalia"},"Somalia"),l.a.createElement("option",{value:"Benshangul"},"Benshangul"),l.a.createElement("option",{value:"Afar"},"Afar"),l.a.createElement("option",{value:"Gambela"},"Gambela"),l.a.createElement("option",{value:"SPNR"},"south nation people"),l.a.createElement("option",{value:"Sidama"},"Sidama"),l.a.createElement("option",{value:"Harari"},"Harari"),l.a.createElement("option",{value:"DireDewa"},"DireDewa"),l.a.createElement("option",{value:"addis_ababa"},"Addis Ababa"))),l.a.createElement("p",{className:"font-weight-bold text-center"},"place type"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return c(Object(E.a)({},t,{type:e.target.value,process:"",error:"",success:""}))}},l.a.createElement("option",{value:""},"Enter place type"),l.a.createElement("option",{value:"state_city"},"State city"),l.a.createElement("option",{value:"zone"},"Zone"),l.a.createElement("option",{value:"woreda"},"woreda"),l.a.createElement("option",{value:"rural_kebele"},"Rural kebele"))),l.a.createElement("p",{className:"font-weight-bold text-center"},"Enter official or normal scale allowance"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"my-auto mx-2"},"official allowance"),l.a.createElement("input",{className:"my-auto",type:"checkbox",onClick:function(e){return c((function(e){return Object(E.a)({},t,{official:!e.official,normal:!1,addname:!0,position:"",process:"",error:"",success:"",normal_scale_1:"",normal_scale_2:"",normal_scale_3:""})}))},checked:t.official}),l.a.createElement("p",{className:"my-auto mx-2"},"Normal allowance"),l.a.createElement("input",{className:"my-auto",type:"checkbox",onClick:function(e){return c((function(e){return Object(E.a)({},t,{normal:!e.normal,official:!1,spr_members_1:"",spr_members_2:"",other_allowances:"",superintendent_allowance:"",position:"",process:"",error:"",success:""})}))},checked:t.normal})))),l.a.createElement("div",{className:"col-lg-6"},t.official?l.a.createElement("div",null,l.a.createElement("p",{className:"font-weight-bold text-center"},"superintendent ( \u1260\u120b\u12ed \u1200\u120b\u134a ) allowance"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"superintendent ( \u1260\u120b\u12ed \u1200\u120b\u134a ) allowance",min:"0",onChange:function(e){return c(Object(E.a)({},t,{superintendent_allowance:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Higher allowance ( \u12a8\u134d\u1270\u129b \u1200\u120b\u134a )"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"Higher allowance ( \u12a8\u134d\u1270\u129b \u1200\u120b\u134a )",onChange:function(e){return c(Object(E.a)({},t,{higher_officer_allowance:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"State people representives allowances( (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 1))"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"spr one (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 1)",onChange:function(e){return c(Object(E.a)({},t,{spr_members_1:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"State people representives allowances( (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 2))"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"SPR (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 2)",onChange:function(e){return c(Object(E.a)({},t,{spr_members_2:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"other allowances"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"other allowances",onChange:function(e){return c(Object(E.a)({},t,{other_allowances:e.target.value,process:"",error:"",success:""}))},required:!0}))):l.a.createElement("p",null),t.normal?l.a.createElement("div",null,l.a.createElement("p",{className:"font-weight-bold text-center"},"Normal scale one allowances"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"Noraml scale one",onChange:function(e){return c(Object(E.a)({},t,{normal_scale_1:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Normal scale two allowances"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"Noraml scale two",onChange:function(e){return c(Object(E.a)({},t,{normal_scale_2:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Normal scale three allowances"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"Noraml scale three",onChange:function(e){return c(Object(E.a)({},t,{normal_scale_3:e.target.value,process:"",error:"",success:""}))},required:!0}))):l.a.createElement("p",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},t.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},t.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},t.process),t.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement("div",{className:"input-container"},l.a.createElement("button",{className:"btn btn-info mx-3",type:"reset",disabled:t.disable,onClick:function(){return c(Object(E.a)({},t,{region:"",type:"",official:!1,normal:!1,success:"",error:"",process:""}))}},l.a.createElement(f.a,{icon:g.Fb}),"Reset"),l.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:t.disable},l.a.createElement(f.a,{icon:g.nb}),"Register"))))))))},Be=function(e){return l.a.createElement("div",{className:"main-card mb-3 card text-center"},l.a.createElement(f.a,{icon:g.T,className:"fa-5x text-info float-left"}),l.a.createElement("p",{className:"font-weight-bold"}," name : ",e.places.name),l.a.createElement("p",{className:"font-weight-bold"},"Region : ",e.places.region),""===e.places.superintendent_allowance||null===e.places.superintendent_allowance?l.a.createElement("div",null,l.a.createElement("p",{className:"font-weight-bold"},"Normal scale one allowance : ",e.places.normal_scale_1),l.a.createElement("p",{className:"font-weight-bold"},"Normal scale two allowance : ",e.places.normal_scale_2),l.a.createElement("p",{className:"font-weight-bold"},"Normal scale three allowance : ",e.places.normal_scale_3)):l.a.createElement("div",null,l.a.createElement("p",{className:"font-weight-bold"},"superintendent allowance : ",e.places.superintendent_allowance),l.a.createElement("p",{className:"font-weight-bold"},"Higher officer allowance : ",e.places.higher_officer_allowance),l.a.createElement("p",{className:"font-weight-bold"},"state people representatives 1 allowance : ",e.places.spr_members_1),l.a.createElement("p",{className:"font-weight-bold"},"state people representatives 2 allowance : ",e.places.spr_members_2),l.a.createElement("p",{className:"font-weight-bold"},"other allowances: ",e.places.other_allowances)))},qe=function(e){var a=Object(n.useState)({name:"",region:"",type:"",superintendent_allowance:"",higher_officer_allowance:"",spr_members_1:"",spr_members_2:"",other_allowances:"",normal_scale_1:"",normal_scale_2:"",normal_scale_3:"",climate_allowances:"",process:"",success:"",error:"",disable:!1,addname:"",loading:!1,official:!1,normal:!0}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=""!==e.places.superintendent_allowance&&null!==e.places.superintendent_allowance,o=""!==e.places.normal_scale_1&&null!==e.places.normal_scale_1,m=""!==e.places.name&&null!==e.places.addname&&!e.places.addname;Object(n.useEffect)((function(){r(Object(E.a)({},e.places,{official:s,normal:o,addname:m}))}),[]);return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("form",{onSubmit:function(e){return function(e){var a,t,n,l,i,s,o,m,d,u,p,f,g,b,_,v,h,N,x,y;return S.a.async((function(w){for(;;)switch(w.prev=w.next){case 0:if(e.preventDefault(),c.official||c.normal){w.next=5;break}r(Object(E.a)({},c,{error:"Allowance in any kind is not set",process:"",success:""})),w.next=29;break;case 5:if(""!==c.region){w.next=9;break}r(Object(E.a)({},c,{error:"Enter region",process:"",success:""})),w.next=29;break;case 9:if(""!==c.type){w.next=13;break}r(Object(E.a)({},c,{error:"Enter place type ",process:"",success:""})),w.next=29;break;case 13:return r(Object(E.a)({},c,{disable:!0,process:"updating...",loading:!0,error:"",success:""})),a=localStorage,t=a.token,n=a.user_type,l=Object(be.decryptToken)(t),i=c.name,s=c.region,o=c.type,m=c.superintendent_allowance,d=c.higher_officer_allowance,u=c.spr_members_1,p=c.spr_members_2,f=c.other_allowances,g=c.normal_scale_1,b=c.normal_scale_2,_=c.normal_scale_3,v=c.climate_allowances,h=c._id,N=Object(T.encryptObject)({name:i,region:s,type:o,superintendent_allowance:m,higher_officer_allowance:d,spr_members_1:u,spr_members_2:p,other_allowances:f,normal_scale_1:g,normal_scale_2:b,normal_scale_3:_,climate_allowances:v,_id:h,usertype:n,token:l}),w.prev=18,w.next=21,S.a.awrap(L.a.put(R.host+"/places",{data:N}));case 21:x=w.sent,(y=Object(T.decrptObject)(x.data)).error?r(Object(E.a)({},c,{error:"Error while updating try again later",disable:!1,loading:!1,success:""})):y.updated&&!y.error&&r(Object(E.a)({},c,{success:"update successful",disable:!1,loading:!1,error:""})),w.next=29;break;case 26:w.prev=26,w.t0=w.catch(18),r(Object(E.a)({},c,{error:"updating failed server is not active try again later or contact system admin to activate the server",disable:!1,loading:!1,success:""}));case 29:case"end":return w.stop()}}),null,null,[[18,26]])}(e)}},l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h5",{className:"text-center font-weight-bold"},"Edit place")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"card-body"},l.a.createElement("p",{className:"font-weight-bold text-center"},"name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"my-auto mx-2"},"place has name?"),l.a.createElement("input",{className:"my-auto",type:"checkbox",onClick:function(e){return r((function(e){return Object(E.a)({},c,{addname:!e.addname,position:"",process:"",error:"",success:""})}))},checked:c.addname}),c.addname?l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",value:c.name,placeholder:"name",required:!0,onChange:function(e){r(Object(E.a)({},c,{name:e.target.value,process:"",error:"",success:""}))}}):l.a.createElement("p",null)),l.a.createElement("p",{className:"font-weight-bold text-center"},"Region"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.I,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",value:c.region,onChange:function(e){return r(Object(E.a)({},c,{region:e.target.value,process:"",error:"",success:""}))}},l.a.createElement("option",{value:""},"Enter region"),l.a.createElement("option",{value:"Amhara"},"Amhara"),l.a.createElement("option",{value:"Oromia"},"Oromia"),l.a.createElement("option",{value:"Tigrai"},"Tigrai"),l.a.createElement("option",{value:"Somalia"},"Somalia"),l.a.createElement("option",{value:"Benshangul"},"Benshangul"),l.a.createElement("option",{value:"Afar"},"Afar"),l.a.createElement("option",{value:"Gambela"},"Gambela"),l.a.createElement("option",{value:"SPNR"},"south nation people"),l.a.createElement("option",{value:"Sidama"},"Sidama"),l.a.createElement("option",{value:"Harari"},"Harari"),l.a.createElement("option",{value:"DireDewa"},"DireDewa"))),l.a.createElement("p",{className:"font-weight-bold text-center"},"place type"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",value:c.type,onChange:function(e){return r(Object(E.a)({},c,{type:e.target.value,process:"",error:"",success:""}))}},l.a.createElement("option",{value:""},"Enter place type"),l.a.createElement("option",{value:"state_city"},"State city"),l.a.createElement("option",{value:"zone"},"Zone"),l.a.createElement("option",{value:"woreda"},"woreda"),l.a.createElement("option",{value:"rural_kebele"},"Rural kebele"))),l.a.createElement("p",{className:"font-weight-bold text-center"},"climate allowances"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",value:c.climate_allowances,onChange:function(e){return r(Object(E.a)({},c,{climate_allowances:e.target.value,process:"",error:"",success:""}))}},l.a.createElement("option",{value:c.climate_allowances},c.climate_allowances),l.a.createElement("option",{value:"level_1"},"level one"),l.a.createElement("option",{value:"level_2"},"level two"),l.a.createElement("option",{value:"level_3"},"level three"))),l.a.createElement("p",{className:"font-weight-bold text-center"},"Enter official or normal scale allowance"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"my-auto mx-2"},"official allowance"),l.a.createElement("input",{className:"my-auto",type:"checkbox",value:c.official,onClick:function(e){return r((function(e){return Object(E.a)({},c,{official:!e.official,normal:!1,addname:!0,position:"",process:"",error:"",success:"",normal_scale_1:"",normal_scale_2:"",normal_scale_3:""})}))},checked:c.official}),l.a.createElement("p",{className:"my-auto mx-2"},"Normal allowance"),l.a.createElement("input",{className:"my-auto",type:"checkbox",onClick:function(e){return r((function(e){return Object(E.a)({},c,{normal:!e.normal,official:!1,position:"",process:"",error:"",success:"",spr_members_1:"",spr_members_2:"",other_allowances:"",superintendent_allowance:""})}))},checked:c.normal})))),l.a.createElement("div",{className:"col-lg-6"},c.official?l.a.createElement("div",null,l.a.createElement("p",{className:"font-weight-bold text-center"},"superintendent ( \u1260\u120b\u12ed \u1200\u120b\u134a ) allowance"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"superintendent ( \u1260\u120b\u12ed \u1200\u120b\u134a ) allowance",min:"0",onChange:function(e){return r(Object(E.a)({},c,{superintendent_allowance:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.superintendent_allowance})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Higher allowance ( \u12a8\u134d\u1270\u129b \u1200\u120b\u134a )"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"Higher allowance ( \u12a8\u134d\u1270\u129b \u1200\u120b\u134a )",onChange:function(e){return r(Object(E.a)({},c,{higher_officer_allowance:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.higher_officer_allowance})),l.a.createElement("p",{className:"font-weight-bold text-center"},"State people representives allowances( (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 1))"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"spr one (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 1)",onChange:function(e){return r(Object(E.a)({},c,{spr_members_1:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.spr_members_1})),l.a.createElement("p",{className:"font-weight-bold text-center"},"State people representives allowances( (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 2))"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"SPR (\u12ad\u120d\u120d \u121d/\u1264\u1275 \u12a0\u1263\u120d 2)",onChange:function(e){return r(Object(E.a)({},c,{spr_members_2:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.spr_members_2})),l.a.createElement("p",{className:"font-weight-bold text-center"},"other allowances"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"other allowances",onChange:function(e){return r(Object(E.a)({},c,{other_allowances:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.other_allowances}))):l.a.createElement("p",null),c.normal?l.a.createElement("div",null,l.a.createElement("p",{className:"font-weight-bold text-center"},"Normal scale one allowances"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"Noraml scale one",onChange:function(e){return r(Object(E.a)({},c,{normal_scale_1:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.normal_scale_1})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Normal scale two allowances"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"Noraml scale two",onChange:function(e){return r(Object(E.a)({},c,{normal_scale_2:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.normal_scale_2})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Normal scale three allowances"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"Noraml scale three",onChange:function(e){return r(Object(E.a)({},c,{normal_scale_3:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.normal_scale_3}))):l.a.createElement("p",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement("div",{className:"input-container"},l.a.createElement("button",{className:"btn btn-info mx-3",type:"reset",disabled:c.disable,onClick:function(){return r(Object(E.a)({},c,{},e.places,{official:s,normal:o,addname:m,success:"",error:"",process:""}))}},l.a.createElement(f.a,{icon:g.Fb}),"Reset"),l.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:c.disable},l.a.createElement(f.a,{icon:g.nb}),"Update"))))))))},Me=function(e){var a=e.className,t=e.type,c=Object(n.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],m=function(){return o(!s)};return"create_place"===t?l.a.createElement("div",null,l.a.createElement(xe.b,{rounded:!0,onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.ib,className:"mx-2 fa-1x"}),"create place"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"xl",className:a},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.v,className:"mx-2"}),"New Place"),l.a.createElement(pe.a,null,l.a.createElement(Fe,null)))):"view_places"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.H,className:"mx-2 fa-1x text-warning"}),"see"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center"},l.a.createElement(f.a,{icon:g.bb,className:"mx-2"}),e.places.region+" "+e.places.type),l.a.createElement(pe.a,null,l.a.createElement(Be,{places:e.places})))):"edit_places"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.fb,className:"mx-2 fa-1x"}),"Edit"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"xl",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.fb,className:"mx-2"}),"Edit"),l.a.createElement(pe.a,null,l.a.createElement(qe,{places:e.places})))):"delete_places"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 fa-1x"}),"Delete"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a+" dialogue"},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement("p",{className:"text-danger"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 text-danger"}),"place is flagged for deletion are you sure you want to delete")),l.a.createElement(pe.a,null,l.a.createElement(Ie,{places:e.places,fetch:e.fetch,close:m})))):void 0},Ue=function(){var e=Object(n.useContext)(d),a=e.place,t=e.dispatchPlaces,c=a.state,r=a.loading,s=a.error,o=Object(n.useState)({collapse:"",places:[],found:!1}),u=Object(i.a)(o,2),p=u[0],_=u[1];Object(n.useEffect)((function(){_(Object(E.a)({},p,{places:c}))}),[r]);var v=function(){var e;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"LOADING_PLACES"}),a.next=4,S.a.awrap(q());case 4:e=a.sent,t(M(e)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:"ERROR"});case 11:case"end":return a.stop()}}),null,null,[[0,8]])},h=function(e){var a=""===e?c:function(e,a){var t=a.toString().toLowerCase(),n=e.filter((function(e){return e.name.toString().toLowerCase().includes(t)})),l=e.filter((function(e){return e.region.toString().toLowerCase().includes(t)})),c=e.filter((function(e){return e.type.toString().toLowerCase().includes(t)})),r=[].concat(Object(b.a)(n),Object(b.a)(l),Object(b.a)(c));return x(r,"_id")}(c,e),t=""!==e;_(Object(E.a)({},p,{places:a,found:t}))},N=r?l.a.createElement("tr",null,l.a.createElement("td",{className:"row text-center",colSpan:"5"},l.a.createElement(fe,null))):s?l.a.createElement("tr",null,l.a.createElement("td",{className:"text-danger text-danger",colSpan:"5"},"Loading  failed  because server is not active contact system admin to activate it")):p.places.length?p.places.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.region),l.a.createElement("td",null,e.type),l.a.createElement("td",{className:"row"},l.a.createElement(Me,{type:"view_places",places:e}),l.a.createElement("p",{className:"text-danger mx-2"},"|"),l.a.createElement(Me,{type:"edit_places",places:e,fetch:v}),l.a.createElement("p",{className:"text-danger mx-2"},"|"),l.a.createElement(Me,{type:"delete_places",places:e,fetch:v})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"5"},"No Places yet"));return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+p.collapse},l.a.createElement(m.Provider,{value:{uiContents:p,togglers:_}},l.a.createElement(A,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(oe,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"},l.a.createElement(Me,{type:"create_place",fetch:v})),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type name,region or place type",onChange:function(e){return h(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{class:"col-md-6 col-xl-4"},l.a.createElement("div",{class:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{class:"widget-content-wrapper text-white"},l.a.createElement("div",{class:"widget-content-left"},l.a.createElement("div",{class:"widget-heading"},"Places"),l.a.createElement("div",{class:"widget-subheading"},"Totall registered")),l.a.createElement("div",{class:"widget-content-right"},l.a.createElement("div",{class:"widget-numbers text-white"},l.a.createElement("span",null,c.length)))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"main-card mb-3 card mt-2"},p.found?l.a.createElement("h5",{className:"text-center"},"places found:",p.places.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.v,className:"mx-2"}),"Name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.I,className:"mx-2"}),"Region"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.v,className:"mx-2"}),"place type"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.db,className:"mx-2"}),"operation"))),l.a.createElement(xe.h,null,N))))))))))},Ge={state:[],loading:!0,error:!1},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_PLACES":return{state:a.payload,loading:!1,error:!1};case"LOADING_PLACES":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},ze=Object(o.withRouter)((function(e){var a=Object(n.useState)({employee_id:"",username:"",password:"",cpsw:"",process:"",success:"",error:"",loading:!1,disabled:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],o=Object(n.useContext)(d).employees,m=o.state,u=o.loading,p=o.error;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(z,null)),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"signup-form "},l.a.createElement("form",{className:"main-card mb-3 card",onSubmit:function(a){return function(a){var t,n,l,i,s,o,d,u,p,f,g,b;return S.a.async((function(_){for(;;)switch(_.prev=_.next){case 0:if(a.preventDefault(),t=c.employee_id,0!==(n=m.filter((function(e){return e.emp_id===t}))).length){_.next=7;break}r(Object(E.a)({},c,{error:"sorry your id is not registered please contact system admin you can not access the system at the moment",success:"",process:""})),_.next=27;break;case 7:if(c.cpsw===c.password){_.next=11;break}r(Object(E.a)({},c,{error:"password confirmation error confirm your password carefully",success:"",process:""})),_.next=27;break;case 11:return r(Object(E.a)({},c,{loading:!0,disabled:!0,process:"creating account...",error:"",success:""})),l=c.username,i=c.password,s=c.employee_id,o=n[0].type,d=Object(T.encryptObject)({username:l,password:i,emp_id:s,user_type:o}),_.prev=15,_.next=18,S.a.awrap(L.a.post(R.host+"/signup",{data:d}));case 18:u=_.sent,(p=Object(T.decrptObject)(u.data)).error?r(Object(E.a)({},c,{loading:!1,disabled:!1,process:"",error:"can not create account try again later",success:""})):p.error||p.signed?!p.error&&p.signed&&(f=p.Token,g=p.id,b=Object(be.encryptToken)(f),localStorage.removeItem("id"),localStorage.removeItem("token"),localStorage.removeItem("auth"),localStorage.removeItem("user_type"),localStorage.setItem("id",g),localStorage.setItem("token",b),localStorage.setItem("auth",!0),localStorage.setItem("user_type",o),r(Object(E.a)({},c,{loading:!1,disabled:!1,process:"",error:"",success:p.message}))):r(Object(E.a)({},c,{loading:!1,disabled:!1,process:"",error:p.message,success:""})),setTimeout((function(){"system_admin"===o?e.history.push("/admin"):e.history.push("/")}),1e3),_.next=27;break;case 24:_.prev=24,_.t0=_.catch(15),r(Object(E.a)({},c,{disable:!1,process:"",loading:!1,error:"saving failed server is not active try again later or contact system admin to activate the server",success:""}));case 27:case"end":return _.stop()}}),null,null,[[15,24]])}(a)}},l.a.createElement("h2",null,"Create Account"),l.a.createElement("p",{className:"lead"},"welcome to allowance system  create your account by puting your employee id and you can use what ever user name as you desired"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.e,className:"fa fa-barcode"})),l.a.createElement("input",{type:"text",className:"input-field form-control",placeholder:"Employee id",required:!0,onChange:function(e){return r(Object(E.a)({},c,{employee_id:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.wb,className:"fa fa-user"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"username",onChange:function(e){return r(Object(E.a)({},c,{username:e.target.value,success:"",error:"",process:""}))},required:!0}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.R,className:"fa fa-lock"})),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",required:!0,onChange:function(e){return r(Object(E.a)({},c,{password:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.R,className:"fa fa-lock"}),l.a.createElement(f.a,{icon:g.r,className:"fa fa-check"})),l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm Password",required:!0,onChange:function(e){return r(Object(E.a)({},c,{cpsw:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),u?l.a.createElement("div",{className:"text-center text-info"},"data is loading ",l.a.createElement(fe,null)," please wait"):p?l.a.createElement("p",{className:"text-center text-danger"},"sorry the server is not active please contact the system admin or try again later by refreshing this page"):l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",disabled:c.disabled,className:"btn btn-primary btn-block btn-lg"},"Sign Up")),l.a.createElement("p",{className:"small text-center"},"If your id is not found please contact system admin because you are not registered on the system",l.a.createElement("br",null),l.a.createElement(s.b,{to:"/contact"},"contact admin")),l.a.createElement("div",{className:"text-center"},"Already have an account?",l.a.createElement(s.b,{to:"/login"},"Login here")))))))})),We=Object(o.withRouter)((function(e){var a=Object(n.useState)({emp_id:"",password:"",success:"",process:"",error:"",loading:!1,disable:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1];return l.a.createElement("div",{className:"container center-box"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"}),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"signup-form "},l.a.createElement("form",{className:"main-card mb-3 card",onSubmit:function(a){return function(a){var t,n,l,i,s,o,m,d,u;return S.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return a.preventDefault(),p.prev=1,r(Object(E.a)({},c,{loading:!0,disable:!0,error:"",success:""})),t=c.emp_id,n=c.password,l=Object(T.encryptObject)({emp_id:t,password:n}),p.next=7,S.a.awrap(L.a.post(R.host+"/login",{data:l}));case 7:i=p.sent,(s=Object(T.decrptObject)(i.data)).login||s.error?!s.login&&s.error?r(Object(E.a)({},c,{loading:!1,disable:!1,error:"login failed try again later",success:""})):!s.error&&s.login&&("deactivated"===s.access?r(Object(E.a)({},c,{loading:!1,disable:!1,error:"login failed the account is deactivated by system admin contact system admin for more info",success:""})):(o=s.Token,m=s.id,d=s.user_type,u=Object(be.encryptToken)(o),localStorage.removeItem("id"),localStorage.removeItem("token"),localStorage.removeItem("auth"),localStorage.removeItem("user_type"),localStorage.removeItem("emp_id"),localStorage.setItem("id",m),localStorage.setItem("token",u),localStorage.setItem("auth",!0),localStorage.setItem("user_type",d),localStorage.setItem("emp_id",s.emp_id),r(Object(E.a)({},c,{loading:!1,disable:!1,error:"",success:s.message})),setTimeout((function(){"system_admin"===d?e.history.push("/admin"):e.history.push("/")}),1e3))):r(Object(E.a)({},c,{loading:!1,disable:!1,error:s.message,success:""})),p.next=15;break;case 12:p.prev=12,p.t0=p.catch(1),r(Object(E.a)({},c,{disable:!1,error:"login failed server is not active try again later or contact system admin to activate the server",success:""}));case 15:case"end":return p.stop()}}),null,null,[[1,12]])}(a)}},l.a.createElement("h2",null,"Login"),l.a.createElement("p",{className:"lead"},"welcome to allowance system please fill out this form inorder to proceed"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.e,className:"fa fa-barcode"})),l.a.createElement("input",{type:"text",className:"input-field form-control",placeholder:"Employee id",required:!0,onChange:function(e){return r(Object(E.a)({},c,{emp_id:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.R,className:"fa fa-lock"})),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",required:!0,onChange:function(e){return r(Object(E.a)({},c,{password:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",disabled:c.disable,className:"btn btn-primary btn-block btn-lg"},"Login")),l.a.createElement("p",{className:"small text-center"},"If you forget your password contact admin to reset your password",l.a.createElement("br",null),l.a.createElement(s.b,{to:"/contact"},"contact admin")),l.a.createElement("div",{className:"text-center"},"New to this system?",l.a.createElement(s.b,{to:"/signup"},"create account here")))))))})),He={state:[],loading:!0,error:!1},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_USERS":return{state:a.payload,loading:!1,error:!1};case"LOADING_USERS":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},Ve=function(e){var a=Object(n.useState)({password:"",cpsw:"",success:"",error:"",process:"",loading:"",disable:""}),t=Object(i.a)(a,2),c=t[0],r=t[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"signup-form "},l.a.createElement("form",{className:"main-card mb-3 card",onSubmit:function(a){return function(a){var t,n,l,i,s,o,m,d;return S.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(a.preventDefault(),c.cpsw===c.password){u.next=5;break}r(Object(E.a)({},c,{error:"password confirmation error confirm your password carefully",success:"",process:""})),u.next=22;break;case 5:return r(Object(E.a)({},c,{loading:!0,disable:!0,error:"",success:"",process:"reseting password"})),t=e.user._id,u.prev=7,n=localStorage,l=n.token,i=n.user_type,s=Object(be.decryptToken)(l),o=Object(T.encryptObject)({_id:t,password:c.password,usertype:i,token:s}),u.next=13,S.a.awrap(L.a.put(R.host+"/resetPassword",{data:o}));case 13:m=u.sent,(d=Object(T.decrptObject)(m.data)).error?r(Object(E.a)({},c,{loading:!1,disable:!1,error:"sorry can not reset password try again later",success:"",process:""})):d.error||d.reset?!d.error&&d.reset&&r(Object(E.a)({},c,{loading:!1,disable:!1,error:"",success:"Reset password succsessfull"})):r(Object(E.a)({},c,{loading:!1,disable:!1,error:"sorry can not reset password try again later",success:""})),u.next=22;break;case 18:u.prev=18,u.t0=u.catch(7),console.log(u.t0),r(Object(E.a)({},c,{disable:!1,error:"login failed server is not active try again later or contact system admin to activate the server",success:""}));case 22:case"end":return u.stop()}}),null,null,[[7,18]])}(a)}},l.a.createElement("p",{className:"font-weight-bold text-center"},"if you are reseting the password please Enter new password"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.R,className:"fa fa-lock"})),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",required:!0,onChange:function(e){return r(Object(E.a)({},c,{password:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.R,className:"fa fa-lock"}),l.a.createElement(f.a,{icon:g.r,className:"fa fa-check"})),l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm Password",required:!0,onChange:function(e){return r(Object(E.a)({},c,{cpsw:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",disabled:c.disable,className:"btn btn-primary btn-block btn-lg"},"Reset")))))))},Ze=function(e){var a=Object(n.useState)({progress:"",done:!1,loading:!1,disable:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1];console.log(e);return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},c.done?l.a.createElement("h5",{className:"text-center text-success"},l.a.createElement(f.a,{icon:g.r})," ",c.progress):l.a.createElement("h5",{className:"text-danger text-info"},c.progress),l.a.createElement("div",{className:"text-center"},c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)))),l.a.createElement("div",{className:"row float-right"},c.done?l.a.createElement("button",{className:"btn btn-info float-right mx-2",onClick:function(){return e.fetch()},disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Close"):l.a.createElement("button",{className:"btn btn-info float-right",onClick:e.close,disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Cancel"),c.done?l.a.createElement("p",null):l.a.createElement("button",{className:"btn btn-primary float-right mx-2",onClick:function(){return function(){var a,t,n,l,i,s,o,m,d,u,p;return S.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return r(Object(E.a)({},c,{loading:!0,disable:!0,progress:"processing.."})),a=e.user,t=a._id,n=a.access,l="activated"===n?"deactivated":"activated",f.prev=3,i=localStorage,s=i.token,o=i.user_type,m=Object(be.decryptToken)(s),d=Object(T.encryptObject)({_id:t,access:l,token:m,usertype:o}),f.next=9,S.a.awrap(L.a.put(R.host+"/accessUser",{data:d}));case 9:u=f.sent,(p=Object(T.decrptObject)(u.data)).error?r(Object(E.a)({},c,{loading:!1,disable:!1,progress:"user access control failed try again later",done:!1})):!p.error&&p.activation&&r(Object(E.a)({},c,{loading:!1,disable:!1,done:!0,progress:l+" success"})),f.next=17;break;case 14:f.prev=14,f.t0=f.catch(3),r(Object(E.a)({},c,{disable:!1,done:!1,progress:"login failed server is not active try again later or contact system admin to activate the server"}));case 17:case"end":return f.stop()}}),null,null,[[3,14]])}()},disabled:c.disable},l.a.createElement(f.a,{icon:g.r,className:"mx-2 fx-2"}),"Yes")))},Ke=function(e){var a=Object(n.useState)({progress:"",disable:!1,loading:!1,deleted:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},c.deleted?l.a.createElement("h5",{className:"text-center text-success"},l.a.createElement(f.a,{icon:g.r})," Deleted"):l.a.createElement("h5",{className:"text-center text-info"},c.progress),l.a.createElement("p",{className:"text-center"},c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)))),l.a.createElement("div",{className:"row float-right"},c.deleted?l.a.createElement("button",{className:"btn btn-info float-right mx-2",onClick:function(){return e.fetch()},disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Close"):l.a.createElement("button",{className:"btn btn-info float-right",onClick:e.close,disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Cancel"),c.deleted?l.a.createElement("p",null):l.a.createElement("button",{className:"btn btn-primary float-right mx-2",onClick:function(){return function(){var a,t,n,l,i,s,o,m;return S.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return r(Object(E.a)({},c,{progress:"Deleting",disable:!0,loading:!0})),a=e.user._id,t=localStorage,n=t.token,l=t.user_type,i=Object(be.decryptToken)(n),s=Object(T.encryptObject)({_id:a,usertype:l,token:i}),d.next=7,S.a.awrap(L.a.post(R.host+"/users",{data:s}));case 7:o=d.sent,m=Object(T.decrptObject)(o.data);try{m.error?r(Object(E.a)({},c,{progress:"unable to delete try again",disable:!1,loading:!1})):m.deleted&&!m.error&&r(Object(E.a)({},c,{progress:"Delteted sucessfully",disable:!1,loading:!1,deleted:!0,cancel:"close"}))}catch(u){r(Object(E.a)({},c,{progress:"Editing failed server is not active try again later or contact system admin to activate the server",disable:!1,loading:!1}))}case 10:case"end":return d.stop()}}))}()},disabled:c.disable},l.a.createElement(f.a,{icon:g.r,className:"mx-2 fx-2"}),"Yes")))},Qe=function(e){var a=e.className,t=e.type,c=Object(n.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],m=function(){return o(!s)};return"reset"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.Fb,className:"mx-2 fa-1x"}),"Reset password"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.Fb,className:"mx-2"}),"Reset password"),l.a.createElement(pe.a,null,l.a.createElement(Ve,{user:e.user})))):"access"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},"activated"===e.user.access?l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fa-1x"}):l.a.createElement(f.a,{icon:g.s,className:"mx-2 fa-1x"}),"activated"===e.user.access?"deactivate":"activate"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a+" dialogue"},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},"activated"===e.user.access?l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fa-1x"}):l.a.createElement(f.a,{icon:g.s,className:"mx-2 fa-1x"}),"activated"===e.user.access?l.a.createElement("p",{className:"text-center text-danger"},"you are about to deactivate the user are you sure you want to continue"):l.a.createElement("p",{className:"text center text-success"},"you are about to activate the user are you sure you want to continue")),l.a.createElement(pe.a,null,l.a.createElement(Ze,{user:e.user,fetch:e.fetch,close:m})))):"delete"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 fa-1x"}),"Delete"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a+" dialogue"},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.tb,className:"mx-2"}),"Delete user"),l.a.createElement(pe.a,null,l.a.createElement(Ke,{user:e.user,fetch:e.fetch,close:m})))):void 0},Xe=function(){var e=Object(n.useState)({found:!1,Users:[]}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.users,o=r.dispatchUsers,u=s.state,p=s.loading,_=s.error;Object(n.useEffect)((function(){c(Object(E.a)({},t,{Users:u}))}),[p]);var v=function(){var e;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o({type:"LOADING_USERS"}),a.next=4,S.a.awrap(W());case 4:e=a.sent,o(H(e)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),o({type:"ERROR"});case 11:case"end":return a.stop()}}),null,null,[[0,8]])},h=function(e){var a=""===e?u:function(e,a){var t=a.toString().toLowerCase(),n=e.filter((function(e){return e.emp_id.toString().toLowerCase().includes(t)})),l=e.filter((function(e){return e.username.toString().toLowerCase().includes(t)})),c=e.filter((function(e){return e.user_type.toString().toLowerCase().includes(t)})),r="activated"===t?e.filter((function(e){return"activated"===e.access})):e.filter((function(e){return e.access.toString().toLowerCase().includes(t)})),i=[].concat(Object(b.a)(n),Object(b.a)(l),Object(b.a)(c),Object(b.a)(r));return x(i,"_id")}(u,e),n=""!==e;c(Object(E.a)({},t,{Users:a,found:n}))},N=p?l.a.createElement("tr",null,l.a.createElement("td",{className:"row text-center",colSpan:"5"},l.a.createElement(fe,null))):_?l.a.createElement("tr",null,l.a.createElement("td",{className:"text-danger text-danger",colSpan:"5"},"Loading users failed  because server is not active contact system admin to activate it")):t.Users.length?t.Users.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.emp_id),l.a.createElement("td",null,e.username),l.a.createElement("td",null,e.user_type),l.a.createElement("td",null,e.access),l.a.createElement("td",{className:"row"},l.a.createElement(Qe,{type:"reset",user:e,fetch:v}),l.a.createElement("p",{className:"text-danger mx-2"},"|"),l.a.createElement(Qe,{type:"access",user:e,fetch:v}),l.a.createElement("p",{className:"text-danger mx-2"},"|"),l.a.createElement(Qe,{type:"delete",user:e,fetch:v})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"5"},"No users created account"));return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(A,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(oe,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type id,username,usertype,useraccess",onChange:function(e){return h(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null)))))),l.a.createElement("div",{class:"col-md-6 col-xl-4"},l.a.createElement("div",{class:"card mb-3 widget-content bg-arielle-smile"},l.a.createElement("div",{class:"widget-content-wrapper text-white"},l.a.createElement("div",{class:"widget-content-left"},l.a.createElement("div",{class:"widget-heading"},"Totall Employees"),l.a.createElement("div",{class:"widget-subheading"},"Created account")),l.a.createElement("div",{class:"widget-content-right"},l.a.createElement("div",{class:"widget-numbers text-white"},l.a.createElement("span",null,u.length)))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"main-card mb-3 card mt-2"},t.found?l.a.createElement("h5",{className:"text-center"},"users found:",t.Users.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"Employee id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.xb,className:"mx-2"}),"Username"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Bb,className:"mx-2"}),"User type"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.s,className:"mx-2"}),"Access"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.db,className:"mx-2"}),"operation"))),l.a.createElement(xe.h,null,N))))))))))},$e=function(){var e=Object(n.useState)({emp_id:"",position:"",inside_addis_ababa:0,outside_addis_ababa:0,process:"",error:"",success:"",disable:"",loading:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d).employees,s=r.state,o=r.loading,m=r.error,u=Object(n.useContext)(d).fieldEmployees.state;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("form",{onSubmit:function(e){return function(e){var a,n,l,r,i,s,o,m,d,p,f;return S.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(e.preventDefault(),""!==t.emp_id){g.next=5;break}c(Object(E.a)({},t,{error:"Enter employee id",success:"",process:""})),g.next=26;break;case 5:if(!Ce(u,t.emp_id)){g.next=10;break}c(Object(E.a)({},t,{error:"sorry can not register...Employee with the same id is registered before",success:"",process:""})),g.next=26;break;case 10:return c(Object(E.a)({},t,{error:"",success:"",process:"registering...",loading:!0,disable:!0})),a=t.emp_id,n=t.position,l=t.inside_addis_ababa,r=t.outside_addis_ababa,g.prev=12,i=localStorage,s=i.token,o=i.user_type,m=Object(be.decryptToken)(s),d=Object(T.encryptObject)({token:m,usertype:o,emp_id:a,position:n,inside_addis_ababa:l,outside_addis_ababa:r}),g.next=18,S.a.awrap(L.a.post(R.host+"/fieldAllowance",{data:d}));case 18:p=g.sent,(f=Object(T.decrptObject)(p.data)).error?c(Object(E.a)({},t,{error:f.message,disable:!1,loading:!1,success:"",process:""})):!f.error&&f.created&&c(Object(E.a)({},t,{error:"",disable:!1,loading:!1,success:"you have succesffuly registered",process:""})),g.next=26;break;case 23:g.prev=23,g.t0=g.catch(12),c(Object(E.a)({},t,{error:"updating failed server is not active try again later or contact system admin to activate the server",disable:!1,loading:!1,success:""}));case 26:case"end":return g.stop()}}),null,null,[[12,23]])}(e)}},l.a.createElement("p",{className:"font-weight-bold text-center"},"Employee id"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.e,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return c(Object(E.a)({},t,{emp_id:e.target.value,process:"",error:"",success:""}))}},l.a.createElement("option",{value:""},"Enter Employee id"),o?l.a.createElement(fe,null):m?l.a.createElement("option",{value:""},"Sorry can't get users server is down"):s.map((function(e){return l.a.createElement("option",{value:e.emp_id,key:e._id},e.emp_id)})))),l.a.createElement("p",{className:"font-weight-bold text-center"},"job position"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.rb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"job position",onChange:function(e){return c(Object(E.a)({},t,{position:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"allowance in addis ababa"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"allowance in addis ababa",onChange:function(e){return c(Object(E.a)({},t,{inside_addis_ababa:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"allowance outside addis ababa"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"allowance outside addis ababa",onChange:function(e){return c(Object(E.a)({},t,{outside_addis_ababa:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},t.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},t.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},t.process),t.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement("div",{className:"input-container"},l.a.createElement("button",{className:"btn btn-info mx-3",type:"reset",disabled:t.disable,onClick:function(){return c(Object(E.a)({},t,{emp_id:"",success:"",error:"",process:""}))}},l.a.createElement(f.a,{icon:g.Fb}),"Reset"),l.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:t.disable},l.a.createElement(f.a,{icon:g.nb}),"Register")))))))},ea=function(e){var a=Object(n.useState)({emp_id:"",position:"",inside_addis_ababa:0,outside_addis_ababa:0,process:"",error:"",success:"",disable:"",loading:!1,check:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=Object(n.useContext)(d).employees,o=s.state,m=s.loading,u=s.error,p=Object(n.useContext)(d).fieldEmployees.state;Object(n.useEffect)((function(){r(Object(E.a)({},c,{},e.employee))}),[]);var b=function(){var a,t,n,l,i,s,o,m,d,u,p;return S.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return r(Object(E.a)({},c,{error:"",success:"",process:"registering...",loading:!0,disable:!0})),a=c.emp_id,t=c.position,n=c.inside_addis_ababa,l=c.outside_addis_ababa,f.prev=2,i=localStorage,s=i.token,o=i.user_type,m=Object(be.decryptToken)(s),d=Object(T.encryptObject)({token:m,usertype:o,emp_id:a,position:t,inside_addis_ababa:n,outside_addis_ababa:l,_id:e.employee._id}),f.next=8,S.a.awrap(L.a.put(R.host+"/fieldAllowance",{data:d}));case 8:u=f.sent,(p=Object(T.decrptObject)(u.data)).error?r(Object(E.a)({},c,{error:"can not update employee",disable:!1,loading:!1,success:"",process:""})):!p.error&&p.updated&&r(Object(E.a)({},c,{error:"",disable:!1,loading:!1,success:"update successfull",process:""})),f.next=16;break;case 13:f.prev=13,f.t0=f.catch(2),r(Object(E.a)({},c,{error:"updating failed server is not active try again later or contact system admin to activate the server",disable:!1,loading:!1,success:""}));case 16:case"end":return f.stop()}}),null,null,[[2,13]])};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("form",{onSubmit:function(e){return function(e){return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.preventDefault(),""===c.emp_id?r(Object(E.a)({},c,{error:"Enter employee id",success:"",process:""})):c.check&&Ce(p,c.emp_id)?r(Object(E.a)({},c,{error:"sorry can not edit...Employee with the same id is registered before",success:"",process:""})):b();case 2:case"end":return a.stop()}}))}(e)}},l.a.createElement("p",{className:"font-weight-bold text-center"},"Employee id"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.e,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",value:c.emp_id,onChange:function(a){return r(Object(E.a)({},c,{emp_id:a.target.value,check:a.target.value!==e.employee.emp_id,process:"",error:"",success:""}))}},l.a.createElement("option",{value:""},"Enter Employee id"),m?l.a.createElement(fe,null):u?l.a.createElement("option",{value:""},"Sorry can't get users server is down"):o.map((function(e){return l.a.createElement("option",{value:e.emp_id,key:e._id},e.emp_id)})))),l.a.createElement("p",{className:"font-weight-bold text-center"},"job position"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.rb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"job position",onChange:function(e){return r(Object(E.a)({},c,{position:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.position})),l.a.createElement("p",{className:"font-weight-bold text-center"},"allowance in addis ababa"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"allowance in addis ababa",onChange:function(e){return r(Object(E.a)({},c,{inside_addis_ababa:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.inside_addis_ababa})),l.a.createElement("p",{className:"font-weight-bold text-center"},"allowance outside addis ababa"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",min:"0",placeholder:"allowance outside addis ababa",onChange:function(e){return r(Object(E.a)({},c,{outside_addis_ababa:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.outside_addis_ababa})),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement("div",{className:"input-container"},l.a.createElement("button",{className:"btn btn-info mx-3",type:"reset",disabled:c.disable,onClick:function(){return r(Object(E.a)({},c,{},e.employee,{success:"",error:"",process:""}))}},l.a.createElement(f.a,{icon:g.Fb}),"Reset"),l.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:c.disable},l.a.createElement(f.a,{icon:g.nb}),"Register")))))))},aa=function(e){var a=Object(n.useState)({progress:"",disable:!1,loading:!1,deleted:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},c.deleted?l.a.createElement("h5",{className:"text-center text-success"},l.a.createElement(f.a,{icon:g.r})," Deleted"):l.a.createElement("h5",{className:"text-center text-info"},c.progress),l.a.createElement("p",{className:"text-center"},c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)))),l.a.createElement("div",{className:"row float-right"},c.deleted?l.a.createElement("button",{className:"btn btn-info float-right mx-2",onClick:function(){return e.fetch()},disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Close"):l.a.createElement("button",{className:"btn btn-info float-right",onClick:e.close,disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Cancel"),c.deleted?l.a.createElement("p",null):l.a.createElement("button",{className:"btn btn-primary float-right mx-2",onClick:function(){return function(){var a,t,n,l,i,s,o,m;return S.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return r(Object(E.a)({},c,{progress:"Deleting",disable:!0,loading:!0})),a=e.employee._id,d.prev=2,t=localStorage,n=t.token,l=t.user_type,i=Object(be.decryptToken)(n),s=Object(T.encryptObject)({_id:a,usertype:l,token:i}),d.next=8,S.a.awrap(L.a.put(R.host+"/delFieldAllowance",{data:s}));case 8:o=d.sent,(m=Object(T.decrptObject)(o.data)).error?r(Object(E.a)({},c,{progress:"unable to delete try again",disable:!1,loading:!1})):m.deleted&&!m.error&&r(Object(E.a)({},c,{progress:"Delteted sucessfully",disable:!1,loading:!1,deleted:!0,cancel:"close"})),d.next=17;break;case 13:d.prev=13,d.t0=d.catch(2),console.log(d.t0),r(Object(E.a)({},c,{progress:"unable to delete server is not active",disable:!1,loading:!1}));case 17:case"end":return d.stop()}}),null,null,[[2,13]])}()},disabled:c.disable},l.a.createElement(f.a,{icon:g.r,className:"mx-2 fx-2"}),"Yes")))},ta=function(e){var a=e.className,t=e.type,c=Object(n.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],m=function(){return o(!s)};return"create_field_allowance"===t?l.a.createElement("div",null,l.a.createElement(xe.b,{rounded:!0,onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.ib,className:"mx-2 fa-1x"}),"create an employee with field allowance"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.zb,className:"mx-2"}),"New employee with field allowance"),l.a.createElement(pe.a,null,l.a.createElement($e,null)))):"edit_field_allowance"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.fb,className:"mx-2 fa-1x"}),"Edit"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.fb,className:"mx-2"}),"Edit"),l.a.createElement(pe.a,null,l.a.createElement(ea,{employee:e.employee})))):"delete_field_allowance"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 fa-1x"}),"Delete"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a+" dialogue"},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement("p",{className:"text-danger"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 text-danger"}),"Employee is flagged for deletion are you sure you want to delete")),l.a.createElement(pe.a,null,l.a.createElement(aa,{employee:e.employee,fetch:e.fetch,close:m})))):void 0},na=function(){var e=Object(n.useState)({found:!1,Employees:[]}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.fieldEmployees,o=r.dispatchFieldEmplooyees,u=s.state,p=s.loading,_=s.error;Object(n.useEffect)((function(){c(Object(E.a)({},t,{Employees:u}))}),[p]);var v=function(){var e;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o({type:"LOADING_FIELDALLOWANCE"}),a.next=4,S.a.awrap(V());case 4:e=a.sent,o(Z(e)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),o({type:"ERROR"});case 11:case"end":return a.stop()}}),null,null,[[0,8]])},h=function(e){var a=""===e?u:function(e,a){var t=a.toLowerCase().toLowerCase(),n=e.filter((function(e){return e.emp_id.toString().toLowerCase().includes(t,0)})),l=e.filter((function(e){return e.position.toString().toLowerCase().includes(t,0)})),c=[].concat(Object(b.a)(n),Object(b.a)(l));return x(c,"_id")}(u,e),n=""!==e;c(Object(E.a)({},t,{Employees:a,found:n}))},N=p?l.a.createElement("tr",null,l.a.createElement("td",{className:"row text-center",colSpan:"5"},l.a.createElement(fe,null))):_?l.a.createElement("tr",null,l.a.createElement("td",{className:"text-danger text-danger",colSpan:"5"},"Loading failed  because server is not active contact system admin to activate it")):t.Employees.length?t.Employees.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.emp_id),l.a.createElement("td",null,e.position),l.a.createElement("td",null,e.inside_addis_ababa),l.a.createElement("td",null,e.outside_addis_ababa),l.a.createElement("td",{className:"row"},l.a.createElement(ta,{type:"edit_field_allowance",employee:e,fetch:v}),l.a.createElement("p",{className:"text-danger mx-2"},"|"),l.a.createElement(ta,{type:"delete_field_allowance",employee:e,fetch:v})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"5"},"No Employee with field allowance"));return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(A,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(oe,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"},l.a.createElement(ta,{type:"create_field_allowance",fetch:v})),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type Employee id,position",onChange:function(e){return h(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{class:"col-md-6 col-xl-4"},l.a.createElement("div",{class:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{class:"widget-content-wrapper text-white"},l.a.createElement("div",{class:"widget-content-left"},l.a.createElement("div",{class:"widget-heading"},"Totall employees with"),l.a.createElement("div",{class:"widget-subheading"},"field allowance registered")),l.a.createElement("div",{class:"widget-content-right"},l.a.createElement("div",{class:"widget-numbers text-white"},l.a.createElement("span",null,u.length)))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"main-card mb-3 card mt-2"},t.found?l.a.createElement("h5",{className:"text-center"},"Employees found:",t.Employees.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Employee id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.rb,className:"mx-2"}),"job position"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.v,className:"mx-2"}),"Allowance in addis ababa"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Z,className:"mx-2"}),"Allowance outside addis ababa"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.db,className:"mx-2"}),"operation"))),l.a.createElement(xe.h,null,N))))))))))},la={state:[],loading:!0,error:!1},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_FIELDALLOWANCE":return{state:a.payload,loading:!1,error:!1};case"LOADING_FIELDALLOWANCE":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},ra=t(334),ia=t.n(ra),sa=Object(o.withRouter)((function(e){var a=Object(n.useState)({dinner:0,breakfast:0,lunch:0,bed:0,climate_1:0,climate_2:0,climate_3:0,process:"",success:"",error:"",disable:!1,loading:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=Object(n.useContext)(d),o=s.company,m=s.config,u=o.state,p=o.loading,b=m.state,_=m.loading;Object(n.useEffect)((function(){p||_||(u.length?b.length&&e.history.push("/adminSignUp"):e.history.push("/createCompany"))}),[_]);return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(te,null),l.a.createElement($,null)),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"signup-form "},l.a.createElement("form",{className:"main-card mb-3 card",onSubmit:function(a){return function(a){var t,n,l,i,s,o,m,d,u,p;return S.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(a.preventDefault(),f.prev=1,r(Object(E.a)({},c,{disable:!0,loading:!0,process:"saving",success:"",error:""})),t=c.dinner,n=c.bed,l=c.breakfast,i=c.lunch,s=c.climate_1,o=c.climate_2,m=c.climate_3,!(parseFloat(t)+parseFloat(l)+parseFloat(i)+parseFloat(n)>100)){f.next=9;break}r(Object(E.a)({},c,{disable:!1,loading:!1,process:"",success:"",error:"breakfast,lunch,dinner and bed allowance should not be greater than 100%"})),f.next=15;break;case 9:return d=Object(T.encryptObject)({dinner:t,bed:n,breakfast:l,lunch:i,climate_1:s,climate_2:o,climate_3:m}),f.next=12,S.a.awrap(L.a.post(R.host+"/config",{data:d}));case 12:u=f.sent,(p=Object(T.decrptObject)(u.data)).error?r(Object(E.a)({},c,{disable:!1,loading:!1,process:"",success:"",error:"error while saving check out the server"})):p.created&&!p.error&&(r(Object(E.a)({},c,{disable:!1,loading:!1,process:"",success:"saving success you can edit on admin panel",error:""})),setTimeout((function(){e.history.push("/adminSignUp")}),1e3));case 15:f.next=21;break;case 17:f.prev=17,f.t0=f.catch(1),console.log(f.t0),r(Object(E.a)({},c,{disable:!1,loading:!1,process:"",success:"",error:"unable to save server is not active"}));case 21:case"end":return f.stop()}}),null,null,[[1,17]])}(a)}},l.a.createElement("h2",null,"Sytem configaration"),l.a.createElement("p",{className:"lead"},"welcome to allowance system  create system configuration you can edit later on admin panel"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.w,className:"fa fa-barcode"})),l.a.createElement("input",{type:"number",className:"input-field form-control",placeholder:"Breakfast allowance by percent",required:!0,onChange:function(e){return r(Object(E.a)({},c,{breakfast:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.hb,className:"fa fa-user"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"Lunch allowance by %",onChange:function(e){return r(Object(E.a)({},c,{lunch:e.target.value,success:"",error:"",process:""}))},required:!0}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.Gb,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"Dinner allowance by %",onChange:function(e){return r(Object(E.a)({},c,{dinner:e.target.value,success:"",error:"",process:""}))},required:!0}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.f,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"Bed allowance by %",required:!0,onChange:function(e){return r(Object(E.a)({},c,{bed:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.sb,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"climate scale 1 allowance by %",required:!0,onChange:function(e){return r(Object(E.a)({},c,{climate_1:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.sb,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"climate scale 2 allowance by %",required:!0,onChange:function(e){return r(Object(E.a)({},c,{climate_2:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.sb,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"climate scale 3 allowance by %",required:!0,onChange:function(e){return r(Object(E.a)({},c,{climate_3:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",disabled:c.disable,className:"btn btn-primary btn-block btn-lg"},"setup")))))))})),oa={state:[],loading:!0,error:!1},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_CONFIG":return{state:a.payload,loading:!1,error:!1};case"LOADING_CONFIG":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},da=function(e){var a,t,c=Object(n.useState)({dinner:0,breakfast:0,lunch:0,bed:0,climate_1:0,climate_2:0,climate_3:0,process:"",success:"",error:"",disable:!1,loading:!1}),r=Object(i.a)(c,2),s=r[0],o=r[1];Object(n.useEffect)((function(){o(Object(E.a)({},s,{},e.config))}),[e.config]);return l.a.createElement("form",{className:"main-card mb-3 card",onSubmit:function(a){return function(a){var t,n,l,c,r,i,m,d,u,p,f,g,b,_;return S.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(a.preventDefault(),v.prev=1,o(Object(E.a)({},s,{disable:!0,loading:!0,process:"saving",success:"",error:""})),t=s.dinner,n=s.bed,l=s.breakfast,c=s.lunch,r=s.climate_1,i=s.climate_2,m=s.climate_3,!(parseFloat(t)+parseFloat(l)+parseFloat(c)+parseFloat(n)>100)){v.next=9;break}o(Object(E.a)({},s,{disable:!1,loading:!1,process:"",success:"",error:"breakfast,lunch,dinner and bed allowance should not be greater than 100%"})),v.next=17;break;case 9:return d=localStorage,u=d.token,p=d.user_type,f=Object(be.decryptToken)(u),g=Object(T.encryptObject)({_id:e.config._id,token:f,usertype:p,dinner:t,bed:n,breakfast:l,lunch:c,climate_1:r,climate_2:i,climate_3:m}),v.next=14,S.a.awrap(L.a.put(R.host+"/config",{data:g}));case 14:b=v.sent,(_=Object(T.decrptObject)(b.data)).error?o(Object(E.a)({},s,{disable:!1,loading:!1,process:"",success:"",error:"error while editing check out the server"})):_.updated&&!_.error&&o(Object(E.a)({},s,{disable:!1,loading:!1,process:"",success:"Editing success",error:""}));case 17:v.next=23;break;case 19:v.prev=19,v.t0=v.catch(1),console.log(v.t0),o(Object(E.a)({},s,{disable:!1,loading:!1,process:"",success:"",error:"unable to save server is not active"}));case 23:case"end":return v.stop()}}),null,null,[[1,19]])}(a)}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h2",{className:"text-center"},"Allowance configaration"),l.a.createElement("p",{className:"lead bg-warning text-center text-white"},"Note:-editing will affect allowance calculation so enter carefully")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"text-center font-weight-bold"},"Breakfast allowance by %"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.w,className:"fa fa-barcode"})),l.a.createElement("input",{type:"number",className:"input-field form-control",placeholder:"Breakfast allowance by percent",required:!0,onChange:function(e){return o(Object(E.a)({},s,{breakfast:e.target.value,success:"",error:"",process:""}))},value:s.breakfast}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"Lunch allowance by %"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.hb,className:"fa fa-user"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"Lunch allowance by %",onChange:function(e){return o(Object(E.a)({},s,{lunch:e.target.value,success:"",error:"",process:""}))},value:s.lunch,required:!0}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"Dinner allowance by %"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.Gb,className:"fa fa-lock"})),l.a.createElement("input",(a={type:"number",className:"form-control",placeholder:"Dinner allowance by %",required:!0,onChange:function(e){return o(Object(E.a)({},s,{dinner:e.target.value,success:"",error:"",process:""}))}},Object(Ee.a)(a,"required",!0),Object(Ee.a)(a,"value",s.dinner),a)))),l.a.createElement("p",{className:"text-center font-weight-bold"},"Bed allowance by %"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.f,className:"fa fa-lock"})),l.a.createElement("input",(t={type:"number",className:"form-control",placeholder:"Bed allowance by %",required:!0,onChange:function(e){return o(Object(E.a)({},s,{bed:e.target.value,success:"",error:"",process:""}))}},Object(Ee.a)(t,"required",!0),Object(Ee.a)(t,"value",s.bed),t))))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("p",{className:"text-center font-weight-bold"},"Level one allowance by %"),l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.sb,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"climate scale 1 allowance by %",required:!0,onChange:function(e){return o(Object(E.a)({},s,{climate_1:e.target.value,success:"",error:"",process:""}))},value:s.climate_1}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"Level two allowance by %"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.sb,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"climate scale 2 allowance by %",onChange:function(e){return o(Object(E.a)({},s,{climate_2:e.target.value,success:"",error:"",process:""}))},required:!0,value:s.climate_2}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"Level three allowance by %"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.sb,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"climate scale 3 allowance by %",required:!0,onChange:function(e){return o(Object(E.a)({},s,{climate_3:e.target.value,success:"",error:"",process:""}))},value:s.climate_3}))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},s.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},s.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},s.process),s.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",disabled:s.disable,className:"btn btn-primary btn-block btn-lg"},l.a.createElement(f.a,{icon:g.fb}),"Edit"))))))},ua=function(e){var a=e.className,t=Object(n.useState)(!1),c=Object(i.a)(t,2),r=c[0],s=c[1],o=function(){return s(!r)};return l.a.createElement("div",null,l.a.createElement("button",{type:"button","data-toggle":"dropdown","aria-haspopup":"true",onClick:o,"aria-expanded":"false",className:"btn-shadow btn btn-info"},l.a.createElement("span",{className:"btn-icon-wrapper pr-2 opacity-7"},l.a.createElement(f.a,{icon:g.fb,className:"fa fa-business-time fa-w-20"})),"Edit configuration",l.a.createElement(f.a,{icon:g.x,className:"fa fa-business-time mx-2 fa-w-20"})),l.a.createElement(de.a,{isOpen:r,toggle:o,size:"lg",className:a},l.a.createElement(ue.a,{toggle:o,onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.fb,className:"mx-2"}),"Edit"),l.a.createElement(pe.a,null,l.a.createElement(da,{config:e.config}))))},pa=function(){var e=Object(n.useState)({collapse:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.config,o=r.dispatchConfig,u=s.state,p=s.loading,E=s.error,b=u[0];return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(A,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(oe,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},p?l.a.createElement("div",{className:"mt-5"},l.a.createElement(ge,null)):E?l.a.createElement("p",{className:"text-center mt-5 text-danger"},"Server is not active loading failed"):l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"app-page-title"},l.a.createElement("div",{class:"page-title-wrapper"},l.a.createElement("div",{class:"page-title-heading"},l.a.createElement("div",{class:"page-title-icon"},l.a.createElement(f.a,{icon:g.W,className:"pe-7s-car icon-gradient bg-mean-fruit text-warning"})),l.a.createElement("div",null,"Allowances",l.a.createElement("div",{class:"page-title-subheading"},"This is an allowance that is configured before. it tells allowances that used to calculate day allowance,living allowance and climate allowance"))),l.a.createElement("div",{class:"page-title-actions mx-4"},l.a.createElement("div",{class:"d-inline-block dropdown"},l.a.createElement(ua,{config:b,fetch:function(){var e;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o({type:"LOADING_CONFIG"}),a.next=4,S.a.awrap(Q());case 4:e=a.sent,o(X(e)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),o({type:"ERROR"});case 11:case"end":return a.stop()}}),null,null,[[0,8]])}}))))),l.a.createElement("div",{className:"col-lg-12 mt-3"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-md-6 col-lg-4 mx-auto"},l.a.createElement("div",{class:"card-shadow-danger mb-3 widget-chart widget-chart2 text-left card"},l.a.createElement("div",{class:"widget-content"},l.a.createElement("div",{class:"widget-content-outer"},l.a.createElement("div",{class:"widget-content-wrapper"},l.a.createElement("div",{class:"widget-content-left pr-2 fsize-1"},l.a.createElement("div",{class:"widget-numbers mt-0 fsize-3 text-danger"},b.breakfast,"%")),l.a.createElement("div",{class:"widget-content-right w-100"},l.a.createElement("div",{class:"progress-bar-xs progress"},l.a.createElement("div",{class:"progress-bar bg-danger",role:"progressbar","aria-valuenow":b.breakfast,"aria-valuemin":"0","aria-valuemax":"100",style:{width:b.breakfast+"%"}})))),l.a.createElement("div",{class:"widget-content-left fsize-1"},l.a.createElement("div",{class:"text-muted opacity-6"},"Breakfast allowance ")))))),l.a.createElement("div",{class:"col-md-6 col-lg-4 mx-auto"},l.a.createElement("div",{class:"card-shadow-success mb-3 widget-chart widget-chart2 text-left card"},l.a.createElement("div",{class:"widget-content"},l.a.createElement("div",{class:"widget-content-outer"},l.a.createElement("div",{class:"widget-content-wrapper"},l.a.createElement("div",{class:"widget-content-left pr-2 fsize-1"},l.a.createElement("div",{class:"widget-numbers mt-0 fsize-3 text-success"},b.lunch,"%")),l.a.createElement("div",{class:"widget-content-right w-100"},l.a.createElement("div",{class:"progress-bar-xs progress"},l.a.createElement("div",{class:"progress-bar bg-success",role:"progressbar","aria-valuenow":b.lunch,"aria-valuemin":"0","aria-valuemax":"100",style:{width:b.lunch+"%"}})))),l.a.createElement("div",{class:"widget-content-left fsize-1"},l.a.createElement("div",{class:"text-muted opacity-6"},"Lunch allowance")))))),l.a.createElement("div",{class:"col-md-6 col-lg-4 mx-auto"},l.a.createElement("div",{class:"card-shadow-warning mb-3 widget-chart widget-chart2 text-left card"},l.a.createElement("div",{class:"widget-content"},l.a.createElement("div",{class:"widget-content-outer"},l.a.createElement("div",{class:"widget-content-wrapper"},l.a.createElement("div",{class:"widget-content-left pr-2 fsize-1"},l.a.createElement("div",{class:"widget-numbers mt-0 fsize-3 text-warning"},b.dinner,"%")),l.a.createElement("div",{class:"widget-content-right w-100"},l.a.createElement("div",{class:"progress-bar-xs progress"},l.a.createElement("div",{class:"progress-bar bg-warning",role:"progressbar","aria-valuenow":s.dinner,"aria-valuemin":"0","aria-valuemax":"100",style:{width:b.dinner+"%"}})))),l.a.createElement("div",{class:"widget-content-left fsize-1"},l.a.createElement("div",{class:"text-muted opacity-6"},"Dinner allowance")))))),l.a.createElement("div",{class:"col-md-6 col-lg-4 mx-auto"},l.a.createElement("div",{class:"card-shadow-info mb-3 widget-chart widget-chart2 text-left card"},l.a.createElement("div",{class:"widget-content"},l.a.createElement("div",{class:"widget-content-outer"},l.a.createElement("div",{class:"widget-content-wrapper"},l.a.createElement("div",{class:"widget-content-left pr-2 fsize-1"},l.a.createElement("div",{class:"widget-numbers mt-0 fsize-3 text-info"},b.bed,"%")),l.a.createElement("div",{class:"widget-content-right w-100"},l.a.createElement("div",{class:"progress-bar-xs progress"},l.a.createElement("div",{class:"progress-bar bg-info",role:"progressbar","aria-valuenow":s.bed,"aria-valuemin":"0","aria-valuemax":"100",style:{width:b.bed+"%"}})))),l.a.createElement("div",{class:"widget-content-left fsize-1"},l.a.createElement("div",{class:"text-muted opacity-6"},"Bed allowance")))))),l.a.createElement("div",{class:"col-md-6 col-lg-4 mx-auto"},l.a.createElement("div",{class:"card-shadow-warning mb-3 widget-chart widget-chart2 text-left card"},l.a.createElement("div",{class:"widget-content"},l.a.createElement("div",{class:"widget-content-outer"},l.a.createElement("div",{class:"widget-content-wrapper"},l.a.createElement("div",{class:"widget-content-left pr-2 fsize-1"},l.a.createElement("div",{class:"widget-numbers mt-0 fsize-3 text-warning"},b.climate_1,"%")),l.a.createElement("div",{class:"widget-content-right w-100"},l.a.createElement("div",{class:"progress-bar-xs progress"},l.a.createElement("div",{class:"progress-bar bg-warning",role:"progressbar","aria-valuenow":b.climate_1,"aria-valuemin":"0","aria-valuemax":"100",style:{width:b.climate_1+"%"}})))),l.a.createElement("div",{class:"widget-content-left fsize-1"},l.a.createElement("div",{class:"text-muted opacity-6"},"Climate level 1 allowance")))))),l.a.createElement("div",{class:"col-md-6 col-lg-4 mx-auto"},l.a.createElement("div",{class:"card-shadow-danger mb-3 widget-chart widget-chart2 text-left card"},l.a.createElement("div",{class:"widget-content"},l.a.createElement("div",{class:"widget-content-outer"},l.a.createElement("div",{class:"widget-content-wrapper"},l.a.createElement("div",{class:"widget-content-left pr-2 fsize-1"},l.a.createElement("div",{class:"widget-numbers mt-0 fsize-3 text-danger"},b.climate_2,"%")),l.a.createElement("div",{class:"widget-content-right w-100"},l.a.createElement("div",{class:"progress-bar-xs progress"},l.a.createElement("div",{class:"progress-bar bg-danger",role:"progressbar","aria-valuenow":b.climate_2,"aria-valuemin":"0","aria-valuemax":"100",style:{width:b.climate_2+"%"}})))),l.a.createElement("div",{class:"widget-content-left fsize-1"},l.a.createElement("div",{class:"text-muted opacity-6"},"Climate level 2 allowance ")))))),l.a.createElement("div",{class:"col-md-6 col-lg-4 mx-auto"},l.a.createElement("div",{class:"card-shadow-success mb-3 widget-chart widget-chart2 text-left card"},l.a.createElement("div",{class:"widget-content"},l.a.createElement("div",{class:"widget-content-outer"},l.a.createElement("div",{class:"widget-content-wrapper"},l.a.createElement("div",{class:"widget-content-left pr-2 fsize-1"},l.a.createElement("div",{class:"widget-numbers mt-0 fsize-3 text-success"},b.climate_3,"%")),l.a.createElement("div",{class:"widget-content-right w-100"},l.a.createElement("div",{class:"progress-bar-xs progress"},l.a.createElement("div",{class:"progress-bar bg-success",role:"progressbar","aria-valuenow":b.climate_3,"aria-valuemin":"0","aria-valuemax":"100",style:{width:b.climate_3+"%"}})))),l.a.createElement("div",{class:"widget-content-left fsize-1"},l.a.createElement("div",{class:"text-muted opacity-6"},"Climate level 3 allowance "))))))))))))))},Ea=t(678),fa=Object(o.withRouter)((function(e){var a=Object(n.useState)({name:"",logo:"",dept_length:0,emp_length:0,city:"",subcity:"",woreda:"",house:"",phone_1:"",phone_2:"",file:[],date:"",image:"",disable:!1,loading:!1,process:"",success:"",error:"",ierror:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)(0),o=Object(i.a)(s,2),m=o[0],u=o[1],p=Object(n.useContext)(d).company,b=p.state,_=p.loading;p.error;Object(n.useEffect)((function(){if(!_){b.length?e.history.push("/createConfiguration"):1}}),[_]);var v=function(){var a,t,n,l,i,s,o,m,d,u,p,f,g,b,_,v,h;return S.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,r(Object(E.a)({},c,(a={error:"",success:"",process:"",loading:!0},Object(Ee.a)(a,"process","saving..."),Object(Ee.a)(a,"disable",!0),a))),t=c.name,n=c.logo,l=c.dept_length,i=c.emp_length,s=c.city,o=c.subcity,m=c.woreda,d=c.house,u=c.phone_1,p=c.phone_2,f=Object(T.encryptObject)({name:t,logo:n,dept_length:l,emp_length:i,city:s,subcity:o,woreda:m,house:d,phone_1:u,phone_2:p}),N.next=6,S.a.awrap(L.a.post(R.host+"/company",{data:f}));case 6:g=N.sent,(b=Object(T.decrptObject)(g.data)).error?r(Object(E.a)({},c,(_={error:b.message,success:"",process:"",loading:!1},Object(Ee.a)(_,"process",""),Object(Ee.a)(_,"disable",!1),_))):!b.error&&b.created&&(r(Object(E.a)({},c,(v={error:"",success:"company created successfully",process:"",loading:!1},Object(Ee.a)(v,"process",""),Object(Ee.a)(v,"disable",!1),v))),setTimeout((function(){e.history.push("/createConfiguration")}),1e3)),N.next=14;break;case 11:N.prev=11,N.t0=N.catch(0),r(Object(E.a)({},c,(h={error:"unable to save data server is not responding",success:"",process:"",loading:!1},Object(Ee.a)(h,"process",""),Object(Ee.a)(h,"disable",!1),h)));case 14:case"end":return N.stop()}}),null,null,[[0,11]])};return l.a.createElement("form",{className:"mt-5",onSubmit:function(e){return function(e){var a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),""===c.logo){t.next=16;break}return t.prev=2,(a=new FormData).append("file",c.file),t.next=7,S.a.awrap(L.a.post(R.host+"/file",a,{onUploadProgress:function(e){return u(e.loaded/e.total*100)}}));case 7:t.sent.data.upload?v():r(Object(E.a)({},c,{error:"unable to upload",success:"",process:""})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),r(Object(E.a)({},c,{error:"unable to upload logo file Server is not active",success:"",process:""}));case 14:t.next=17;break;case 16:v();case 17:case"end":return t.stop()}}),null,null,[[2,11]])}(e)}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(te,null)),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h2",{className:"text-center"},"Company configaration"),l.a.createElement("p",{className:"lead bg-info text-center text-white"},"Before we proceed add your company information this done once you can edit on admin panel")),l.a.createElement("div",{className:"col-lg-4 mt-3"},l.a.createElement("p",{className:"text-center font-weight-bold"},"Company name"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.k,className:"fa fa-barcode"})),l.a.createElement("input",{type:"text",className:"input-field form-control",placeholder:"Company name",required:!0,onChange:function(e){return r(Object(E.a)({},c,{name:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"Comapny logo"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.N,className:"fa fa-user"})),l.a.createElement("input",{type:"file",className:"form-control",placeholder:"logo",onChange:function(e){return e.target.files[0]?"image/jpeg"===e.target.files[0].type||"image/png"===e.target.files[0].type?r(Object(E.a)({},c,{logo:e.target.files[0].name,success:"",ierror:"",process:"",error:"",file:e.target.files[0],image:URL.createObjectURL(e.target.files[0])})):r(Object(E.a)({},c,{success:"",error:"",ierror:"jpg and png file formats are only supported",process:"",image:""})):r(Object(E.a)({},c,{logo:"",error:"",file:[],success:"",process:"",image:""}))}}))),l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.ierror),l.a.createElement("p",{className:"text-center font-weight-bold"},"Department length"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.Y,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"how many department",onChange:function(e){return r(Object(E.a)({},c,{dept_length:e.target.value,success:"",error:"",process:""}))},required:!0}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"Employee quantity"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.Cb,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"How many employees",onChange:function(e){return r(Object(E.a)({},c,{emp_length:e.target.value,success:"",error:"",process:""}))},required:!0}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"city"),l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.v,className:"fa fa-lock"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter city company reside",onChange:function(e){return r(Object(E.a)({},c,{city:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"col-lg-4 mt-3"},l.a.createElement("p",{className:"text-center font-weight-bold"},"Subcity"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.v,className:"fa fa-lock"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Subcity",onChange:function(e){return r(Object(E.a)({},c,{subcity:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"woreda"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.T,className:"fa fa-lock"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter woreda if any",onChange:function(e){return r(Object(E.a)({},c,{woreda:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"House number"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.M,className:"fa fa-lock"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter house number",onChange:function(e){return r(Object(E.a)({},c,{house:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"phone 1"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.gb,className:"fa fa-lock"})),l.a.createElement("input",Object(Ee.a)({type:"text",className:"form-control",placeholder:"Phone number one",required:!0,onChange:function(e){return r(Object(E.a)({},c,{phone_1:e.target.value,success:"",error:"",process:""}))}},"required",!0)))),l.a.createElement("p",{className:"text-center font-weight-bold"},"phone 2"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.gb,className:"fa fa-lock"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Phone number two",required:!0,onChange:function(e){return r(Object(E.a)({},c,{phone_2:e.target.value,success:"",error:"",process:""}))}})))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"card"},l.a.createElement("img",{src:c.image,alt:"",className:"card-img-top"})),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement(Ea.a,{max:"100",color:"text-success",value:m},Math.round(m,2),"%")),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",disabled:c.disable,className:"btn btn-primary btn-block btn-lg"},l.a.createElement(f.a,{icon:g.eb}),"Save"))))))})),ga={state:[],loading:!0,error:!1},ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_COMPANY":return{state:a.payload,loading:!1,error:!1};case"LOADING_COMPANY":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},_a=function(e){var a,t=Object(n.useState)({name:"",logo:"",dept_length:0,emp_length:0,city:"",subcity:"",woreda:"",house:"",phone_1:"",phone_2:"",file:"",image:"",disable:!1,loading:!1,process:"",success:"",error:"",ierror:""}),c=Object(i.a)(t,2),r=c[0],s=c[1],o=Object(n.useState)(0),m=Object(i.a)(o,2),d=m[0],u=m[1],p=e.company;Object(n.useEffect)((function(){s(Object(E.a)({},r,{},p,{image:R.files_url+p.logo}))}),[p]);var b=function(){var a,t,n,l,c,i,o,m,d,u,f,g,b,_,v,h,N,x,y,w,O,j,k;return S.a.async((function(C){for(;;)switch(C.prev=C.next){case 0:return C.prev=0,s(Object(E.a)({},r,(a={error:"",success:"",process:"",loading:!0},Object(Ee.a)(a,"process","saving..."),Object(Ee.a)(a,"disable",!0),a))),t=r.name,n=r.logo,l=r.dept_length,c=r.emp_length,i=r.city,o=r.subcity,m=r.woreda,d=r.house,u=r.phone_1,f=r.phone_2,g=localStorage,b=g.token,_=g.user_type,v=Object(be.decryptToken)(b),h=Object(T.encryptObject)({name:t,logo:n,dept_length:l,emp_length:c,city:i,subcity:o,woreda:m,house:d,phone_1:u,phone_2:f,_id:e.company._id,token:v,usertype:_}),C.next=8,S.a.awrap(L.a.put(R.host+"/company",{data:h}));case 8:if(N=C.sent,!(x=Object(T.decrptObject)(N.data)).error){C.next=14;break}s(Object(E.a)({},r,(y={error:"can not edit company info try again later",success:"",process:"",loading:!1},Object(Ee.a)(y,"process",""),Object(Ee.a)(y,"disable",!1),y))),C.next=23;break;case 14:if(x.error||!x.updated){C.next=23;break}if(s(Object(E.a)({},r,(w={error:"",success:"company edited successfully",process:"",loading:!1},Object(Ee.a)(w,"process",""),Object(Ee.a)(w,"disable",!1),w))),""===r.file){C.next=23;break}return O=Object(T.encryptObject)({file:p.logo}),C.next=20,S.a.awrap(L.a.put(R.host+"/file",{data:O}));case 20:j=C.sent,Object(T.decrptObject)(j.data.encrypt).deleted||s(Object(E.a)({},r,{error:"unable to delete previous file",success:"",process:""}));case 23:C.next=29;break;case 25:C.prev=25,C.t0=C.catch(0),console.log(C.t0),s(Object(E.a)({},r,(k={error:"unable to save data server is not responding",success:"",process:"",loading:!1},Object(Ee.a)(k,"process",""),Object(Ee.a)(k,"disable",!1),k)));case 29:case"end":return C.stop()}}),null,null,[[0,25]])};return l.a.createElement("form",{onSubmit:function(e){return function(e){var a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),""===r.file){t.next=16;break}return t.prev=2,(a=new FormData).append("file",r.file),t.next=7,S.a.awrap(L.a.post(R.host+"/file",a,{onUploadProgress:function(e){return u(e.loaded/e.total*100)}}));case 7:t.sent.data.upload?b():s(Object(E.a)({},r,{error:"unable to upload the logo",success:"",process:""})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),s(Object(E.a)({},r,{error:"unable to upload logo file Server is not active",success:"",process:""}));case 14:t.next=17;break;case 16:b();case 17:case"end":return t.stop()}}),null,null,[[2,11]])}(e)}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 text-center"},l.a.createElement(f.a,{icon:g.qb,className:"fa-2x my-auto"}),l.a.createElement("p",{className:"my-auto font-weight-bold"},"Edit company info")),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("p",{className:"text-center font-weight-bold"},"Company name"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.k,className:"fa fa-barcode"})),l.a.createElement("input",{type:"text",className:"input-field form-control",placeholder:"Company name",required:!0,value:r.name,onChange:function(e){return s(Object(E.a)({},r,{name:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"Comapny logo"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.N,className:"fa fa-user"})),l.a.createElement("input",{type:"file",className:"form-control",placeholder:"logo",onChange:function(e){return e.target.files[0]?"image/jpeg"===e.target.files[0].type||"image/png"===e.target.files[0].type?s(Object(E.a)({},r,{logo:e.target.files[0].name,success:"",ierror:"",process:"",error:"",file:e.target.files[0],image:URL.createObjectURL(e.target.files[0])})):s(Object(E.a)({},r,{success:"",error:"",ierror:"jpg and png file formats are only supported",process:"",image:""})):s(Object(E.a)({},r,{logo:"",error:"",file:[],success:"",process:"",image:""}))}}))),l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},r.ierror),l.a.createElement("p",{className:"text-center font-weight-bold"},"Department length"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.Y,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"how many department",onChange:function(e){return s(Object(E.a)({},r,{dept_length:e.target.value,success:"",error:"",process:""}))},required:!0,value:r.dept_length}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"Employee quantity"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.Cb,className:"fa fa-lock"})),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"How many employees",onChange:function(e){return s(Object(E.a)({},r,{emp_length:e.target.value,success:"",error:"",process:""}))},required:!0,value:r.emp_length}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"city"),l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.v,className:"fa fa-lock"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter city company reside",onChange:function(e){return s(Object(E.a)({},r,{city:e.target.value,success:"",error:"",process:""}))},value:r.city}))),l.a.createElement("div",{className:"col-lg-4 mt-3"},l.a.createElement("p",{className:"text-center font-weight-bold"},"Subcity"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.v,className:"fa fa-lock"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Subcity",onChange:function(e){return s(Object(E.a)({},r,{subcity:e.target.value,success:"",error:"",process:""}))},value:r.subcity}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"woreda"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.T,className:"fa fa-lock"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter woreda if any",onChange:function(e){return s(Object(E.a)({},r,{woreda:e.target.value,success:"",error:"",process:""}))},value:r.woreda}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"House number"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.M,className:"fa fa-lock"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter house number",onChange:function(e){return s(Object(E.a)({},r,{house:e.target.value,success:"",error:"",process:""}))},value:r.house}))),l.a.createElement("p",{className:"text-center font-weight-bold"},"phone 1"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.gb,className:"fa fa-lock"})),l.a.createElement("input",(a={type:"text",className:"form-control",placeholder:"Phone number one",required:!0,onChange:function(e){return s(Object(E.a)({},r,{phone_1:e.target.value,success:"",error:"",process:""}))}},Object(Ee.a)(a,"required",!0),Object(Ee.a)(a,"value",r.phone_1),a)))),l.a.createElement("p",{className:"text-center font-weight-bold"},"phone 2"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.gb,className:"fa fa-lock"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Phone number two",required:!0,onChange:function(e){return s(Object(E.a)({},r,{phone_2:e.target.value,success:"",error:"",process:""}))},value:r.phone_2})))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"card"},l.a.createElement("img",{src:r.image,alt:"",className:"card-img-top"})),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},r.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},r.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},r.process),r.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement(Ea.a,{max:"100",color:"text-success",value:d},Math.round(d,2),"%")),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",disabled:r.disable,className:"btn btn-primary btn-block btn-lg"},l.a.createElement(f.a,{icon:g.eb}),"Save"))))))},va=function(e){var a=e.className,t=Object(n.useState)(!1),c=Object(i.a)(t,2),r=c[0],s=c[1],o=function(){return s(!r)};return l.a.createElement("div",null,l.a.createElement("button",{type:"button","data-toggle":"dropdown","aria-haspopup":"true",onClick:o,"aria-expanded":"false",className:"btn-shadow btn btn-info"},l.a.createElement("span",{className:"btn-icon-wrapper pr-2 opacity-7"},l.a.createElement(f.a,{icon:g.fb,className:"fa fa-business-time fa-w-20"})),"Edit company"),l.a.createElement(de.a,{isOpen:r,toggle:o,size:"xl",className:a},l.a.createElement(ue.a,{toggle:o,onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.fb,className:"mx-2"}),"Edit"),l.a.createElement(pe.a,null,l.a.createElement(_a,{company:e.company}))))},ha=function(){var e=Object(n.useState)({collapse:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.company,o=r.dispatchCompany,u=s.state,p=s.loading,E=s.error,b=u[0];return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(A,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(oe,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},p?l.a.createElement("div",{className:"mt-5"},l.a.createElement(ge,null)):E?l.a.createElement("p",{className:"text-center mt-5 text-danger"},"Server is not active loading failed"):l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"app-page-title"},l.a.createElement("div",{className:"page-title-wrapper"},l.a.createElement("div",{className:"page-title-heading"},l.a.createElement("div",{className:"page-title-icon"},l.a.createElement(f.a,{icon:g.qb,className:"pe-7s-car icon-gradient bg-mean-fruit text-warning"})),l.a.createElement("div",null,b.name,l.a.createElement("div",{className:"page-title-subheading"},"This is company info that is configured before it is useful to set correct information for the system. it will attach to letters and tor"))),l.a.createElement("div",{className:"page-title-actions mx-4"},l.a.createElement("div",{className:"d-inline-block dropdown"},l.a.createElement(va,{company:b,fetch:function(){var e;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o({type:"LOADING_COMPANY"}),a.next=4,S.a.awrap(ee());case 4:e=a.sent,o(ae(e)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),o({type:"ERROR"});case 11:case"end":return a.stop()}}),null,null,[[0,8]])}}))))),l.a.createElement("div",{className:"col-md-6 mt-6"},l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title text-center"},l.a.createElement("img",{src:R.files_url+b.logo,alt:""}))))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"row mt-2"},l.a.createElement(f.a,{icon:g.qb,className:"fa-3x text-info my-auto mx-2"}),l.a.createElement("p",{className:"text-center my-auto font-weight-bold"},"Company name : ",b.name)),l.a.createElement("div",{className:"row mt-2"},l.a.createElement(f.a,{icon:g.Y,className:"fa-3x text-info my-auto mx-2"}),l.a.createElement("p",{className:"text-center my-auto font-weight-bold"},"Department_length : ",b.dept_length)),l.a.createElement("div",{className:"row mt-2"},l.a.createElement(f.a,{icon:g.Bb,className:"fa-3x text-info my-auto mx-2"}),l.a.createElement("p",{className:"text-center my-auto font-weight-bold"},"Employee quantity : ",b.emp_length)),l.a.createElement("div",{className:"row mt-2"},l.a.createElement(f.a,{icon:g.v,className:"fa-3x text-info my-auto mx-2"}),l.a.createElement("p",{className:"text-center my-auto font-weight-bold"},"Address : ",b.city+"-"+b.subcity+"-"+b.woreda+"-"+b.house)),l.a.createElement("div",{className:"row mt-2"},l.a.createElement(f.a,{icon:g.gb,className:"fa-3x text-info my-auto mx-2"}),l.a.createElement("p",{className:"text-center my-auto font-weight-bold"},"phone 1 : ",b.phone_1)),l.a.createElement("div",{className:"row mt-2"},l.a.createElement(f.a,{icon:g.gb,className:"fa-3x text-info my-auto mx-2"}),l.a.createElement("p",{className:"text-center my-auto font-weight-bold"},"phone 2 : ",b.phone_2))))))))))},Na=Object(o.withRouter)((function(e){var a=Object(n.useState)({employee_id:"super_admin",username:"",password:"",cpsw:"",process:"",success:"",error:"",loading:!1,disabled:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=Object(n.useContext)(d),o=s.users,m=s.company,u=s.config,p=o.state,b=o.loading,_=m.state,v=m.loading,h=u.state,N=u.loading,x=p.filter((function(e){return"system_admin"===e.user_type}));Object(n.useEffect)((function(){b||N||v||(_.length?h.length?x.length&&e.history.push("/login"):e.history.push("/createConfiguration"):e.history.push("/createCompany"))}));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(J,null),l.a.createElement(te,null),l.a.createElement($,null)),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"signup-form "},l.a.createElement("form",{className:"main-card mb-3 card",onSubmit:function(a){return function(a){var t,n,l,i,s,o,m,d,u,p;return S.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(a.preventDefault(),c.cpsw===c.password){f.next=5;break}r(Object(E.a)({},c,{success:"",process:"",error:"password confirmation error confirm your password carefully"})),f.next=20;break;case 5:return r(Object(E.a)({},c,{loading:!0,disabled:!0,process:"creating account...",error:"",success:""})),t=c.username,n=c.password,l=c.employee_id,i="system_admin",s=Object(T.encryptObject)({username:t,password:n,emp_id:l,user_type:i}),f.prev=9,f.next=12,S.a.awrap(L.a.post(R.host+"/signup",{data:s}));case 12:o=f.sent,(m=Object(T.decrptObject)(o.data)).error?r(Object(E.a)({},c,{loading:!1,disabled:!1,process:"",error:"can not create account try again later",success:""})):m.error||m.signed?!m.error&&m.signed&&(d=m.Token,u=m.id,p=Object(be.encryptToken)(d),localStorage.removeItem("id"),localStorage.removeItem("token"),localStorage.removeItem("auth"),localStorage.removeItem("user_type"),localStorage.setItem("id",u),localStorage.setItem("token",p),localStorage.setItem("auth",!0),localStorage.setItem("user_type",i),r(Object(E.a)({},c,{loading:!1,disabled:!1,process:"",error:"",success:m.message})),setTimeout((function(){e.history.push("/admin")}),1e3)):r(Object(E.a)({},c,{loading:!1,disabled:!1,process:"",error:m.message,success:""})),f.next=20;break;case 17:f.prev=17,f.t0=f.catch(9),r(Object(E.a)({},c,{disable:!1,process:"",loading:!1,error:"saving failed server is not active try again later or contact system admin to activate the server",success:""}));case 20:case"end":return f.stop()}}),null,null,[[9,17]])}(a)}},l.a.createElement("h2",null,"Create Admin Account"),l.a.createElement("p",{className:"lead"},"welcome to allowance system  create Admin account this is useful for  system configuration"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.wb,className:"fa fa-user"})),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"username",onChange:function(e){return r(Object(E.a)({},c,{username:e.target.value,success:"",error:"",process:""}))},required:!0}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.R,className:"fa fa-lock"})),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",required:!0,onChange:function(e){return r(Object(E.a)({},c,{password:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement(f.a,{icon:g.R,className:"fa fa-lock"}),l.a.createElement(f.a,{icon:g.r,className:"fa fa-check"})),l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm Password",required:!0,onChange:function(e){return r(Object(E.a)({},c,{cpsw:e.target.value,success:"",error:"",process:""}))}}))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",disabled:c.disabled,className:"btn btn-primary btn-block btn-lg"},"Sign Up")))))))})),xa=Object(o.withRouter)((function(e){var a=Object(n.useState)({search:"",toggleButton:"",title:"Shemsu Medebir",screen:0,acivateProfile:"",profileOpener:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],o=Object(n.useContext)(m),u=o.togglers,p=o.uiContents,b=o.uiContents,_=b.collapse,v=b.headertheme,h=localStorage,N=h.user_type,x=h.token,y=Object(n.useContext)(d),w=y.socket,j=y.allowances,k=y.employees,A=y.users,D=j.state,S=(j.loading,k.state),P=(k.loading,A.state),L=(A.loading,new O(D,S,P));Object(n.useEffect)((function(){"system_admin"!==N&&x||e.history.push("/login");var a=window.screen.width;r(Object(E.a)({},c,{screen:a})),a<=892&&u(Object(E.a)({},p,{collapse:"closed-sidebar-mobile closed-sidebar"}))}),[N,x]);var R=function(){var e=""===c.toggleButton?"is-active":"",a=window.screen.width<=892?"closed-sidebar-mobile closed-sidebar"===_?"closed-sidebar-mobile closed-sidebar sidebar-mobile-open":"closed-sidebar-mobile closed-sidebar":""===_?"closed-sidebar":"";u(Object(E.a)({},p,{collapse:a})),r(Object(E.a)({},c,{toggleButton:e}))};return l.a.createElement("div",{className:"app-header header-shadow "+v},l.a.createElement("div",{className:"app-header__logo"},l.a.createElement("h2",{className:"font-weight-bold show"},"CSA",l.a.createElement(f.a,{icon:g.l})),l.a.createElement("div",{className:"header__pane ml-auto"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"hamburger close-sidebar-btn hamburger--elastic "+c.toggleButton,"data-classname":"closed-sidebar",onClick:function(){return R()}},l.a.createElement("span",{className:"hamburger-box"},l.a.createElement("span",{className:"hamburger-inner"})))))),l.a.createElement("div",{className:"app-header__mobile-menu"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"hamburger hamburger--elastic mobile-toggle-nav",onClick:function(){return R()}},l.a.createElement("span",{className:"hamburger-box"},l.a.createElement("span",{className:"hamburger-inner"}))))),l.a.createElement("div",{className:"app-header__menu"},l.a.createElement("span",null,l.a.createElement("button",{type:"button",className:"btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav "+c.acivateProfile,onClick:function(){return function(){var e=c.acivateProfile,a=c.profileOpener,t=window.screen.width,n=t<=892&&""===e?"active":"",l=t<=892&&""===a?"header-mobile-open":"";r(Object(E.a)({},c,{acivateProfile:n,profileOpener:l}))}()}},l.a.createElement("span",{className:"btn-icon-wrapper"},l.a.createElement("i",{className:"fa fa-ellipsis-v fa-w-6"}))))),l.a.createElement("div",{className:"app-header__content "+c.profileOpener},l.a.createElement("div",{className:"app-header-left"},l.a.createElement("ul",{className:"header-menu nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.c,{to:"/contacts",className:"nav-link"},l.a.createElement(f.a,{icon:g.gb,className:"nav-link-icon"}),"Contact")))),l.a.createElement("div",{className:"app-header-right"},l.a.createElement("div",{className:"header-btn-lg pr-0"},l.a.createElement("div",{className:"widget-content p-0"},l.a.createElement("div",{className:"widget-content-wrapper"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"btn-group"},l.a.createElement("div",{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",className:"p-0 btn"},l.a.createElement("h4",{className:"font-weight-bold"},"[M]",l.a.createElement("i",{className:"fa fa-angle-down ml-2 opacity-8"}))),l.a.createElement("div",{tabIndex:"-1",role:"menu","aria-hidden":"true",className:"dropdown-menu dropdown-menu-right"},l.a.createElement("button",{type:"button",onClick:function(){return C(e,w)},tabIndex:"0",className:"dropdown-item"},"Logout")))),l.a.createElement("div",{className:"widget-content-left  ml-3 header-user-info"},l.a.createElement("div",{className:"widget-heading"},L.Name(L.getEmp_id())),l.a.createElement("div",{className:"widget-subheading"},L.Department(L.getEmp_id())," ",L.UserRole(L.getEmp_id()))),l.a.createElement("div",{className:"widget-content-right header-user-info ml-3"},l.a.createElement("button",{type:"button",className:"btn-shadow p-1 btn  btn-sm show-toastr-example"},l.a.createElement("p",{"data-letters":L.firstLetters(L.getEmp_id())})))))))))})),ya=function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/allowances"));case 2:return e=t.sent,a=Object(T.decrptObject)(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}))},wa=function(e){return{type:"ADD_ALLOWANCES",payload:e}},Oa=function(){var e=Object(n.useContext)(d).dispatchAllowances;return Object(n.useEffect)((function(){!function(){var a;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"LOADING_ALLOWANCES"}),t.prev=1,t.next=4,S.a.awrap(ya());case 4:a=t.sent,e(wa(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}()}),[e]),l.a.createElement("p",null)},ja=k()(R.server,{reconnection:!0}),ka=function(e,a){switch(e){case"initial":return{error:"",success:"",process:a,disable:!0,loading:!0};case"error":return{error:a,success:"",process:"",disable:!1,loading:!1};case"success":return{error:"",success:a,process:"",disable:!1,loading:!1};default:return{error:"",success:"",process:"",disable:!1,loading:!1}}},Ca=function(){return Math.round(1e8*Math.random(0,1e8))},Aa=function(){},Da=function(e){return Math.round(100*e)/100},Sa=function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/letters"));case 2:return e=t.sent,a=Object(T.decrptObject)(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}))},Pa=function(){var e=Object(n.useContext)(d),a=e.socket,t=e.dispatchMessages,c=e.dispatchConnections,r=e.dispatchLetters,i=e.setTyping,s=e.setLTyping;return(0,e.setSocket)(ja),Object(n.useEffect)((function(){try{a?a.emit("onConnect",{emp_id:localStorage.emp_id}):Aa(),a?a.emit("users",""):Aa(),a?a.on("users",(function(e){return c({type:"ADD_CONNECTIONS",payload:e})})):Aa(),a?a.emit("chat",""):Aa(),a?a.on("chat",(function(e){return t({type:"ADD_MESSAGES",payload:e})})):Aa(),a?a.on("typing",(function(e){return i(e.emp_id)})):Aa(),a?a.on("typing_letter",(function(e){return s(e.emp_id)})):Aa(),a?a.emit("letters",""):Aa(),a?a.on("letters",(function(e){return r({type:"ADD_LETTERS",payload:e})})):Aa()}catch(e){c({type:"Error"}),t({type:"Error"})}}),[a]),l.a.createElement("div",null)},La=function(){var e=Object(n.useContext)(d),a=(e.setSocket,e.users),t=e.employees,c=(e.socket,Object(n.useContext)(m).uiContents.sidetheme),r=new w(a.state,t.state),i=r.isFinanceTeamLeader(),o=r.isFinanceEmployee(),u=r.isFinanceDirector();return l.a.createElement("div",{className:"app-sidebar sidebar-shadow "+c},l.a.createElement("div",{className:"app-header__logo"},l.a.createElement(Oa,null),l.a.createElement(z,null),l.a.createElement(U,null),l.a.createElement(K,null),l.a.createElement($,null),l.a.createElement(te,null),l.a.createElement(B,null),l.a.createElement(J,null),l.a.createElement(ce,null),l.a.createElement(se,null),l.a.createElement(Pa,null),l.a.createElement("div",{className:"header__pane ml-auto"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"hamburger close-sidebar-btn hamburger--elastic","data-classname":"closed-sidebar"},l.a.createElement("span",{className:"hamburger-box"},l.a.createElement("span",{className:"hamburger-inner"})))))),l.a.createElement("div",{className:"app-header__mobile-menu"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"hamburger hamburger--elastic mobile-toggle-nav"},l.a.createElement("span",{className:"hamburger-box"},l.a.createElement("span",{className:"hamburger-inner"}))))),l.a.createElement("div",{className:"app-header__menu"},l.a.createElement("span",null,l.a.createElement("button",{type:"button",className:"btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav"},l.a.createElement("span",{className:"btn-icon-wrapper"},l.a.createElement("i",{className:"fa fa-ellipsis-v fa-w-6"})))))," ",l.a.createElement("div",{className:"scrollbar-sidebar"},l.a.createElement("div",{className:"app-sidebar__inner"},l.a.createElement("ul",{className:"vertical-nav-menu"},l.a.createElement("li",{className:"app-sidebar__heading"},"Allowance System"),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/",className:"mm-active"},l.a.createElement(f.a,{icon:g.qb,className:"metismenu-icon pe-7s-diamond fa-2x text-warning"}))),l.a.createElement("li",{className:"app-sidebar__heading"},l.a.createElement(f.a,{icon:g.l,className:"metismenu-icon pe-7s-diamond fa-2x text-info mx-2"}),"calculate"),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/allowance"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("p",{className:"font-weight-bold"},"Allowances"))),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/deduction"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("p",{className:"font-weight-bold"},"Deductions"))),l.a.createElement("li",{className:"app-sidebar__heading"},l.a.createElement(f.a,{icon:g.bb,className:"metismenu-icon pe-7s-diamond fa-2x text-info mx-2"}),"Document"),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/inbox"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("p",{className:"font-weight-bold"},"Letter"))),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/message"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("p",{className:"font-weight-bold"},"message"))),l.a.createElement("li",{className:"app-sidebar__heading"},l.a.createElement(f.a,{icon:g.Db,className:"metismenu-icon pe-7s-diamond fa-2x text-info mx-2"}),"Employess"),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/contact"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("p",{className:"font-weight-bold"},"contact"))),i||o||u?l.a.createElement("li",{className:"app-sidebar__heading"},l.a.createElement(f.a,{icon:g.C,className:"metismenu-icon pe-7s-diamond fa-2x text-info mx-2"}),"Summary"):l.a.createElement("p",null),i||o||u?l.a.createElement("li",null,l.a.createElement(s.c,{to:"/reports"},l.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),l.a.createElement("p",{className:"font-weight-bold"},"Reports"))):l.a.createElement("p",null),l.a.createElement("li",null)))))},Ra=t(86),Ta=function(){var e=Object(n.useState)({collapse:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d).company,s=r.state,o=r.loading,u=r.error,p=s[0];return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(xa,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(La,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"row"},o?l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"main-card mb-3 min-height card"},l.a.createElement("h3",{className:"text-center"},"Loading..."),l.a.createElement(fe,{className:"mt-5"}))):u?l.a.createElement("div",{className:"col-lg-12 "},l.a.createElement("div",{className:"main-card mb-3 min-height card"},l.a.createElement("h3",{className:"mt-5 text-center text-danger"},l.a.createElement(f.a,{icon:g.Eb,className:"fa-2x"}),l.a.createElement("br",null),"...oops loading failed the server is down or not active contact admin"))):l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h2",{className:"text-center"},p.name),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 my-auto text-center"},l.a.createElement("p",{className:"text-center text-info display-2 font-weight-bold mx-auto"},"CSA",l.a.createElement(f.a,{icon:g.l})),l.a.createElement("h5",{className:"text-center text-uppercase mx-auto font-weight-bold"},"civil servant Allowance calculator")),l.a.createElement("div",{className:"col-lg-6 my-auto text-center"},l.a.createElement("p",{className:"text-center text-warning display-1 font-weight-bold mx-auto"},"[M]"),l.a.createElement("p",{className:"text-center text-secondary display-4 font-weight-bold mx-auto"},"METRIX"),l.a.createElement("p",{className:"text-center text-secondary display-5 font-weight-bold mx-auto"},"TECHNOLOGIES")),l.a.createElement("div",{className:"col-lg-12 mt-5"},l.a.createElement("h3",{className:"text-center text-uppercase"},"civil servant allowance calculator (version 1.0)"),l.a.createElement("h5",{className:"text-center font-weight-bold mt-4"},"Introduction"),l.a.createElement("p",{className:"text-center lead"},"This allowance calculator developed and designed by Metrix technologies helps customers for easy allowance calculations,letter and tems of referecence (tor) managment. It also have an easy integration to do complicated deductions with improved reporting and and stastical method"),l.a.createElement("h5",{className:"text-center font-weight-bold"},"Users"),l.a.createElement("p",{className:"text-center lead"},"The system is integerated with identifying users with their role and protect confidentiallity. it will not promote unauthorized usage of data"),l.a.createElement("h5",{className:"text-center font-weight-bold"},"Calculations"),l.a.createElement("p",{className:"text-center lead"},"The system is designed to calculate allowance and other terms from the system admin. The system admin is responsible for entering relevant data declared from House of people representative and prime minister office."),l.a.createElement("h5",{className:"text-center font-weight-bold"},"Security"),l.a.createElement("p",{className:"text-center lead"},"it is secured by jwt authentication and AES encryption with encrypted tokens. The two technologies are far more secured and can stop any brutal force attacks rised from any hackers . But the user must be responsible for his account when you finish doing any tasks please logout from your account and don't let another user to login to your account"),l.a.createElement("h5",{className:"text-center font-weight-bold"},"Technolgy"),l.a.createElement("p",{className:"text-center lead"},"Our developing team use React.js for front end and Node.js for server development .React is very fast reliable make development on client side peace of cake. Node.js is powerful non blocking server side programming it commits much faster for enterprise application .The two languages are the leading technologies on github website (developers repository store)"),l.a.createElement("h5",{className:"text-center font-weight-bold"},"Gratitude"),l.a.createElement("p",{className:"text-center lead"},"we give huge thanks for developers Dagmawi zewdu and worash abocher they have been domiant forces from system planning to finall"))))),l.a.createElement("p",{className:"text-center float-right "},l.a.createElement(Ra.Link,{to:"/feedBack"},"please send any feedbacks we will make an improvment for next version"),l.a.createElement("br",null),l.a.createElement(Ra.Link,{to:"/briefs"},"you can see system support and briefs for any miss understanding ",l.a.createElement("br",null)),"Designed and developed by Metrix technologies")))))))))},Ia=t(28),Fa=t.n(Ia),Ba=t(87),qa=(t(561),function(){var e,a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(L.a.get(R.host+"/date"));case 2:return e=t.sent,a=new Date(e.data.date),t.abrupt("return",a.toISOString());case 5:case"end":return t.stop()}}))}),Ma=function(e,a){var t=new Date(e);return(new Date(a).getTime()-t.getTime())/864e5},Ua=function(e,a){return!(Ma(e,a)<0)},Ga=function(e){return new Date(e).toUTCString().slice(0,16)},Ya=function(e){var a=new Date(e);return a.getHours()+":"+a.getMinutes()},za=function(e,a,t,n,l,c){var r=n||1,i=l||0,s=c||0,o=new Ba.ethDateTime(e,a,t,r,i,s);return new Date(Ba.converterDateTime.toEuropean(o)).toISOString()},Wa=function(e){var a=new Date(e),t=parseInt(a.getUTCDay()),n=1===t?"\u1230\u129e":2===t?"\u121b\u12ad\u1230\u129e":3===t?"\u1228\u1261\u12d5":4===t?"\u1210\u1219\u1235":5===t?"\u12a0\u122d\u1265":6===t?"\u1245\u12f3\u121c":7===t?"\u12a5\u1201\u12f5":"",l=parseInt(Ba.converterDateTime.toEthiopian(a).month);return n+" "+parseInt(Ba.converterDateTime.toEthiopian(a).date)+" "+(1===l?"\u1218\u1235\u12a8\u1228\u121d":2===l?"\u1325\u1245\u121d\u1275":3===l?"\u1205\u12f3\u122d":4===l?"\u1273\u1205\u1233\u1235":5===l?"\u1325\u122d":6===l?"\u12e8\u12ab\u1272\u1275":7===l?"\u1218\u130b\u1262\u1275":8===l?"\u121a\u12eb\u12dd\u12eb":9===l?"\u130d\u1295\u1266\u1275":10===l?"\u1230\u1294":11===l?"\u1210\u121d\u120c":12===l?"\u1290\u1210\u1234":13===l?"\u1333\u1309\u121c":"")+" "+Ba.converterDateTime.toEthiopian(a).year},Ha=function(e){var a=new Date(e);return Ba.converterDateTime.toEthiopian(a)},Ja=function(e){return 1===e?"\u1218\u1235\u12a8\u1228\u121d":2===e?"\u1325\u1245\u121d\u1275":3===e?"\u1205\u12f3\u122d":4===e?"\u1273\u1205\u1233\u1235":5===e?"\u1325\u122d":6===e?"\u12e8\u12ab\u1272\u1275":7===e?"\u1218\u130b\u1262\u1275":8===e?"\u121a\u12eb\u12dd\u12eb":9===e?"\u130d\u1295\u1266\u1275":10===e?"\u1230\u1294":11===e?"\u1210\u121d\u120c":12===e?"\u1290\u1210\u1234":13===e?"\u1333\u1309\u121c":""},Va=function(e,a){for(var t=a-e<0?13-e+a:a-e,n=[],l=0,c=0;c<=t;c++)c+e>13?n.push({number:a-l,month:Ja(a-l)}):0,c+e<=13?n.push({number:c+e,month:Ja(c+e)}):l++;return n},Za=function(e,a){for(var t=a-e,n=[],l=0;l<=t;l++)n.push(l+e);return n},Ka=function(e){var a=new Date(e).toLocaleTimeString().split(":"),t=a[2].split(" ");return a[0]+":"+a[1]+" "+(t[1]?t[1]:"")},Qa=function(e){return Ga(e).split(",")[1]},Xa=t(84),$a=function(e){function a(e,t,n){var l;return Object(_.a)(this,a),(l=Object(v.a)(this,Object(h.a)(a).call(this,t,n))).find_letter=function(e){return l.letters.find((function(a){return a._id===e}))},l.description=function(e){return l.find_letter(e)?JSON.parse(l.find_letter(e).description):""},l.editorState=function(e){return l.description(e)?Xa.EditorState.createWithContent(Object(Xa.convertFromRaw)(l.description(e))):Xa.EditorState.createEmpty()},l.description_text=function(e){return l.description(e)?l.description(e).blocks[0]?l.description(e).blocks[0].text:l.description(e).blocks[1].text:""},l.title=function(e){return l.find_letter(e)?l.find_letter(e).title:""},l.approval_managers=function(e){return l.find_letter(e)?l.find_letter(e).approval_manager:[]},l.manager_info=function(e,a){return l.approval_managers(e).find((function(e){var t=a||l.getEmp_id();return e.emp_id===t}))},l.participants=function(e){return l.find_letter(e)?l.find_letter(e).participants:[]},l.particpant_info=function(e,a){return l.participants(e).find((function(e){var t=a||l.getEmp_id();return e.emp_id===t}))},l.need_approval=function(e){return l.approval_managers(e).filter((function(e){return"waiting"===e.status}))},l.first_manager=function(e){var a=Math.min.apply(null,l.approval_managers(e).map((function(e){return e.step})));return l.approval_managers(e).filter((function(e){return e.step===a}))},l.isApproval=function(e,a){return!!l.manager_info(e,a)},l.isParticipant=function(e,a){return!!l.particpant_info(e,a)},l.approvalStep=function(e,a){return l.manager_info(e,a)?l.manager_info(e,a).step:null},l.needsApproval=function(e,a){return!!l.need_approval(e).find((function(e){return e.emp_id===a?a:l.getEmp_id()}))},l.approvedManagers=function(e){return l.approval_managers(e).filter((function(e){return"Approved"===e.status}))},l.sameStage=function(e,a){return l.approval_managers(e).filter((function(t){return t.step===l.approvalStep(e,a)&&t.emp_id!==l.getEmp_id()}))},l.proceedStage=function(e,a){return!l.sameStage(e,a).find((function(e){return"waiting"===e.status||"unApproved"===e.status}))},l.nextEmployee=function(e,a){var t=l.approval_managers(e).filter((function(t){return t.step!==l.approvalStep(e,a)&&"Approved"!==t.status})),n=Math.min.apply(null,t.map((function(e){return e.step})));return l.approval_managers(e).filter((function(e){return e.step===n}))},l.outBox=function(){return l.letters.filter((function(e){return e.creater===l.getEmp_id()}))},l.searchLetters=function(e){var a=e.toString().toLowerCase(),t=l.outBox().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),n=l.outBox().filter((function(e){return e.title.toString().toLowerCase().includes(a,0)})),c=l.outBox().filter((function(e){return e.type.toString().toLowerCase().includes(a,0)}));return x([].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(c)),"_id")},l.rank=function(e){return"Approved"===e?1:"waiting"===e?.5:0},l.progress=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return l.approval_managers(e).map((function(e){e.seen&&"waiting"===e.status?a+=l.rank(e.status):"waiting"===e.status?Aa():a+=l.rank(e.status)})),a},l.totallProgress=function(e){return Da(l.progress(e)/l.approval_managers(e).length*100)},l.isModifiable=function(e){return!!l.approval_managers(e).find((function(e){return"unApproved"===e.status}))||0===l.progress(e)},l.isApprovable=function(e,a){return!l.approval_managers(e).find((function(e){return"unApproved"===e.status&&e.emp_id!==l.getEmp_id()}))&&(!l.approval_managers(e).find((function(t){return t.step>l.approvalStep(e,a)&&"Approved"===t.status}))&&!l.participants(e).find((function(e){return e.seen})))},l.unApproved=function(e){return l.approval_managers(e).filter((function(e){return"unApproved"===e.status}))},l.letters=e,l}return Object(N.a)(a,e),a}(w),et=function(e){function a(e,t,n,l,c){var r;return Object(_.a)(this,a),(r=Object(v.a)(this,Object(h.a)(a).call(this,n,l,c))).findConnected=function(e){return r.Users.find((function(a){return a.emp_id===e}))},r.onlineUsers=function(){return r.Users.filter((function(e){return"connected"===e.status}))},r.isOnline=function(e){return!!r.onlineUsers().find((function(a){return a.emp_id===e}))},r.lastSeen=function(e){return r.findConnected(e)?r.findConnected(e).disconnected_time:""},r.myMessage=function(){return r.message.filter((function(e){return e.sender===r.getEmp_id()||e.reciever===r.getEmp_id()}))},r.contactedUsers=function(){var e=[];r.myMessage().map((function(a){a.sender!==r.getEmp_id()?e.push(a.sender):a.reciever!==r.getEmp_id()?e.push(a.reciever):Aa()}));var a=new Set(e);return Object(b.a)(a)},r.searchContacted=function(e){var a=e.toString().toLowerCase();return r.contactedUsers().filter((function(e){return r.messageName(e).toString().toLowerCase().includes(a,0)}))},r.chatRoom=function(e){return r.myMessage().filter((function(a){return a.sender===e||a.reciever===e}))},r.newMessages=function(e){return r.chatRoom(e).filter((function(e){return!e.seen&&e.reciever===r.getEmp_id()}))},r.last_message=function(e){return r.chatRoom(e).length?r.chatRoom(e)[0]:{message:"",file_name:"",letter_id:"",created_date:""}},r.notifiaction=function(){var e=0;return r.contactedUsers().map((function(a){e+=r.newMessages(a).length})),e},r.InboxLetters=function(){return r.message.filter((function(e){return e.reciever===r.getEmp_id()&&""!==e.letter_id})).map((function(e){return r.find_letter(e.letter_id)}))},r.SearchLetters=function(e){var a=e.toString().toLowerCase(),t=r.InboxLetters().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),n=r.InboxLetters().filter((function(e){return e.title.toString().toLowerCase().includes(a,0)})),l=r.InboxLetters().filter((function(e){return e.type.toString().toLowerCase().includes(a,0)})),c=x([].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(l)),"_id");return{newLetters:c.filter((function(e){return r.manager_info(e?e._id:"")?!r.manager_info(e._id).seen:!!r.particpant_info(e?e._id:"")&&!r.particpant_info(e._id).seen})),seenLetters:c.filter((function(e){return r.manager_info(e?e._id:"")?r.manager_info(e._id).seen:!!r.particpant_info(e?e._id:"")&&r.particpant_info(e._id).seen}))}},r.newInboxLetters=function(){return r.InboxLetters().filter((function(e){return r.manager_info(e?e._id:"")?!r.manager_info(e?e._id:"").seen:!!r.particpant_info(e?e._id:"")&&!r.particpant_info(e?e._id:"").seen}))},r.seenInboxLetters=function(){return r.InboxLetters().filter((function(e){return r.manager_info(e?e._id:"")?r.manager_info(e?e._id:"").seen:!!r.particpant_info(e?e._id:"")&&r.particpant_info(e?e._id:"").seen}))},r.allowanceLetter=function(){return r.InboxLetters().filter((function(e){return"allowance"===e.type}))},r.message=e,r.Users=t,r}return Object(N.a)(a,e),a}($a),at=function(){return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"main-card mb-3 min-height card"},l.a.createElement("h3",{className:"text-center"},"Loading..."),l.a.createElement(fe,{className:"mt-5"})))},tt=function(){return l.a.createElement("div",{className:"col-lg-12 "},l.a.createElement("div",{className:"main-card mb-3 min-height card"},l.a.createElement("h3",{className:"mt-5 text-center text-danger"},l.a.createElement(f.a,{icon:g.Eb,className:"fa-2x"}),l.a.createElement("br",null),"...oops loading failed the server is down or not active contact admin")))},nt=t(71),lt=t.n(nt),ct=t(73),rt=t.n(ct),it=t(72),st=t.n(it),ot=Object(o.withRouter)((function(){var e=Object(n.useContext)(p),a=e.values,t=e.setValues,c=a.type,r=a.step;return l.a.createElement("div",{className:"container my-4"},l.a.createElement("div",{className:"row card"},l.a.createElement("div",{className:"col-lg-12 mb-2"},l.a.createElement("h2",{className:"text-center"},"Please select letter type"),l.a.createElement("hr",null)),l.a.createElement("div",{className:"col-lg-12 text-center my-2",onClick:function(){return t(Object(E.a)({},a,{type:"allowance"}))}},"allowance"===c?l.a.createElement("button",{className:"btn btn-info"},l.a.createElement("h3",null,l.a.createElement(f.a,{icon:g.E,className:"mx-2"}),"Allowance letter")):l.a.createElement("button",{className:"btn"},l.a.createElement("h3",null,l.a.createElement(f.a,{icon:g.E,className:"mx-2"}),"Allowance letter"))),l.a.createElement("div",{className:"col-lg-12 text-center my-2",onClick:function(){return t(Object(E.a)({},a,{type:"normal"}))}},"normal"===c?l.a.createElement("button",{className:"btn btn-info"},l.a.createElement("h3",null,l.a.createElement(f.a,{icon:g.E,className:"mx-2"}),"Normal letter")):l.a.createElement("button",{className:"btn"},l.a.createElement("h3",null,l.a.createElement(f.a,{icon:g.E,className:"mx-2"}),"Normal letter")))),l.a.createElement("div",{className:"row mt-3"},l.a.createElement("div",{className:"col-lg-4"}),l.a.createElement("div",{className:"col-lg-4"}),l.a.createElement("div",{className:"col-lg-4"},c?l.a.createElement("button",{className:"btn btn-info float-right text-white",onClick:function(){return t(Object(E.a)({},a,{step:"allowance"===a.type?2:r<=2?2:a.step,tab:"allowance"===a.type?"create":r<=2?"create":3===r?"approval":4===r?"parcticpant":""}))}},l.a.createElement(f.a,{icon:g.J,className:"mx-2"}),"Next"):l.a.createElement("p",null))))})),mt=t(148),dt=(t(659),t(660),function(){var e=Object(n.useContext)(p),a=e.values,t=e.setValues,c=a.type,r=a.editorState,s=a.step,o=Object(n.useState)({error:!1,derror:!1,description:""}),m=Object(i.a)(o,2),d=m[0],u=m[1],b=Object(n.useRef)(null),_=Object(n.useRef)(null);return l.a.createElement("form",{onSubmit:function(e){return function(e){var n;if(e.preventDefault(),!r){u(Object(E.a)({},a,{error:!0}));try{b.current.focus()}catch(n){console.log(n)}}else if("allowance"===c)try{var l=za(a.idate,a.imonth,a.iyear),i=za(a.rdate,a.rmonth,a.ryear);Ua(l,i)?t(Object(E.a)({},a,{step:s<=2?3:s,tab:s<=3?"approval":4===s?"parcticpant":""})):(u(Object(E.a)({},d,{derror:!0})),_.current.focus())}catch(n){u(Object(E.a)({},d,{derror:!0})),_.current.focus()}else t(Object(E.a)({},a,{step:s<=2?3:s,tab:s<=3?"approval":4===s?"parcticpant":""}))}(e)}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 text-center"},l.a.createElement("div",{className:"signup-form"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Title"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement("h3",null,"T")),l.a.createElement("input",{type:"text",className:"input-field form-control",placeholder:"Title",required:!0,value:a.title,onChange:function(e){return t(Object(E.a)({},a,{title:e.target.value}))}}))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Description"),l.a.createElement(mt.Editor,{toolbarClassName:"toolbarClassName",editorStyle:{marginLeft:100,width:"212mm",minHeight:450,border:"1px solid",borderColor:a.error?"red":""},wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:function(e){t(Object(E.a)({},a,{editorState:e,description:JSON.stringify(Object(Xa.convertToRaw)(e.getCurrentContent()))})),u(Object(E.a)({},a,{error:!1,derror:!1}))},editorState:r,ref:b}),d.error?l.a.createElement("p",{className:"text-center text-danger font-weight-bold"},"Please enter description"):l.a.createElement("p",null)),l.a.createElement("div",null)),"allowance"===c?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Objective"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.B,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",Object(Ee.a)({className:"input-field form-control my-auto",type:"text",value:a.objective,placeholder:"Objective",onChange:function(e){return t(Object(E.a)({},a,{objective:e.target.value}))},required:!0},"value",a.objective))),l.a.createElement("p",{className:"font-weight-bold text-center"},"Project name and code"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.e,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",value:a.project_name,placeholder:"Project name and code",onChange:function(e){return t(Object(E.a)({},a,{project_name:e.target.value}))}})),l.a.createElement("p",{className:"font-weight-bold text-center"},"program name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.mb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",value:a.program,placeholder:"Program name",onChange:function(e){return t(Object(E.a)({},a,{program:e.target.value}))}}))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Initial Place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.ub,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Initial place",onChange:function(e){return t(Object(E.a)({},a,{initial_place:e.target.value}))},values:a.initial_place,required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Destination Place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.p,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Destination place",onChange:function(e){return t(Object(E.a)({},a,{destination_place:e.target.value}))},value:a.destination_place,required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Initial Date"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,value:a.idate,onChange:function(e){t(Object(E.a)({},a,{idate:parseInt(e.target.value)}))},required:!0}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return t(Object(E.a)({},a,{imonth:parseInt(e.target.value),process:"",error:"",success:""}))},value:a.imonth,required:!0},l.a.createElement("option",{value:""},"mm"),l.a.createElement("option",{value:1},"\u1218\u1235\u12a8\u1228\u121d"),l.a.createElement("option",{value:2},"\u1325\u1245\u121d\u1275"),l.a.createElement("option",{value:3},"\u1205\u12f3\u122d"),l.a.createElement("option",{value:4},"\u1273\u1205\u1233\u1235"),l.a.createElement("option",{value:5},"\u1325\u122d"),l.a.createElement("option",{value:6},"\u12e8\u12ab\u1272\u1275"),l.a.createElement("option",{value:7},"\u1218\u130b\u1262\u1275"),l.a.createElement("option",{value:8},"\u121a\u12eb\u12dd\u12eb"),l.a.createElement("option",{value:9},"\u130d\u1295\u1266\u1275"),l.a.createElement("option",{value:10},"\u1230\u1294"),l.a.createElement("option",{value:11},"\u1210\u121d\u120c"),l.a.createElement("option",{value:12},"\u1290\u1210\u1234"),l.a.createElement("option",{value:13},"\u1333\u1309\u121c")),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"YYYY",min:2013,onChange:function(e){t(Object(E.a)({},a,{iyear:parseInt(e.target.value)}))},required:!0,value:a.iyear}),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),l.a.createElement("p",{className:"font-weight-bold text-center"},"Return Date"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,value:a.rdate,onChange:function(e){t(Object(E.a)({},a,{rdate:parseInt(e.target.value)}))},required:!0,ref:_}),l.a.createElement("select",{className:"input-field form-control my-auto",value:a.rmonth,onChange:function(e){return t(Object(E.a)({},a,{rmonth:parseInt(e.target.value),process:"",error:"",success:""}))},required:!0},l.a.createElement("option",{value:""},"mm"),l.a.createElement("option",{value:1},"\u1218\u1235\u12a8\u1228\u121d"),l.a.createElement("option",{value:2},"\u1325\u1245\u121d\u1275"),l.a.createElement("option",{value:3},"\u1205\u12f3\u122d"),l.a.createElement("option",{value:4},"\u1273\u1205\u1233\u1235"),l.a.createElement("option",{value:5},"\u1325\u122d"),l.a.createElement("option",{value:6},"\u12e8\u12ab\u1272\u1275"),l.a.createElement("option",{value:7},"\u1218\u130b\u1262\u1275"),l.a.createElement("option",{value:8},"\u121a\u12eb\u12dd\u12eb"),l.a.createElement("option",{value:9},"\u130d\u1295\u1266\u1275"),l.a.createElement("option",{value:10},"\u1230\u1294"),l.a.createElement("option",{value:11},"\u1210\u121d\u120c"),l.a.createElement("option",{value:12},"\u1290\u1210\u1234"),l.a.createElement("option",{value:13},"\u1333\u1309\u121c")),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"YYYY",min:2013,onChange:function(e){t(Object(E.a)({},a,{ryear:parseInt(e.target.value),process:"",error:"",success:""}))},required:!0,value:a.ryear}),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")))):l.a.createElement("p",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},d.derror?l.a.createElement("p",{className:"text-center text-danger font-weight-bold"},"Invalid date entered please check initial day and return day"):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"btn-danger btn",onClick:function(){return t(Object(E.a)({},a,{tab:"type"}))}},l.a.createElement(f.a,{icon:g.d,className:"text-white"}),"Back")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{type:"submit",className:"btn btn-info mt-3 float-right"},l.a.createElement(f.a,{icon:g.J,className:"text-white"}),"Next")))))}),ut=function(){var e=Object(n.useContext)(p),a=e.values,t=e.setValues,c=e.emp_id,r=Object(n.useContext)(d),i=r.employees,s=r.users,o=i.state,m=(i.loading,i.error,s.state),u=(s.loading,s.error,new w(m,o)),_=a.type,v=function(e){var a=e?0:1;return u.getF_director().map((function(e){return a++,{emp_id:e.emp_id,step:a}}))};Object(n.useEffect)((function(){a.approval_manager.length?Aa():"allowance"===_?u.isF_director(c)?t((function(e){return Object(E.a)({},e,{f_director:v(!0)})})):t((function(e){return Object(E.a)({},e,{f_director:v(!1),approval_manager:u.canApprove(c)?[].concat(Object(b.a)(e.approval_manager),[{emp_id:c,step:1}]):e.approval_manager})})):Aa(),a.approval_manager.length?Aa():"normal"===_?t((function(e){return Object(E.a)({},e,{approval_manager:u.canApprove(c)?[].concat(Object(b.a)(e.approval_manager),[{emp_id:c,step:1}]):e.approval_manager})})):Aa()}),[]);var h=function(){var e=0;return a.approval_manager.map((function(a){return a.step>e?e=a.step:Aa()})),a.f_director.map((function(a){return a.step>e?e=a.step:Aa()})),e},N=function(e,n){"manager"===n?a.approval_manager.find((function(a){return a.emp_id===e}))?Aa():t((function(a){return Object(E.a)({},a,{approval_manager:[].concat(Object(b.a)(a.approval_manager),[{emp_id:e,step:h()+1}])})})):"fd"===n?a.f_director.find((function(a){return c===e}))?Aa():t((function(a){return Object(E.a)({},a,{f_director:[].concat(Object(b.a)(a.f_director),[{emp_id:e,step:h()+1}])})})):Aa()},x=function(e){return t((function(a){return Object(E.a)({},a,{f_director:a.f_director.filter((function(a){return a.emp_id!==e}))})}))};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Search employee name,department,userole",onChange:function(e){return n=e.target.value,t(Object(E.a)({},a,{employees:""!==n?u.searchEmployee(n):[]}));var n}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-2"}),l.a.createElement("div",{className:"col-lg-12 mt-2"},l.a.createElement(xe.g,null,l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"# Employee id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"Employee name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Y,className:"mx-2"}),"Department"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.xb,className:"mx-2"}),"User role"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ib,className:"mx-2"}),"Select"))),l.a.createElement(xe.h,null,a.employees.length?a.employees.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center font-weight-bold"},e.emp_id),l.a.createElement("td",null,u.Name(e.emp_id)),l.a.createElement("td",null,e.department),l.a.createElement("td",null,e.type),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-info",onClick:function(){return u.isF_director(e.emp_id)?N(e.emp_id,"fd"):N(e.emp_id,"manager")}},l.a.createElement(f.a,{icon:g.ib,className:"mx-2"}),"select")))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger font-weight-bold"},"No Employees found"))))),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("h3",{className:"text-center"},"Approval Managers")),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement(xe.g,null,l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"# Employee id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"Employee name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Y,className:"mx-2"}),"Department"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.xb,className:"mx-2"}),"User role"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Q,className:"mx-2"}),"step to approve"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ib,className:"mx-2"}),"set approval step"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.tb,className:"mx-2"}),"Remove"))),l.a.createElement(xe.h,null,a.approval_manager.length||a.f_director.length?a.approval_manager.map((function(e){return l.a.createElement("tr",{key:e.emp_id},l.a.createElement("td",{className:"text-center font-weight-bold"},e.emp_id),l.a.createElement("td",null,u.Name(e.emp_id)),l.a.createElement("td",null,u.Department(e.emp_id)),l.a.createElement("td",null,u.UserRole(e.emp_id)),l.a.createElement("td",null,e.step),l.a.createElement("td",{className:"text-center input-container"},l.a.createElement("p",{className:"mx-2"},"set Level"),l.a.createElement("input",{type:"number",className:"input-field",onChange:function(a){return function(e,a){t((function(t){return Object(E.a)({},t,{approval_manager:a?[].concat(Object(b.a)(t.approval_manager.filter((function(a){return a.emp_id!==e}))),[{emp_id:e,step:a}]):t.approval_manager})}))}(e.emp_id,parseInt(a.target.value))}})),l.a.createElement("td",{className:"text-center",onClick:function(){return function(e){return t((function(a){return Object(E.a)({},a,{approval_manager:a.approval_manager.filter((function(a){return a.emp_id!==e}))})}))}(e.emp_id)}},l.a.createElement(f.a,{icon:g.tb,className:"fa-1x"})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:6,className:"text-center font-weight-bold"},"No Employess added for approval")),a.f_director.map((function(e){return l.a.createElement("tr",{key:e.emp_id},l.a.createElement("td",null,e.emp_id),l.a.createElement("td",null,u.Name(e.emp_id)),l.a.createElement("td",null,u.Department(e.emp_id)),l.a.createElement("td",null,u.UserRole(e.emp_id)),l.a.createElement("td",null,e.step),l.a.createElement("td",{className:"text-center input-container"},l.a.createElement("p",{className:"mx-2"},"set Level"),l.a.createElement("input",{type:"number",className:"input-field",onChange:function(a){return function(e,a){return t((function(t){return Object(E.a)({},t,{f_director:[].concat(Object(b.a)(t.f_director.filter((function(a){return a.emp_id!==e}))),[{emp_id:e,step:a}])})}))}(e.emp_id,parseInt(a.target.value))}})),l.a.createElement("td",{className:"text-center"},"normal"===_?l.a.createElement("button",{className:"btn",onClick:function(){return x(e.emp_id)}},l.a.createElement(f.a,{icon:g.tb,className:"fa-1x"})):a.f_director.length>1&&"allowance"===_?l.a.createElement("button",{className:"btn",onClick:function(){return x(e.emp_id)}},l.a.createElement(f.a,{icon:g.tb,className:"fa-1x"})):l.a.createElement("p",null)))}))))),l.a.createElement("div",{className:"col-lg-6 mt-3"},l.a.createElement("div",{className:"btn-danger btn",onClick:function(){return t(Object(E.a)({},a,{tab:"create"}))}},l.a.createElement(f.a,{icon:g.d,className:"text-white"}),"Back")),l.a.createElement("div",{className:"col-lg-6 mt-3"},l.a.createElement("button",{type:"submit",className:"btn btn-info float-right",onClick:function(){return t(Object(E.a)({},a,{tab:"participant",step:4}))}},l.a.createElement(f.a,{icon:g.J,className:"text-white"}),"Next"))))},pt=function(){var e=localStorage,a=e.user_type,t=e.token;return{token:Object(be.decryptToken)(t),usertype:a}},Et=function(e){e.emit("letters",""),e.emit("chat","")},ft=function(){var e=Object(n.useContext)(p),a=e.emp_id,t=e.setValues,c=e.values,r=e.id,s=c.approval_manager,o=c.f_director,m=[].concat(Object(b.a)(s||[]),Object(b.a)(o||[])),u=Object(n.useContext)(d),_=u.employees,v=u.users,h=u.socket,N=u.letters,x=(u.dispatchMessages,_.state),y=v.state,w=new $a(N.state,y,x),O=w.find_letter(r),j=Ca()+h?h.id:"",k=Object(n.useState)(Object(E.a)({i:0},ka("default"))),C=Object(i.a)(k,2),A=C[0],D=C[1];Object(n.useEffect)((function(){"create"===c.usage&&a?m.find((function(e){return e.emp_id===a}))?Aa():t((function(e){return Object(E.a)({},e,{participants:[].concat(Object(b.a)(e.participants),[{emp_id:a}])})})):Aa()}),[]);var P=function(e){var a,t,n,l,r,i;return S.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,S.a.awrap(L.a.get(R.host+"/letters"));case 2:return a=s.sent,t=Object(T.decrptObject)(a.data),n=new $a(t,y,x),l=n.first_manager(e._doc._id).map((function(a){return{message:e._doc.title,letter_id:e._doc._id,sender:w.getEmp_id(),reciever:a.emp_id}})),r=n.first_manager(e._doc._id).length?[]:n.participants(e._doc._id).map((function(a){return{message:e._doc.title,letter_id:e._doc._id,sender:w.getEmp_id(),reciever:a.emp_id}})),s.next=9,S.a.awrap(L.a.post(R.host+"/messages",{data:Object(T.encryptObject)(Object(E.a)({messages:[].concat(Object(b.a)(r),Object(b.a)(l))},pt()))}));case 9:i=s.sent,Object(T.decrptObject)(i.data).created?D((function(e){return Object(E.a)({},e,{},"create"===c.usage?ka("success","saving letter success"):ka("success","updating letter success"))})):D((function(e){return Object(E.a)({},e,{},ka("error","Error in creating message please try again later..."))})),Et(h);case 13:case"end":return s.stop()}}))};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"text-center my-3"},"Add Recievers"),l.a.createElement("p",{className:"text-small font-weight-bold font-italic text-center"},l.a.createElement(f.a,{icon:g.O,className:"text-info mx-2"}),"what are Recievers ?- are employees which don't need to approve ,simply they are the employees that are include in the letter")),l.a.createElement("div",{className:"col-lg-4"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Search employee name,department,userole",onChange:function(e){return a=e.target.value,t(Object(E.a)({},c,{employees:""!==a?w.searchEmployee(a):[]}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-2"}),l.a.createElement("div",{className:"col-lg-12 mt-2"},l.a.createElement(xe.g,null,l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"# Employee id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"Employee name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Y,className:"mx-2"}),"Department"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.xb,className:"mx-2"}),"User role"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ib,className:"mx-2"}),"Select"))),l.a.createElement(xe.h,null,c.employees.length?c.employees.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center font-weight-bold"},e.emp_id),l.a.createElement("td",null,w.Name(e.emp_id)),l.a.createElement("td",null,e.department),l.a.createElement("td",null,e.type),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-info",onClick:function(){return function(e){return c.participants.find((function(a){return a.emp_id===e}))?Aa():t((function(a){return Object(E.a)({},a,{participants:[].concat(Object(b.a)(a.participants),[{emp_id:e}])})}))}(e.emp_id)}},l.a.createElement(f.a,{icon:g.ib,className:"mx-2"}),"Add")))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger font-weight-bold"},"No Employees found"))))),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement(xe.g,null,l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"# Employee id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"Employee name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Y,className:"mx-2"}),"Department"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.xb,className:"mx-2"}),"User role"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.tb,className:"mx-2"}),"Remove"))),l.a.createElement(xe.h,null,c.participants.length?c.participants.map((function(e){return l.a.createElement("tr",{key:e.emp_id},l.a.createElement("td",{className:"text-center font-weight-bold"},e.emp_id),l.a.createElement("td",null,w.Name(e.emp_id)),l.a.createElement("td",null,w.Department(e.emp_id)),l.a.createElement("td",null,w.UserRole(e.emp_id)),l.a.createElement("td",{className:"text-center",onClick:function(){return function(e){return t((function(a){return Object(E.a)({},a,{participants:a.participants.filter((function(a){return a.emp_id!==e}))})}))}(e.emp_id)}},l.a.createElement(f.a,{icon:g.tb,className:"fa-1x"})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center font-weight-bold"},"No particpants added"))))),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},A.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},A.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},A.process),A.loading?l.a.createElement(fe,null):l.a.createElement("p",null))),l.a.createElement("div",{className:"col-lg-6 my-2"}),l.a.createElement("div",{className:"col-lg-6 my-2"},l.a.createElement("button",{disabled:A.disable,className:"btn float-right btn-info",onClick:function(){return function(){var e,a,t,n,l,i,s,o,d,u,p,f,g,b,_,v,N,x;return S.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(y.prev=0,e=c.type,a=c.title,t=c.objective,n=c.initial_place,l=c.destination_place,i=c.idate,s=c.imonth,o=c.iyear,d=c.rdate,u=c.rmonth,p=c.ryear,f=c.participants,g=c.description,b=c.project_name,_=c.program,v="allowance"===e?za(i,s,o):"",N="allowance"===e?za(d,u,p):"","create"!==c.usage){y.next=10;break}D((function(e){return Object(E.a)({},e,{},ka("initial","saving please wait..."))})),h.emit("create_letter",{creater:w.getEmp_id(),type:e,title:a,description:g,objective:t,initial_place:n,project_name:b,program:_,destination_place:l,initial_date:v,return_date:N,participants:f,approval_manager:m,rid:j}),h.on("create_letter",(function(e){e.rid===j?P(e):D((function(e){return Object(E.a)({},e,{},ka("error","Saving error please try again letter"))}))})),y.next=22;break;case 10:if("edit"!==c.usage){y.next=21;break}return 0,D((function(e){return Object(E.a)({},e,{},ka("initial","updating please wait..."))})),h.emit("update_letter",Object(E.a)({_id:r},O,{type:e,title:a,description:g,objective:t,initial_place:n,project_name:b,program:_,destination_place:l,initial_date:v,return_date:N,participants:f,approval_manager:m,rid:j})),y.next=16,S.a.awrap(L.a.put(R.host+"/delMessages",{data:Object(T.encryptObject)(Object(E.a)({_id:r},pt()))}));case 16:x=y.sent,Object(T.decrptObject)(x.data).deleted&&P({_doc:{title:a,_id:r}}),y.next=22;break;case 21:D((function(e){return Object(E.a)({},e,{},ka("error","unable to update message of the letter please try again letter"))}));case 22:y.next=27;break;case 24:y.prev=24,y.t0=y.catch(0),D((function(e){return Object(E.a)({},e,{},ka("error","unable to update letter please try again letter"))}));case 27:case"end":return y.stop()}}),null,null,[[0,24]])}()}},"save"))))},gt=Object(o.withRouter)((function(e){var a=e.match,t=e.setSize,c=a.params.id,r=Object(n.useState)({step:1,type:"",tab:"type",employees:[],approval_manager:[],f_director:[],participants:[],usage:"create"}),s=Object(i.a)(r,2),o=s[0],m=s[1];Object(n.useEffect)((function(){t("xl")}),[]);var d=function(e){return"type"===e?"type":"create"===e?o.step>=2?"create":"type":"approval"===e?o.step>=3?"approval":1===o.step?"type":2===o.step?"create":"":"participant"===e?o.step>=4?"participant":1===o.step?"type":2===o.step?"create":3==o.step?"approval":"":""};return l.a.createElement(p.Provider,{value:{setValues:m,values:o,setSize:t,emp_id:c}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3",onClick:function(){return m(Object(E.a)({},o,{tab:d("type")}))}},l.a.createElement("h4",{className:"text-center"},l.a.createElement(f.a,{icon:g.P,className:"text-info"}),"select type")),l.a.createElement("div",{className:"col-lg-3",onClick:function(){return m(Object(E.a)({},o,{tab:d("create")}))}},l.a.createElement("h4",{className:"text-center"},l.a.createElement(f.a,{icon:g.C,className:o.step>=2?"text-info mx-2":""}),"Write aletter")),l.a.createElement("div",{className:"col-lg-3",onClick:function(){return m(Object(E.a)({},o,{tab:d("approval")}))}},l.a.createElement("h4",{className:"text-center"},l.a.createElement(f.a,{icon:g.Ab,className:o.step>=3?"text-info mx-2":""}),"Select approval stages")),l.a.createElement("div",{className:"col-lg-3",onClick:function(){return m(Object(E.a)({},o,{tab:d("participant")}))}},l.a.createElement("h4",{className:"text-center"},l.a.createElement(f.a,{icon:g.Db,className:o.step>=4?"text-info mx-2":""}),"Add Recievers"))),l.a.createElement("div",{className:"col-lg-12 my-3"},l.a.createElement("h4",{className:"text-center"},l.a.createElement(Ea.a,{animated:!0,multi:!0},l.a.createElement(Ea.a,{animated:!0,bar:!0,value:25},"select type"),l.a.createElement(Ea.a,{animated:!0,bar:!0,color:"warning",value:o.step>=2?25:0},"Write aletter"),l.a.createElement(Ea.a,{animated:!0,bar:!0,color:"info",value:o.step>=3?25:0},"Select approval stages"),l.a.createElement(Ea.a,{animated:!0,bar:!0,color:"success",value:o.step>=4?25:0},"Add participants")))),"type"===o.tab?l.a.createElement(ot,null):"create"===o.tab?l.a.createElement(dt,null):"approval"===o.tab?l.a.createElement(ut,null):"participant"===o.tab?l.a.createElement(ft,null):l.a.createElement("p",null)))})),bt=function(e){var a=e._id,t=e.close,c=Object(n.useState)(Object(E.a)({deleted:!1},ka("default"))),r=Object(i.a)(c,2),s=r[0],o=r[1];Object(n.useContext)(d).socket;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},s.deleted?l.a.createElement("h5",{className:"text-center text-success"},l.a.createElement(f.a,{icon:g.r})," Deleted"):l.a.createElement("h5",{className:"text-center text-info"},s.progress),l.a.createElement("p",{className:"text-center"},s.loading?l.a.createElement(fe,null):l.a.createElement("p",null)))),l.a.createElement("div",{className:"row float-right"},s.deleted?l.a.createElement("button",{className:"btn btn-info float-right mx-2",disabled:s.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Close"):l.a.createElement("button",{className:"btn btn-info float-right",onClick:function(){return t()},disabled:s.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Cancel"),s.deleted?l.a.createElement("p",null):l.a.createElement("button",{className:"btn btn-primary float-right mx-2",onClick:function(){return function(){var e,t;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o(Object(E.a)({},s,{},ka("initial","Deleting..."))),n.next=4,S.a.awrap(L.a.put(R.host+"/letters",{data:Object(T.encryptObject)(Object(E.a)({_id:a},pt()))}));case 4:if(e=n.sent,!Object(T.decrptObject)(e.data).deleted){n.next=14;break}return n.next=9,S.a.awrap(L.a.put(R.host+"/delMessages",{data:Object(T.encryptObject)(Object(E.a)({_id:a},pt()))}));case 9:t=n.sent,Object(T.decrptObject)(t.data).deleted?o((function(e){return Object(E.a)({},e,{},ka("success","Deleted successfully"),{deleted:!0})})):o((function(e){return Object(E.a)({},e,{},ka("error","unable to delete messages of the letter please contact admin"))})),n.next=15;break;case 14:o((function(e){return Object(E.a)({},e,{},ka("error","unable to delete letter please try again letter"))}));case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),o((function(e){return Object(E.a)({},e,{},ka("error","unable to letter internal server error"))}));case 20:case"end":return n.stop()}}),null,null,[[0,17]])}()},disabled:s.disable},l.a.createElement(f.a,{icon:g.r,className:"mx-2 fx-2"}),"Yes")))},_t=Object(o.withRouter)((function(e){var a=e.match,t=e.l_id,c=(a.params.id,Object(n.useContext)(d)),r=c.letters,s=c.users,o=c.employees,m=new $a(r.state,s.state,o.state),u=m.find_letter(t),b=Object(n.useState)({step:1,type:"",tab:"type",employees:[],approval_manager:[],f_director:[],participants:[],usage:"edit"}),_=Object(i.a)(b,2),v=_[0],h=_[1];Object(n.useEffect)((function(){var e=m.approval_managers(t).filter((function(e){return"f_director"!==m.UserRole(e.emp_id)})),a=m.approval_managers(t).filter((function(e){return"f_director"===m.UserRole(e.emp_id)}));h((function(n){return Object(E.a)({},n,{approval_manager:e.map((function(e){return{emp_id:e.emp_id,step:e.step}})),f_director:a.map((function(e){return{emp_id:e.emp_id,step:e.step}})),participants:m.participants(t).map((function(e){return e?{emp_id:e.emp_id}:Aa()})),type:u.type,editorState:m.editorState(t),description:JSON.stringify(m.description(t)),title:u.title,objective:u.objective,project_name:u.project_name,program:u.program,initial_place:u.initial_place,destination_place:u.destination_place,idate:"allowance"===u.type?Ha(u.initial_date).date:"",imonth:"allowance"===u.type?Ha(u.initial_date).month:"",iyear:"allowance"===u.type?Ha(u.initial_date).year:"",rdate:"allowance"===u.type?Ha(u.return_date).date:"",rmonth:"allowance"===u.type?Ha(u.return_date).month:"",ryear:"allowance"===u.type?Ha(u.return_date).year:""})}))}),[]);var N=function(e){return"type"===e?"type":"create"===e?v.step>=2?"create":"type":"approval"===e?v.step>=3?"approval":1===v.step?"type":2===v.step?"create":"":"participant"===e?v.step>=4?"participant":1===v.step?"type":2===v.step?"create":3==v.step?"approval":"":""};return l.a.createElement(p.Provider,{value:{setValues:h,values:v,id:t,letter:u}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3",onClick:function(){return h(Object(E.a)({},v,{tab:N("type")}))}},l.a.createElement("h4",{className:"text-center"},l.a.createElement(f.a,{icon:g.P,className:"text-info"}),"select type")),l.a.createElement("div",{className:"col-lg-3",onClick:function(){return h(Object(E.a)({},v,{tab:N("create")}))}},l.a.createElement("h4",{className:"text-center"},l.a.createElement(f.a,{icon:g.C,className:v.step>=2?"text-info mx-2":""}),"Write aletter")),l.a.createElement("div",{className:"col-lg-3",onClick:function(){return h(Object(E.a)({},v,{tab:N("approval")}))}},l.a.createElement("h4",{className:"text-center"},l.a.createElement(f.a,{icon:g.Ab,className:v.step>=3?"text-info mx-2":""}),"Select approval stages")),l.a.createElement("div",{className:"col-lg-3",onClick:function(){return h(Object(E.a)({},v,{tab:N("participant")}))}},l.a.createElement("h4",{className:"text-center"},l.a.createElement(f.a,{icon:g.Db,className:v.step>=4?"text-info mx-2":""}),"Add Recievers"))),l.a.createElement("div",{className:"col-lg-12 my-3"},l.a.createElement("h4",{className:"text-center"},l.a.createElement(Ea.a,{animated:!0,multi:!0},l.a.createElement(Ea.a,{animated:!0,bar:!0,value:25},"select type"),l.a.createElement(Ea.a,{animated:!0,bar:!0,color:"warning",value:v.step>=2?25:0},"Write aletter"),l.a.createElement(Ea.a,{animated:!0,bar:!0,color:"info",value:v.step>=3?25:0},"Select approval stages"),l.a.createElement(Ea.a,{animated:!0,bar:!0,color:"success",value:v.step>=4?25:0},"Add participants")))),"type"===v.tab?l.a.createElement(ot,null):"create"===v.tab?l.a.createElement(dt,null):"approval"===v.tab?l.a.createElement(ut,null):"participant"===v.tab?l.a.createElement(ft,null):l.a.createElement("p",null)))})),vt=function(e){var a=e.l_id,t=Object(n.useContext)(d),c=(t.socket,t.messages),r=t.connections,i=t.employees,s=t.users,o=t.letters,m=new et(c.state,r.state,o.state,s.state,i.state),u=(m.totallProgress(a),m.approval_managers(a).find((function(e){return"unApproved"===e.status}))?"red":"info");return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 my-2"},m.approval_managers(a).length?l.a.createElement("h4",{className:"text-center"},"Approval managers"):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-12"},m.approval_managers(a).length?l.a.createElement(xe.g,{striped:!0,hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"#Employee id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"Employee name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.q,className:"mx-2"}),"Approval stage"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Ab,className:"mx-2"}),"Seen"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.s,className:"mx-2"}),"Approval status"))),l.a.createElement(xe.h,null,m.approval_managers(a).map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.emp_id),l.a.createElement("td",null,m.Name(e.emp_id)),l.a.createElement("td",null,e.step),l.a.createElement("td",null,e.seen?"Seen":"not Seen"),l.a.createElement("td",null,"Approved"===e.status?l.a.createElement("p",{className:"text-center text-success"},l.a.createElement(f.a,{icon:g.s,className:"fa-2x mx-2 text-success"}),"Approved"):"unApproved"===e.status?l.a.createElement("p",{className:"text-center"},l.a.createElement(f.a,{icon:g.Eb,className:"fa-2x mx-2 text-danger"}),"unApproved"):"waiting"===e.status&&e.seen?l.a.createElement("p",{className:"text-center"},l.a.createElement(f.a,{icon:g.H,className:"fa-2x mx-2 text-info"}),"Reviewing"):"waiting"===e.status?l.a.createElement("p",{className:"text-center font-weight-bold"},"waiting"):l.a.createElement("p",null)))})))):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-12 my-2"},m.participants(a).length?l.a.createElement("h4",{className:"text-center"},"participants"):l.a.createElement("p",null),m.participants(a).length?l.a.createElement(xe.g,{striped:!0,hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"# Employee id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"Employee name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Ab,className:"mx-2"}),"Seen"))),l.a.createElement(xe.h,null,m.participants(a).map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.emp_id),l.a.createElement("td",null,m.Name(e.emp_id)),l.a.createElement("td",null,e.seen?"Seen":"not Seen"))})))):l.a.createElement("p",null)),m.totallProgress(a)?l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"mb-3 widget-chart widget-chart2 text-left card card-shadow-"+u},l.a.createElement("div",{className:"widget-content"},l.a.createElement("div",{className:"widget-content-outer"},l.a.createElement("div",{className:"widget-content-wrapper"},l.a.createElement("div",{className:"widget-content-left pr-2 fsize-1"},l.a.createElement("div",{className:"widget-numbers mt-0 fsize-3 text-"+u},m.totallProgress(a),"%")),l.a.createElement("div",{className:"widget-content-right w-100"},l.a.createElement("div",{className:"progress-bar-xs progress"},l.a.createElement("div",{className:"progress-bar bg-"+u,role:"progressbar","aria-valuenow":m.totallProgress(a),"aria-valuemin":0,"aria-valuemax":100,style:{width:m.totallProgress(a)+"%"}})))),l.a.createElement("div",{className:"widget-content-left fsize-1"},l.a.createElement("div",{className:"text-muted opacity-6"},"Approval Totall progress made")))))):l.a.createElement("p",null),m.unApproved(a).length?l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"text-center font-weight-bold text-danger"},"The following managers does not approve this letter because of"),m.unApproved(a).map((function(e){return l.a.createElement("p",{className:"text-danger font-italic font-weight-bold text-center"},m.Name(e.emp_id),"-",m.manager_info(a,e.emp_id)?m.manager_info(a,e.emp_id).comment:"")}))):l.a.createElement("p",null)))},ht=function(e){var a=e.l_id,t=Object(n.useState)(Object(E.a)({approved:"",unApproved:!1,comment:"",check:{Approved:!1,unApproved:!1}},ka("default"))),c=Object(i.a)(t,2),r=c[0],s=c[1],o=Object(n.useContext)(d),m=o.socket,u=o.letters,p=o.employees,_=o.messages,v=o.users,h=o.connections,N=new et(_.state,h.state,u.state,v.state,p.state),x=N.find_letter(a),y=N.getEmp_id(),w=function(){var e,t,n,l,c,i,o;return S.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,S.a.awrap(Sa());case 2:if(e=m.sent,t=new et(_.state,h.state,e,v.state,p.state),n=100===t.totallProgress(a),l=!!t.participants(a).length,!n||!l){m.next=13;break}return c=N.participants(a),i=c.map((function(e){return{message:x.title,letter_id:a,sender:x.creater,reciever:e.emp_id}})),m.next=11,S.a.awrap(L.a.post(R.host+"/messages",{data:Object(T.encryptObject)(Object(E.a)({messages:[].concat(Object(b.a)(i),[{message:"System Notification- Letter "+x.id+" has completed approval stages and given to all participants",sender:y,reciever:x.creater}])},pt()))}));case 11:o=m.sent,Object(T.decrptObject)(o.data);case 13:s(Object(E.a)({},r,{},ka("success","Decison made succesfully")));case 14:case"end":return m.stop()}}))};return l.a.createElement("form",{onSubmit:function(e){return function(e){var t,n,l,c,i,o;return S.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return e.preventDefault(),d.prev=1,s(Object(E.a)({},r,{},ka("initial","Taking decision please wait ..."))),d.next=5,S.a.awrap(qa());case 5:return t=d.sent,n=Object(E.a)({},x,{approval_manager:[].concat(Object(b.a)(N.approval_managers(a).filter((function(e){return e.emp_id!==y}))),[Object(E.a)({},N.manager_info(a),{status:r.approved,comment:r.comment,approved_date:t})])}),d.next=9,S.a.awrap(L.a.put(R.host+"/letter",{data:Object(T.encryptObject)(Object(E.a)({},n,{},pt()))}));case 9:if(l=d.sent,!Object(T.decrptObject)(l.data).updated){d.next=31;break}if(!N.proceedStage(a)){d.next=28;break}if(c=N.nextEmployee(a),!!!c.length){d.next=25;break}return i=c.map((function(e){return{message:x.title,letter_id:a,file_name:"",sender:x.creater,reciever:e.emp_id}})),d.next=20,S.a.awrap(L.a.post(R.host+"/messages",{data:Object(T.encryptObject)(Object(E.a)({messages:[].concat(Object(b.a)(i),[{message:"Approved"===r.approved?"System Notification "+N.Name(y)+" has approved your letter "+x.id:"unApproved"===r.approved?"System notification "+N.Name(y)+" un approved your letter because "+r.comment:"",letter_id:"",file_name:"",sender:y,reciever:x.creater}])},pt()))}));case 20:o=d.sent,Object(T.decrptObject)(o.data).created,w(),d.next=26;break;case 25:w();case 26:d.next=29;break;case 28:s(Object(E.a)({},r,{},ka("success","Decison made succesfully")));case 29:d.next=32;break;case 31:s(Object(E.a)({},r,{},ka("error","Error made while taking decision making please try again letter")));case 32:Et(m),d.next=38;break;case 35:d.prev=35,d.t0=d.catch(1),s(Object(E.a)({},r,{},ka("error","Error made while taking decision making please try again letter")));case 38:case"end":return d.stop()}}),null,null,[[1,35]])}(e)}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.r,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:r.check.Approved,className:"my-auto mx-3",onChange:function(e){return s((function(e){return Object(E.a)({},r,{approved:"Approved"===e.approved?"":"Approved",check:{Approved:!e.check.Approved,unApproved:!1}})}))}}),"Approve"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Eb,className:"text-danger fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:r.check.unApproved,className:"my-auto mx-3",onChange:function(e){return s((function(e){return Object(E.a)({},r,{approved:"unApproved"===e.approved?"":"unApproved",check:{Approved:!1,unApproved:!e.check.unApproved}})}))}}),"un Approve"),r.check.unApproved&&"unApproved"===r.approved?l.a.createElement("p",{className:"font-weight-bold text-center"},"please write a comment why you unApprove this message"):l.a.createElement("p",null),r.check.unApproved&&"unApproved"===r.approved?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("textarea",{className:"input-field form-control my-auto",type:"text",placeholder:"write comment",onChange:function(e){s(Object(E.a)({},r,{comment:e.target.value}))},required:!0,cols:"20",rows:"5"})):l.a.createElement("p",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},r.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},r.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},r.process),r.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),r.check.Approved||r.check.unApproved?l.a.createElement("button",{type:"submit",className:"float-right btn btn-info",disabled:r.disable},"Done"):l.a.createElement("p",null))))},Nt=t(100),xt=t.n(Nt),yt=t(101),wt=function(e){function a(){return Object(_.a)(this,a),Object(v.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(N.a)(a,e),Object(yt.a)(a,[{key:"render",value:function(){var e=this.props,a=e.company,t=e.Mess,n=e.Letter,c=e.id;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("h3",{className:"text-center font-weight-bold"},a.state[0].name)),l.a.createElement("div",{className:"col-lg-6 my-2"},l.a.createElement("h6",{className:"text-center font-weight-bold"},n?n.creater===t.getEmp_id()?"":"\u1208- "+t.Name(t.getEmp_id()):""),l.a.createElement("h6",{className:"text-center font-weight-bold"},n?n.creater===t.getEmp_id()?"":"\u12a8 - "+t.Name(n.creater):""," ",l.a.createElement("br",null),n?n.creater===t.getEmp_id()?"":"\u12f2\u1353\u122d\u1275\u1218\u1295\u1275 - "+t.Department(n.creater):"")),l.a.createElement("div",{className:"col-lg-6 my-2"},l.a.createElement("h6",{className:"text-center font-italic float-right"},"\u12f0\u1265\u12f3\u1264 \u1218\u1208\u12eb- ",n.id," ",l.a.createElement("br",null),"\u1240\u1295 -",n?Wa(n.created_date):"")),n&&"allowance"===n.type?l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"text-center font-italic"},"Project name -",n.project_name," ",l.a.createElement("br",null),"program- ",n.program," ",l.a.createElement("br",null),"objective- ",n.objective," ",l.a.createElement("br",null),"duration days-"," ",parseInt(Ma(n.initial_date,n.return_date))+1)):l.a.createElement("p",null),n&&"allowance"===n.type?l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"text-center font-italic font-weight-bold"},"\u1218\u1290\u123b \u1240\u1295 - ",Wa(n.initial_date)," ",l.a.createElement("br",null),"\u1218\u1218\u1208\u123b \u1240\u1295-",Wa(n.return_date)," ",l.a.createElement("br",null),"\u1218\u1290\u123b \u1266\u1273- ",n.initial_place," ",l.a.createElement("br",null),"\u1218\u12f5\u1228\u123b \u1266\u1273-",n.destination_place," ",l.a.createElement("br",null))):l.a.createElement("p",null),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("h4",{className:"text-center font-weight-bold"},"\u1309\u12f3\u12e9-",n?n.title:"")),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement(mt.Editor,{toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",readOnly:!0,toolbarHidden:!0,editorState:t.editorState(c)})),l.a.createElement("div",{className:"col-lg-6 y-2"},t.isApproval(c)?t.approvedManagers().map((function(e){return l.a.createElement("p",{className:"text-center font-weight-bold"},l.a.createElement(f.a,{icon:g.s,className:"text-success fa-2x mx-2"}),t.Name(e.emp_id))})):l.a.createElement("p",null))))}}]),a}(n.Component),Ot=function(e){var a=e.l_id,t=e.setSize,c=Object(n.useContext)(d),r=c.socket,i=c.company,s=c.letters,o=c.employees,m=c.messages,u=c.users,p=c.connections,_=new et(m.state,p.state,s.state,u.state,o.state),v=_.find_letter(a),h=_.getEmp_id();Object(n.useEffect)((function(){t?t("xl"):Aa(),_.manager_info(a)?r.emit("update_letter",Object(E.a)({},v,{approval_manager:[].concat(Object(b.a)(_.approval_managers(a).filter((function(e){return e.emp_id!==h}))),[Object(E.a)({},_.manager_info(a,h),{seen:!0})])})):Aa(),_.participants(a).find((function(e){return e.emp_id===h}))?r.emit("update_letter",Object(E.a)({},v,{participants:[].concat(Object(b.a)(_.participants(a).filter((function(e){return e.emp_id!==h}))),[Object(E.a)({},_.particpant_info(a,h),{seen:!0})])})):Aa()}),[]);var N=Object(n.useRef)();return l.a.createElement("div",null,l.a.createElement(xt.a,{trigger:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-9"}),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("button",{className:"btn btn-outline-info"},l.a.createElement(f.a,{icon:g.kb,className:"mx-2"}),"Print"))))},content:function(){return N.current}}),l.a.createElement(wt,{ref:N,company:i,Mess:_,Letter:v,id:a}))},jt=function(e){var a=e.className,t=e.type,c=e.typing,r=e.stop_typing,s=e.l_id,o=e.emitter,m=Object(n.useState)(!1),d=Object(i.a)(m,2),u=d[0],p=d[1],E=Object(n.useState)("xl"),b=Object(i.a)(E,2),_=b[0],v=b[1],h=Object(n.useState)(!1),N=Object(i.a)(h,2),x=N[0],y=N[1],w=function(){p(!u),"create_letter"===t?u?r():c():Aa(),"delete_letter"===t&&u?o():Aa()};return"create_letter"===t?l.a.createElement("div",null,l.a.createElement("div",{className:"btn",onClick:w,onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)}},l.a.createElement(f.a,{icon:g.D,className:"text-danger fa-2x"}),l.a.createElement("p",{style:{display:x?"":"none"},className:"font-italic font-weight-bold text-white"},"Create a letter")),l.a.createElement(lt.a,{isOpen:u,toggle:w,size:_,className:a},l.a.createElement(st.a,{toggle:w},l.a.createElement(f.a,{icon:g.D,className:"mx-2"}),"New Letter"),l.a.createElement(rt.a,null,l.a.createElement(gt,{setSize:v})))):"Create_letter"===t?l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-outline-success mx-2 my-2",onClick:w},l.a.createElement(f.a,{icon:g.ib,className:"mx-2"}),"Create Letter"),l.a.createElement(lt.a,{isOpen:u,toggle:w,size:_,className:a},l.a.createElement(st.a,{toggle:w},l.a.createElement(f.a,{icon:g.D,className:"mx-2"})),l.a.createElement(rt.a,null,l.a.createElement(gt,{setSize:v})))):"view_letter"===t?l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-outline-success mx-2 my-2",onClick:w},l.a.createElement(f.a,{icon:g.H,className:"mx-2"}),"View"),l.a.createElement(lt.a,{isOpen:u,toggle:w,size:"lg",className:a},l.a.createElement(st.a,{toggle:w},l.a.createElement(f.a,{icon:g.D,className:"mx-2"})),l.a.createElement(rt.a,null,l.a.createElement(Ot,{l_id:s,setSize:v})))):"edit_letter"===t?l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-outline-success mx-2 my-2",onClick:w},l.a.createElement(f.a,{icon:g.fb,className:"mx-2"}),"Edit"),l.a.createElement(lt.a,{isOpen:u,toggle:w,size:_,className:a},l.a.createElement(st.a,{toggle:w},l.a.createElement(f.a,{icon:g.D,className:"mx-2"})),l.a.createElement(rt.a,null,l.a.createElement(_t,{l_id:s})))):"delete_letter"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:w,color:"primary",className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 fa-1x"}),"Delete"),l.a.createElement(lt.a,{isOpen:u,toggle:w,className:a+" dialogue"},l.a.createElement(st.a,{toggle:w},l.a.createElement("p",{className:"text-danger"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 text-danger"}),"Letter is flagged for deletion are you sure you want to delete")),l.a.createElement(rt.a,null,l.a.createElement(bt,{_id:s,close:w})))):"progress"===t?l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-outline-success mx-2 my-2",onClick:w},l.a.createElement(f.a,{icon:g.q,className:"mx-2"}),"Progress"),l.a.createElement(lt.a,{isOpen:u,toggle:w,size:"lg",className:a},l.a.createElement(st.a,{toggle:w},l.a.createElement(f.a,{icon:g.q,className:"mx-2"}),"Progress"),l.a.createElement(rt.a,null,l.a.createElement(vt,{l_id:s})))):"approve"===t?l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-outline-success mx-2 my-2",onClick:w},l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Take Decision"),l.a.createElement(lt.a,{isOpen:u,toggle:w,size:"md",className:a},l.a.createElement(st.a,{toggle:w},l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Take Decision"),l.a.createElement(rt.a,null,l.a.createElement(ht,{l_id:s})))):void 0},kt=Object(o.withRouter)((function(e){var a=e.match,t=a.params.id?a.params.id:"",c=Object(n.useContext)(d),r=c.socket,o=c.users,m=c.employees,u=c.messages,p=c.letters,b=c.connections,_=c.typing,v=c.Ltyping,h=m.loading,N=m.error,x=o.loading,y=o.error,w=Object(n.useState)({message:"",contacted:[]}),O=Object(i.a)(w,2),j=O[0],k=O[1],C=Object(n.useRef)(null),A=new et(u.state,b.state,p.state,o.state,m.state);Object(n.useEffect)((function(){A.newMessages(t).map((function(e){r.emit("update",Object(E.a)({},e,{seen:!0}))})),k((function(e){return Object(E.a)({},e,{contacted:A.contactedUsers()})})),D(),C.current&&t?C.current.focus():Aa()}),[u.state,t,C]);var D=function(){try{document.getElementById(A.last_message(t)?A.last_message(t)._id:"dsdc").scrollIntoView({behavior:"auto"})}catch(e){console.log(e)}};return h||x?l.a.createElement(at,null):N||y?l.a.createElement(tt,null):l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"messaging mt-2 card bg-dark"},l.a.createElement("div",{className:"inbox_msg "},l.a.createElement("div",{className:"inbox_people"},l.a.createElement("div",{className:"headind_srch"},l.a.createElement("div",{className:"recent_heading"},l.a.createElement("h4",{className:"font-weight-bold"},"Recent Messages")),l.a.createElement("div",{className:"srch_bar"},l.a.createElement("div",{className:"stylish-input-group"},l.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search",onChange:function(e){return a=e.target.value,k(Object(E.a)({},j,{contacted:A.searchContacted(a)}));var a}}),l.a.createElement("span",{className:"input-group-addon"},l.a.createElement("button",{type:"button"},l.a.createElement(f.a,{icon:g.pb})))))),l.a.createElement("div",{className:"inbox_chat"},j.contacted.length?j.contacted.map((function(e){return l.a.createElement(s.b,{to:"/message/"+e,key:e},l.a.createElement("div",{className:"chat_list active_chat",key:e},l.a.createElement("div",{className:"chat_people"},l.a.createElement("div",{className:"chat_img"},l.a.createElement("p",{"data-letters":A.firstLetters(e)}),A.isOnline(e)?l.a.createElement(f.a,{icon:g.u,className:"text-success"}):l.a.createElement(f.a,{icon:g.u,className:"text-secondary"})),l.a.createElement("div",{className:"chat_ib"},l.a.createElement("h5",null,A.messageName(e)," ",l.a.createElement("span",{className:"chat_date"},Qa(A.last_message(e).created_date))),l.a.createElement("p",null,A.last_message(e).message.length>100?A.last_message(e).message.slice(0,120)+"  ...":A.last_message(e).message)),A.newMessages(e).length?l.a.createElement("div",{className:"float-right rounded-circle"},l.a.createElement("h4",{className:"text-small"},l.a.createElement(f.a,{icon:g.jb,className:"text-info fa-1x"}),A.newMessages(e).length)):l.a.createElement("p",null))))})):l.a.createElement("p",null))),t?l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row bg-light"},l.a.createElement("div",{className:"col-lg-2 float-right mt-2"},l.a.createElement("p",{"data-letters":A.firstLetters(t),className:"ml-5"}," ")),l.a.createElement("div",{className:"col-lg-6 mt-2 my-auto float-left"},l.a.createElement("h4",{className:""},A.messageName(t)),A.isOnline(t)?l.a.createElement("p",{className:"float-left"},l.a.createElement(f.a,{icon:g.u,className:"text-success ml-5"}),"online"):A.lastSeen(t)?l.a.createElement("p",{className:"float-left"},"last seen at "," ",l.a.createElement(Fa.a,{date:A.lastSeen(t)})," "," ",Ka(A.lastSeen(t))):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-4 float-right font-italic mt-2"},"Department- ",A.Department(t)," ",l.a.createElement("br",null),"position-",A.UserRole(t)))))):l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 mt-5"},l.a.createElement("h2",{className:"text-white font-weight-bold text-center"},"Please Select chat... ",l.a.createElement("br",null),l.a.createElement(f.a,{icon:g.E,className:"text-white fa-3x"}))))),t?l.a.createElement("div",{className:"mesgs"},l.a.createElement("div",{className:"msg_history"},A.chatRoom(t).reverse().length?A.chatRoom(t).reverse().map((function(e){return e.sender===A.getEmp_id()?l.a.createElement("div",{className:"outgoing_msg",key:e._id,id:e._id},l.a.createElement("div",{className:"sent_msg"},e.letter_id?l.a.createElement("div",{className:"card",style:{minHeight:200}},l.a.createElement("div",{className:"card-header text-center font-weight-bold"},A.title(e.letter_id)),l.a.createElement("div",{className:"card-body font-italic"},A.description_text(e.letter_id).length>100?A.description_text(e.letter_id).slice(0,120)+" ...":A.description_text(e.letter_id)," "),l.a.createElement("div",{className:"card-footer text-muted"},l.a.createElement(jt,{type:"view_letter",l_id:e.letter_id}))):l.a.createElement("p",null,e.message),l.a.createElement("span",{className:"time_date"},Ka(e.created_date)," | ",Qa(e.created_date)," |",e.seen?" seen":" Delivered",e.seen?l.a.createElement(f.a,{icon:g.t,className:"text-info mx-2"}):l.a.createElement(f.a,{icon:g.r,className:"text-info mx-2"}))," ")):e.reciever===A.getEmp_id()?l.a.createElement("div",{className:"incoming_msg",key:e._id,id:e._id},l.a.createElement("div",{className:"incoming_msg_img"},l.a.createElement("p",{"data-letters":e.sender!==A.getEmp_id()?A.firstLetters(e.sender):e.reciever!==A.getEmp_id()?A.firstLetters(e.reciever):""})),l.a.createElement("div",{className:"received_msg"},l.a.createElement("div",{className:"received_withd_msg"},e.letter_id?l.a.createElement("div",{className:"card",style:{minHeight:200}},l.a.createElement("div",{className:"card-header text-center font-weight-bold"},A.title(e.letter_id)),l.a.createElement("div",{className:"card-body font-italic"},A.description_text(e.letter_id).length>100?A.description_text(e.letter_id).slice(0,100)+" ...":A.description_text(e.letter_id)," "),l.a.createElement("div",{className:"card-footer text-muted"},l.a.createElement(jt,{type:"view_letter",l_id:e.letter_id}))):l.a.createElement("p",null,e.message),l.a.createElement("span",{className:"time_date"}," ",Ka(e.created_date),"   |",Qa(e.created_date))))):l.a.createElement("p",{key:e._id})})):l.a.createElement("h4",{className:"text-center text-white  mt-2 font-itlaic font-weight-bold "},l.a.createElement(f.a,{icon:g.z,className:"text-white fa-2x mx-2"}),"No messages yet...")),l.a.createElement("div",{className:"incoming_msg mb-2",id:"type"},l.a.createElement("div",{className:"incoming_msg_img"}),_===t?l.a.createElement("div",{className:"received_msg bg-light"},l.a.createElement("div",{className:"received_withd_msg"},l.a.createElement("p",null,A.messageName(t)+" "," is typing ..."))):l.a.createElement("p",null),v===t?l.a.createElement("div",{className:"received_msg bg-light"},l.a.createElement("div",{className:"received_withd_msg"},l.a.createElement("p",null,A.messageName(t)+" "," is creating letter ..."))):l.a.createElement("p",null)),l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),""!==j.message?r.emit("submit",{sender:A.getEmp_id(),reciever:t,message:j.message}):Aa(),k(Object(E.a)({},j,{message:""})),D()}(e)}},l.a.createElement("div",{className:"input-container"},l.a.createElement("input",{className:"input-field form-control my-auto",id:"message",type:"text",placeholder:"type message",autoComplete:"off",onKeyUp:function(){return setTimeout((function(){return r.emit("typing",{emp_id:""})}),1800)},onChange:function(e){k(Object(E.a)({},j,{message:e.target.value})),r.emit("typing",{emp_id:A.getEmp_id()})},ref:C,value:j.message}),l.a.createElement(jt,{type:"create_letter",typing:function(){return r.emit("typing_letter",{emp_id:A.getEmp_id()})},stop_typing:function(){return r.emit("typing_letter",{emp_id:""})}})))):l.a.createElement("p",null))))})),Ct=function(){var e=Object(n.useState)({collapse:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.letters,o=r.employees,u=r.messages,p=r.users,E=r.connections,f=new et(u.state,E.state,s.state,p.state,o.state);u.loading||f.newInboxLetters().length;return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(xa,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(La,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement(kt,null))))))},At={state:[],loading:!0,error:!1},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_LETTERS":return{state:a.payload,loading:!1,error:!1};case"LOADING_LETTERS":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},St=function(){var e=Object(n.useState)({project_name:"",letter_id:"",program:"",objective:"",initial_place:"",destination_place:"",save_options:"approve",initial_date:Date.now(),destination_date:"",approval_manager:{emp_id:"",type:""},process:"",error:"",disable:!1,loading:!1,success:"",iday:"",rday:"",imonth:"",rmonth:"",iyear:"",ryear:"",check_id:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.employees,o=r.users,m=r.letters,u=r.connections,p=r.messages,b=s.state,_=s.loading,v=s.error,h=o.state,N=new w(h,b),x=N.getEmp_id(localStorage.id),y=N.Department(x),O=N.avaliableManager(y),j=Object(n.useRef)(null),k=new et(p.state,u.state,m.state,o.state,s.state);Object(n.useEffect)((function(){c((function(e){return Object(E.a)({},e,{check_id:!k.allowanceLetter().length})}))}),[p.state,m.state,s.state]);return l.a.createElement("form",{onSubmit:function(e){return function(e){var a,n,l,r,i,s,o,m,d,u,p,f,g,b,_,v;return S.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return e.preventDefault(),h.prev=1,a=za(t.iday,t.imonth,t.iyear),n=za(t.rday,t.rmonth,t.ryear),h.next=6,S.a.awrap(qa());case 6:if(l=h.sent,Ua(a,n)){h.next=12;break}j.current.focus(),c(Object(E.a)({},t,{disable:!1,process:"",loading:!1,error:"Date validation error return date must be forward or equal to initial date",success:""})),h.next=29;break;case 12:return h.prev=12,c(Object(E.a)({},t,{disable:!0,process:"saving...",loading:!0,error:"",success:""})),r=t.project_name,i=t.letter_id,s=t.program,o=t.objective,m=t.initial_place,d=t.destination_place,u=t.save_options,p=t.approval_manager,f=N.UserRole(x),g=("director"===f||"f_director"===f||"sector_leader"===f||"senior_officer"===f)&&t.approval_manager.emp_id===x?{seen:!0,approved:"Approved",emp_id:x,type:f,seen_date:l,comment:""}:p,b=Object(T.encryptObject)(Object(E.a)({project_name:r,letter_id:i,program:s,objective:o,destination_date:n,initial_date:a,initial_place:m,destination_place:d,save_options:u,approval_manager:g,department:y,creater:x},pt())),h.next=20,S.a.awrap(L.a.post(R.host+"/allowances",{data:b}));case 20:_=h.sent,(v=Object(T.decrptObject)(_.data)).error?c(Object(E.a)({},t,{disable:!1,process:"",loading:!1,error:v.message,success:""})):!v.error&&v.created&&c(Object(E.a)({},t,{disable:!1,process:"",loading:!1,error:"",success:v.message})),h.next=29;break;case 25:h.prev=25,h.t0=h.catch(12),console.log(h.t0),c(Object(E.a)({},t,{disable:!1,process:"",loading:!1,error:"can not save server is not active",success:""}));case 29:h.next=34;break;case 31:h.prev=31,h.t1=h.catch(1),c(Object(E.a)({},t,{},ka("error","Date validation please check the date you input")));case 34:case"end":return h.stop()}}),null,null,[[1,31],[12,25]])}(e)}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Letter id,name or code"),k.allowanceLetter().length?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.e,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return""!==e.target.value?function(e){var a=k.find_letter(e),t=Ha(a?a.initial_date:""),n=t.date,l=t.month,r=t.year,i=Ha(a?a.return_date:""),s=i.date,o=i.month,m=i.year;c((function(e){return Object(E.a)({},e,{letter_id:a?a.id:"",objective:a?a.objective:"",program:a?a.program:"",project_name:a?a.project_name:"",initial_place:a?a.initial_place:"",destination_place:a?a.destination_place:"",iday:n,imonth:l,iyear:r,rday:s,rmonth:o,ryear:m})}))}(e.target.value):Aa()},required:!0},l.a.createElement("option",{value:""},"Enter letter id"),k.allowanceLetter().map((function(e){return l.a.createElement("option",{value:e._id,key:e._id},e.id)}))),l.a.createElement("input",{type:"checkbox",checked:t.check_id,className:"ml-2 my-auto",onChange:function(e){return c((function(e){return Object(E.a)({},e,{check_id:!e.check_id},ka("default"))}))}}),l.a.createElement("p",{className:"my-auto mr-2"},"Add Manually"),t.check_id?l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Letter id",onChange:function(e){c(Object(E.a)({},t,{letter_id:e.target.value,process:"",error:"",success:""}))},required:!0}):l.a.createElement("p",null)):l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.e,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Letter id,name or code",onChange:function(e){c(Object(E.a)({},t,{letter_id:e.target.value,process:"",error:"",success:""}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Program"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.i,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"program name",onChange:function(e){c(Object(E.a)({},t,{program:e.target.value,process:"",error:"",success:""}))},value:t.program,required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Project name and code"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.mb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:" Project name and code",onChange:function(e){c(Object(E.a)({},t,{project_name:e.target.value,process:"",error:"",success:""}))},value:t.project_name,required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Allowance Objective"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.B,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:" Allowance Objective",onChange:function(e){c(Object(E.a)({},t,{objective:e.target.value,process:"",error:"",success:""}))},value:t.objective,required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Initial place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.ub,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:" Initial Place",onChange:function(e){c(Object(E.a)({},t,{initial_place:e.target.value,process:"",error:"",success:""}))},value:t.initial_place,required:!0}))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Destination place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.U,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Destination Place",onChange:function(e){c(Object(E.a)({},t,{destination_place:e.target.value,process:"",error:"",success:""}))},value:t.destination_place,required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Initial Date"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,onChange:function(e){c(Object(E.a)({},t,{iday:parseInt(e.target.value),process:"",error:"",success:""}))},value:t.iday,required:!0}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return c(Object(E.a)({},t,{imonth:parseInt(e.target.value),process:"",error:"",success:""}))},value:t.imonth,required:!0},l.a.createElement("option",{value:""},"mm"),l.a.createElement("option",{value:1},"\u1218\u1235\u12a8\u1228\u121d"),l.a.createElement("option",{value:2},"\u1325\u1245\u121d\u1275"),l.a.createElement("option",{value:3},"\u1205\u12f3\u122d"),l.a.createElement("option",{value:4},"\u1273\u1205\u1233\u1235"),l.a.createElement("option",{value:5},"\u1325\u122d"),l.a.createElement("option",{value:6},"\u12e8\u12ab\u1272\u1275"),l.a.createElement("option",{value:7},"\u1218\u130b\u1262\u1275"),l.a.createElement("option",{value:8},"\u121a\u12eb\u12dd\u12eb"),l.a.createElement("option",{value:9},"\u130d\u1295\u1266\u1275"),l.a.createElement("option",{value:10},"\u1230\u1294"),l.a.createElement("option",{value:11},"\u1210\u121d\u120c"),l.a.createElement("option",{value:12},"\u1290\u1210\u1234"),l.a.createElement("option",{value:13},"\u1333\u1309\u121c")),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"YYYY",min:2013,onChange:function(e){c(Object(E.a)({},t,{iyear:parseInt(e.target.value),process:"",error:"",success:""}))},value:t.iyear,required:!0}),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),l.a.createElement("p",{className:"font-weight-bold text-center"},"Return Date"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,onChange:function(e){c(Object(E.a)({},t,{rday:parseInt(e.target.value),process:"",error:"",success:""}))},value:t.rday,required:!0,ref:j}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return c(Object(E.a)({},t,{rmonth:parseInt(e.target.value),process:"",error:"",success:""}))},value:t.rmonth,required:!0},l.a.createElement("option",{value:""},"mm"),l.a.createElement("option",{value:1},"\u1218\u1235\u12a8\u1228\u121d"),l.a.createElement("option",{value:2},"\u1325\u1245\u121d\u1275"),l.a.createElement("option",{value:3},"\u1205\u12f3\u122d"),l.a.createElement("option",{value:4},"\u1273\u1205\u1233\u1235"),l.a.createElement("option",{value:5},"\u1325\u122d"),l.a.createElement("option",{value:6},"\u12e8\u12ab\u1272\u1275"),l.a.createElement("option",{value:7},"\u1218\u130b\u1262\u1275"),l.a.createElement("option",{value:8},"\u121a\u12eb\u12dd\u12eb"),l.a.createElement("option",{value:9},"\u130d\u1295\u1266\u1275"),l.a.createElement("option",{value:10},"\u1230\u1294"),l.a.createElement("option",{value:11},"\u1210\u121d\u120c"),l.a.createElement("option",{value:12},"\u1290\u1210\u1234"),l.a.createElement("option",{value:13},"\u1333\u1309\u121c")),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"YYYY",min:2013,onChange:function(e){c(Object(E.a)({},t,{ryear:parseInt(e.target.value),process:"",error:"",success:""}))},value:t.ryear,required:!0}),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),l.a.createElement("div",{className:"text-center mt-2"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Save options")),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.nb,className:" fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return"draft"===e.target.value?c(Object(E.a)({},t,{save_options:e.target.value,approval_manager:{emp_id:"",type:""}})):c(Object(E.a)({},t,{save_options:e.target.value}))}},l.a.createElement("option",{value:"approve"},"Save and start approving"),l.a.createElement("option",{value:"draft"},"Save as draft"))),l.a.createElement("p",{className:"font-weight-bold text-center"},"Approve to manager"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.rb,className:" fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return c(Object(E.a)({},t,{approval_manager:{emp_id:e.target.value,type:N.UserRole(e.target.value)}}))},required:!0},l.a.createElement("option",{value:""},"Enter Approving Manager"),_?l.a.createElement("option",{value:""},l.a.createElement(fe,null)):v?l.a.createElement("option",{value:""},"Server is not active"):O.length?O.map((function(e){return l.a.createElement("option",{value:e.emp_id,key:e._id},N.Name(e.emp_id)," (",N.UserRole(e.emp_id),")")})):l.a.createElement("option",{value:"",className:"text-danger font-weight-bold"},"No available Manager registered"))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},t.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},t.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},t.process),t.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),"draft"===t.save_options?l.a.createElement("button",{type:"submit",className:"btn btn-large btn-outline-primary ml-4 my-auto",disabled:t.disable},"Save as Draft"):"approve"===t.save_options?l.a.createElement("button",{type:"submit",className:"btn btn-large btn-outline-primary ml-4 mx-2 my-auto",disabled:t.disable},"Save and start approving"):l.a.createElement("p",null),l.a.createElement("button",{className:"btn btn-danger btn-large mx-2 my-auto",type:"reset",disabled:t.disable,onClick:function(e){return c(Object(E.a)({},t,{error:"",process:"",success:""}))}},"Reset")))))},Pt=function(e){var a=e.allowance,t=e.Manager_seen,c=e.pendingDirector,r=e.approve_tl,i=e.pendingTeamLeader,s=e.incomingCalculations,o=e.adr,m=a.approval_manager.seen,u=a.f_pending_dr.seen,p=a.f_pending_tl.seen,b=a.f_pending_emp.seen,_=a.f_approve_tm.seen,v=a.f_approve_dr.seen,h=Object(n.useContext)(d),N=h.employees,x=h.allowances,w=h.users,j=new y(N.state),k=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id,approval_manager:Object(E.a)({},a.approval_manager,{seen:!0,seen_date:Date.now()})})),C=(new Date(a.initial_date),new Date(a.destination_date),new Date(a.created_date)),A=x.state,D=N.state,P=w.state,I=new O(A,D,P),F=a._id,B=I.progress(F),q=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id,f_pending_dr:Object(E.a)({},a.f_pending_dr,{seen:!0,seen_date:Date.now()})})),M=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id,f_pending_tl:Object(E.a)({},a.f_pending_tl,{seen:!0,seen_date:Date.now()})})),U=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id,f_pending_emp:Object(E.a)({},a.f_pending_emp,{seen:!0,seen_date:Date.now()})})),G=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id,f_approve_tm:Object(E.a)({},a.f_approve_tm,{seen:!0,seen_date:Date.now()})})),Y=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id,f_approve_dr:Object(E.a)({},a.f_approve_dr,{seen:!0,seen_date:Date.now()})}));Object(n.useEffect)((function(){var e=function(e){return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.awrap(L.a.put(R.host+"/allowances",{data:e}));case 2:a.sent;case 3:case"end":return a.stop()}}))};t&&!m&&e(k),c&&!u&&e(q),!p&&i&&e(M),!b&&s&&e(U),r&&!_&&e(G),o&&!v&&e(Y)}),[]);var z=function(e){return"unApproved"===e?"danger":"commented"===e?"warning":"completed"===e?"success":"info"};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-italic"},l.a.createElement(f.a,{icon:g.wb,className:"mx-2 fa-2x"}),j.Name(a.creater))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-italic"},l.a.createElement(f.a,{icon:g.m,className:"mx-2 fa-2x"}),"created Date-",C.toUTCString())),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"card"},l.a.createElement("h5",{className:"text-center lead"},"Letter id - ",a.letter_id),l.a.createElement("h5",{className:"text-center lead"},"program- ",a.program),l.a.createElement("h5",{className:"text-center lead"},"project Name and code- ",a.project_name),l.a.createElement("h5",{className:"text-center lead"},"objective- ",a.objective),l.a.createElement("h5",{className:"text-center lead"},"Initial place- ",a.initial_place),l.a.createElement("h5",{className:"text-center lead"},"Destination place- ",a.destination_place),l.a.createElement("h5",{className:"text-center lead"},"Initial Date -",Wa(a.initial_date)," E.C ",l.a.createElement("br",null),l.a.createElement("p",{className:"font-italic small"},Ga(a.initial_date)," G.C")),l.a.createElement("h5",{className:"text-center lead"},"Return Date -",Wa(a.destination_date),l.a.createElement("p",{className:"font-italic small"},Ga(a.destination_date)," G.C")))),l.a.createElement("div",{className:"col-lg-12 mt-2"},l.a.createElement("div",{className:"card"},2===B?l.a.createElement("p",{className:"text-align-right font-italic"},"from-",I.Name(a.approval_manager.emp_id)):l.a.createElement("p",null),2===B?l.a.createElement("p",{className:"text-center font-italic font-weight-bold"},a.f_pending_dr.comment):5===B?l.a.createElement("p",{className:"text-center font-italic font-weight-bold"},a.f_pending_dr.comment):l.a.createElement("p",null))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"mb-3 widget-chart widget-chart2 text-left card card-shadow-"+z(I.checkApproval(B))},l.a.createElement("div",{className:"widget-content"},l.a.createElement("div",{className:"widget-content-outer"},l.a.createElement("div",{className:"widget-content-wrapper"},l.a.createElement("div",{className:"widget-content-left pr-2 fsize-1"},l.a.createElement("div",{className:"widget-numbers mt-0 fsize-3 text-"+z(I.checkApproval(B))},I.totallProgress(F),"%")),l.a.createElement("div",{className:"widget-content-right w-100"},l.a.createElement("div",{className:"progress-bar-xs progress"},l.a.createElement("div",{className:"progress-bar bg-"+z(I.checkApproval(B)),role:"progressbar","aria-valuenow":I.totallProgress(F),"aria-valuemin":"0","aria-valuemax":"100",style:{width:I.totallProgress(F)+"%"}})))),l.a.createElement("div",{className:"widget-content-left fsize-1"},l.a.createElement("div",{className:"text-muted opacity-6"},"Totall progress made "))))),":",l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"text-center font-italic font-weight-bold"},"from Department ",I.Department(a.creater)))))},Lt=function(e){var a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.awrap(ya());case 3:a=t.sent,e(wa(a)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[0,7]])},Rt=function(e){var a=e.allowance,t=Object(n.useContext)(d),c=t.allowances,r=t.dispatchAllowances,i=t.employees,s=t.users,o=new O(c.state,i.state,s.state),m=a._id,u=o.progress(m);Object(n.useEffect)((function(){Lt(r)}),[r]);var p=function(e){return"unApproved"===e?l.a.createElement(f.a,{icon:g.Eb,className:"fa-2x mx-2 text-danger"}):"commented"===e?l.a.createElement(f.a,{icon:g.y,className:"fa-2x mx-2 text-warning"}):"waiting"===e?l.a.createElement(f.a,{icon:g.r,className:"fa-2x mx-2 text-light"}):"Reviewed"===e?l.a.createElement(f.a,{icon:g.H,className:"fa-2x mx-2 text-primary"}):l.a.createElement(f.a,{icon:g.r,className:"fa-2x mx-2 text-info"})},E=function(e){return"unApproved"===e?"danger":"commented"===e?"warning":"completed"===e?"success":"info"};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("h3",{className:"text-center"},"Totall steps made"),l.a.createElement("p",{className:"font-weight-bold"},l.a.createElement(f.a,{icon:g.r,className:"fa-2x mx-2 text-info"}),"Allowance is created and send for approval"),u>=1?u>=5?l.a.createElement("p",{className:"font-weight-bold"},p("right"),"Allowance is being reviewed and approved by your Manager"):l.a.createElement("p",{className:"font-weight-bold"},p(o.checkApproval(u)),"Allowance is being reviewed and approved by your Manager"):l.a.createElement("p",null,p("waiting"),"Allowance is being reviewed and approved by your Manager"),u>=5?u>=11?l.a.createElement("p",{className:"font-weight-bold"},p("right"),"Allowance is accepted by finance director"):l.a.createElement("p",{className:"font-weight-bold"},p(o.checkApproval(u)),"Allowance is accepted by finance director"):l.a.createElement("p",null,p("waiting"),"Allowance is accepted by finance director"),u>=11?u>=15?l.a.createElement("p",{className:"font-weight-bold"},p("right"),"Allowance is calculating"):l.a.createElement("p",{className:"font-weight-bold"},p(o.checkApproval(u)),"Allowance is calculating"):l.a.createElement("p",null,p("waiting"),"Allowance is calculating"),u>=15?u>=22?l.a.createElement("p",{className:"font-weight-bold"},p("right"),"Allowance is calculated and is ready for approval"):l.a.createElement("p",{className:"font-weight-bold"},p(o.checkApproval(u)),"Allowance is calculated and is ready for approval"):l.a.createElement("p",null,p("waiting"),"Allowance is calculated and is ready for approval"),22===u?l.a.createElement("p",{className:"font-weight-bold"},p("completed"),"Allowance is completed  contact finance department"):l.a.createElement("p",null,p("waiting"),"Allowance is completed contact finance department")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"mb-3 widget-chart widget-chart2 text-left card card-shadow-"+E(o.checkApproval(u))},l.a.createElement("div",{className:"widget-content"},l.a.createElement("div",{className:"widget-content-outer"},l.a.createElement("div",{className:"widget-content-wrapper"},l.a.createElement("div",{className:"widget-content-left pr-2 fsize-1"},l.a.createElement("div",{className:"widget-numbers mt-0 fsize-3 text-"+E(o.checkApproval(u))},o.totallProgress(m),"%")),l.a.createElement("div",{className:"widget-content-right w-100"},l.a.createElement("div",{className:"progress-bar-xs progress"},l.a.createElement("div",{className:"progress-bar bg-"+E(o.checkApproval(u)),role:"progressbar","aria-valuenow":o.totallProgress(m),"aria-valuemin":"0","aria-valuemax":"100",style:{width:o.totallProgress(m)+"%"}})))),l.a.createElement("div",{className:"widget-content-left fsize-1"},l.a.createElement("div",{className:"text-muted opacity-6"},"Totall progress made "))))),l.a.createElement("p",{className:"text-center lead mt-3 text-"+E(o.checkApproval(u))},o.tellProgress(m)),l.a.createElement("div",{className:"card mt-4"},2===u?l.a.createElement("p",{className:"text-align-right font-italic"},"from-",o.Name(a.approval_manager.emp_id)):l.a.createElement("p",null),2===u?l.a.createElement("p",{className:"text-center font-italic font-weight-bold"},a.approval_manager.comment):5===u?l.a.createElement("p",{className:"text-center font-italic font-weight-bold"},a.f_pending_dr.comment):l.a.createElement("p",null),22===u?l.a.createElement("p",{className:"text-center font-weight-bold"},"You can contact finance for payment please don't forget allowance id for cross check"):l.a.createElement("p",null)))))},Tt=function(e){var a=Object(n.useState)({approved:"",comment:"",check:{Approved:!1,unApproved:!1,comment:!1},process:"",error:"",disable:!1,loading:!1,success:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=e.allowance,o=e.Manager_seen,m=s.approval_manager.seen,d=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:s._id,approval_manager:Object(E.a)({},s.approval_manager,{seen:!0})}));Object(n.useEffect)((function(){if(o&&!m){S.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.awrap(L.a.put(R.host+"/allowances",{data:d}));case 2:e.sent;case 3:case"end":return e.stop()}}))}}),[]);return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 text-center"},l.a.createElement("div",{className:"card"},l.a.createElement("form",{onSubmit:function(e){return function(e){var a,t,n,l;return S.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e.preventDefault(),i.next=3,S.a.awrap(qa());case 3:return a=i.sent,i.prev=4,r(Object(E.a)({},c,{error:"",process:"Taking action please wait",loading:!0,success:"",disable:!0})),t=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:s._id,approval_manager:Object(E.a)({},s.approval_manager,{comment:c.comment,approved:c.approved,approved_date:a}),f_pending_dr:Object(E.a)({},s.f_pending_dr,{accepted_date:a})})),i.next=9,S.a.awrap(L.a.put(R.host+"/allowances",{data:t}));case 9:n=i.sent,(l=Object(T.decrptObject)(n.data)).error?r(Object(E.a)({},c,{error:"unable to take action try again later",process:"",loading:!1,success:"",disable:!1})):!l.error&&l.updated&&r(Object(E.a)({},c,{error:"",success:"Action made successfully",process:"",loading:!1,disable:!1})),i.next=18;break;case 14:i.prev=14,i.t0=i.catch(4),console.log(i.t0),r(Object(E.a)({},c,{error:"error while taking action server is not responding",success:"",process:"",loading:!1,disable:!1}));case 18:case"end":return i.stop()}}),null,null,[[4,14]])}(e)}},l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.r,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:c.check.Approved,className:"my-auto mx-3",onChange:function(e){return r((function(e){return Object(E.a)({},c,{approved:"Approved"===e.approved?"":"Approved",check:{Approved:!e.check.Approved,unApproved:!1,comment:!1}})}))}}),"Approve"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:c.check.comment,className:"my-auto mx-3",onChange:function(e){return r((function(e){return Object(E.a)({},c,{approved:"commented"===e.approved?"":"commented",check:{Approved:!1,unApproved:!1,comment:!e.check.comment}})}))}}),"Comment"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Eb,className:"text-danger fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:c.check.unApproved,className:"my-auto mx-3",onChange:function(e){return r((function(e){return Object(E.a)({},c,{approved:"unApproved"===e.approved?"":"unApproved",check:{Approved:!1,unApproved:!e.check.unApproved,comment:!1}})}))}}),"un Approve"),c.check.comment&&"commented"===c.approved||c.check.unApproved&&"unApproved"===c.approved?l.a.createElement("p",{className:"font-weight-bold text-center"},"please write a comment"):l.a.createElement("p",null),c.check.comment&&"commented"===c.approved||c.check.unApproved&&"unApproved"===c.approved?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("textarea",{className:"input-field form-control my-auto",type:"text",placeholder:"write comment",onChange:function(e){r(Object(E.a)({},c,{comment:e.target.value}))},required:!0,cols:"20",rows:"5"})):l.a.createElement("p",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),c.check.Approved||c.check.comment||c.check.unApproved?l.a.createElement("button",{type:"submit",className:"float-right btn btn-info",disabled:c.disable},"Done"):l.a.createElement("p",null))))))},It=function(e){var a=Object(n.useState)({project_name:"",letter_id:"",program:"",objective:"",initial_place:"",destination_place:"",save_options:"approve",approval_manager:{emp_id:"",type:""},process:"",error:"",disable:!1,loading:!1,success:"",idate:"",imonth:"",iyear:"",rdate:"",rmonth:"",ryear:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=Ha(e.allowance.initial_date),o=s.date,m=s.month,u=s.year,p=Ha(e.allowance.destination_date),b=p.date,_=p.month,v=p.year;Object(n.useEffect)((function(){r(Object(E.a)({},c,{},e.allowance,{idate:o,imonth:m,iyear:u,rdate:b,rmonth:_,ryear:v}))}),[e.allowance]);var h=Object(n.useContext)(d),N=h.employees,x=h.users,y=h.dispatchAllowances,j=h.allowances,k=N.state,C=N.loading,A=N.error,D=x.state,P=new w(D,k),I=P.getEmp_id(localStorage.id),F=P.Department(I),B=P.avaliableManager(F),q=new O(j.state,k,D),M=Object(n.useRef)(null);return l.a.createElement("form",{onSubmit:function(a){return function(a){var t,n,l,i,s,o,m,d,u,p,f,g,b;return S.a.async((function(_){for(;;)switch(_.prev=_.next){case 0:if(a.preventDefault(),_.prev=1,t=za(c.idate,c.imonth,c.iyear),n=za(c.rdate,c.rmonth,c.ryear),Ua(t,n)){_.next=9;break}M.current.focus(),r(Object(E.a)({},c,{disable:!1,process:"",loading:!1,error:"Date validation error destination date must be forward from arrival date",success:""})),_.next=24;break;case 9:return _.prev=9,r(Object(E.a)({},c,{disable:!0,process:"saving...",loading:!0,error:"",success:""})),l=c.project_name,i=c.letter_id,s=c.program,o=c.objective,m=c.initial_place,d=c.destination_place,u=c.save_options,p=c.approval_manager,f=Object(T.encryptObject)(Object(E.a)({project_name:l,letter_id:i,program:s,objective:o,initial_place:m,destination_place:d,save_options:u,approval_manager:p,_id:e.allowance._id,department:F,creater:I},pt(),{initial_date:t,destination_date:n})),_.next=15,S.a.awrap(L.a.put(R.host+"/allowances",{data:f}));case 15:g=_.sent,(b=Object(T.decrptObject)(g.data)).error?r(Object(E.a)({},c,{disable:!1,process:"",loading:!1,error:"can not save changes try again later",success:""})):!b.error&&b.updated&&(Lt(y),r(Object(E.a)({},c,{disable:!1,process:"",loading:!1,error:"",success:"edit Successfull"}))),_.next=24;break;case 20:_.prev=20,_.t0=_.catch(9),console.log(_.t0),r(Object(E.a)({},c,{disable:!1,process:"",loading:!1,error:"can not save server is not active",success:""}));case 24:_.next=29;break;case 26:_.prev=26,_.t1=_.catch(1),r(Object(E.a)({},c,{},ka("error","Date validation please check the date you input")));case 29:case"end":return _.stop()}}),null,null,[[1,26],[9,20]])}(a)}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Letter id,name or code"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.e,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Letter id,name or code",onChange:function(e){r(Object(E.a)({},c,{letter_id:e.target.value,process:"",error:"",success:""}))},value:c.letter_id,required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Program"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.i,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"program name",onChange:function(e){r(Object(E.a)({},c,{program:e.target.value,process:"",error:"",success:""}))},required:!0,value:c.program})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Project name and code"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.mb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:" Project name and code",onChange:function(e){r(Object(E.a)({},c,{project_name:e.target.value,process:"",error:"",success:""}))},value:c.project_name,required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Allowance Objective"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.B,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:" Allowance Objective",onChange:function(e){r(Object(E.a)({},c,{objective:e.target.value,process:"",error:"",success:""}))},value:c.objective,required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Initial place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.ub,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:" Initial Place",onChange:function(e){r(Object(E.a)({},c,{initial_place:e.target.value,process:"",error:"",success:""}))},value:c.initial_place,required:!0}))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Destination place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.U,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Destination Place",onChange:function(e){r(Object(E.a)({},c,{destination_place:e.target.value,process:"",error:"",success:""}))},value:c.destination_place,required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Initial Date"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,value:c.idate,onChange:function(e){r(Object(E.a)({},c,{idate:parseInt(e.target.value),process:"",error:"",success:""}))},required:!0}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return r(Object(E.a)({},c,{imonth:parseInt(e.target.value),process:"",error:"",success:""}))},value:c.imonth,required:!0},l.a.createElement("option",{value:""},"mm"),l.a.createElement("option",{value:1},"\u1218\u1235\u12a8\u1228\u121d"),l.a.createElement("option",{value:2},"\u1325\u1245\u121d\u1275"),l.a.createElement("option",{value:3},"\u1205\u12f3\u122d"),l.a.createElement("option",{value:4},"\u1273\u1205\u1233\u1235"),l.a.createElement("option",{value:5},"\u1325\u122d"),l.a.createElement("option",{value:6},"\u12e8\u12ab\u1272\u1275"),l.a.createElement("option",{value:7},"\u1218\u130b\u1262\u1275"),l.a.createElement("option",{value:8},"\u121a\u12eb\u12dd\u12eb"),l.a.createElement("option",{value:9},"\u130d\u1295\u1266\u1275"),l.a.createElement("option",{value:10},"\u1230\u1294"),l.a.createElement("option",{value:11},"\u1210\u121d\u120c"),l.a.createElement("option",{value:12},"\u1290\u1210\u1234"),l.a.createElement("option",{value:13},"\u1333\u1309\u121c")),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"YYYY",min:2013,onChange:function(e){r(Object(E.a)({},c,{iyear:parseInt(e.target.value),process:"",error:"",success:""}))},required:!0,value:c.iyear}),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),l.a.createElement("p",{className:"font-weight-bold text-center"},"Return Date"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,value:c.rdate,onChange:function(e){r(Object(E.a)({},c,{rdate:parseInt(e.target.value)},ka("default")))},required:!0,ref:M}),l.a.createElement("select",{className:"input-field form-control my-auto",value:c.rmonth,onChange:function(e){return r(Object(E.a)({},c,{rmonth:parseInt(e.target.value),process:"",error:"",success:""}))},required:!0},l.a.createElement("option",{value:""},"mm"),l.a.createElement("option",{value:1},"\u1218\u1235\u12a8\u1228\u121d"),l.a.createElement("option",{value:2},"\u1325\u1245\u121d\u1275"),l.a.createElement("option",{value:3},"\u1205\u12f3\u122d"),l.a.createElement("option",{value:4},"\u1273\u1205\u1233\u1235"),l.a.createElement("option",{value:5},"\u1325\u122d"),l.a.createElement("option",{value:6},"\u12e8\u12ab\u1272\u1275"),l.a.createElement("option",{value:7},"\u1218\u130b\u1262\u1275"),l.a.createElement("option",{value:8},"\u121a\u12eb\u12dd\u12eb"),l.a.createElement("option",{value:9},"\u130d\u1295\u1266\u1275"),l.a.createElement("option",{value:10},"\u1230\u1294"),l.a.createElement("option",{value:11},"\u1210\u121d\u120c"),l.a.createElement("option",{value:12},"\u1290\u1210\u1234"),l.a.createElement("option",{value:13},"\u1333\u1309\u121c")),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"YYYY",min:2013,onChange:function(e){r(Object(E.a)({},c,{ryear:parseInt(e.target.value),process:"",error:"",success:""}))},required:!0,value:c.ryear}),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),0===q.progress(e.allowance._id)?l.a.createElement("div",{className:""},l.a.createElement("div",{className:"text-center mt-2"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Save options")),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.nb,className:" fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return"draft"===e.target.value?r(Object(E.a)({},c,{save_options:e.target.value,approval_manager:{emp_id:"",type:""}})):r(Object(E.a)({},c,{save_options:e.target.value}))},value:c.save_options},l.a.createElement("option",{value:"approve"},"Save and start approving"),l.a.createElement("option",{value:"draft"},"Save as draft"))),"approve"===c.save_options&&B.length?l.a.createElement("p",{className:"font-weight-bold text-center"},"Approve to manager"):l.a.createElement("p",null),"approve"===c.save_options&&B.length?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.rb,className:" fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return r(Object(E.a)({},c,{approval_manager:{emp_id:e.target.value,type:P.UserRole(e.target.value)}}))},value:c.approval_manager.emp_id,required:!0},l.a.createElement("option",{value:""},"Enter Approving Manager"),C?l.a.createElement("option",{value:""},l.a.createElement(fe,null)):A?l.a.createElement("option",{value:""},"Server is not active"):B.length?B.map((function(e){return l.a.createElement("option",{value:e.emp_id,key:e._id},P.Name(e.emp_id)," (",P.UserRole(e.emp_id),")")})):l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"draft"},"Save as draft"))):l.a.createElement("p",null)):l.a.createElement("p",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),"draft"===c.save_options?l.a.createElement("button",{type:"submit",className:"btn btn-large btn-outline-primary ml-4 my-auto",disabled:c.disable},l.a.createElement(f.a,{icon:g.fb}),"Draft update"):"approve"===c.save_options?l.a.createElement("button",{type:"submit",className:"btn btn-large btn-outline-primary ml-4 mx-2 my-auto",disabled:c.disable},l.a.createElement(f.a,{icon:g.fb}),"update"):l.a.createElement("p",null)))))},Ft=function(e){var a=Object(n.useState)({progress:"",disable:!1,loading:!1,deleted:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},c.deleted?l.a.createElement("h5",{className:"text-center text-success"},l.a.createElement(f.a,{icon:g.r})," Deleted"):l.a.createElement("h5",{className:"text-center text-info"},c.progress),l.a.createElement("p",{className:"text-center"},c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)))),l.a.createElement("div",{className:"row float-right"},c.deleted?l.a.createElement("button",{className:"btn btn-info float-right mx-2",onClick:function(){return e.fetch()},disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Close"):l.a.createElement("button",{className:"btn btn-info float-right",onClick:function(){return e.close()},disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Cancel"),c.deleted?l.a.createElement("p",null):l.a.createElement("button",{className:"btn btn-primary float-right mx-2",onClick:function(){return function(){var a,t,n,l;return S.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return r(Object(E.a)({},c,{progress:"Deleting..",disable:!0,loading:!0})),a=e.allowance._id,t=Object(T.encryptObject)(Object(E.a)({_id:a},pt())),i.next=5,S.a.awrap(L.a.put(R.host+"/delAllowance",{data:t}));case 5:n=i.sent,l=Object(T.decrptObject)(n.data);try{l.error?r(Object(E.a)({},c,{progress:"unable to delete try again",disable:!1,loading:!1})):l.deleted&&!l.error&&r(Object(E.a)({},c,{progress:"Delteted sucessfully",disable:!1,loading:!1,deleted:!0,cancel:"close"}))}catch(s){r(Object(E.a)({},c,{progress:"Editing failed server is not active try again later or contact system admin to activate the server",disable:!1,loading:!1}))}case 8:case"end":return i.stop()}}))}()},disabled:c.disable},l.a.createElement(f.a,{icon:g.r,className:"mx-2 fx-2"}),"Yes")))},Bt=function(e){var a=Object(n.useState)({approved:"",comment:"",check:{Approved:!1,unApproved:!1},tm_emp_id:"",process:"",error:"",disable:!1,loading:!1,success:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=Object(n.useContext)(d),o=s.employees,m=s.allowances,u=s.users,p=new y(o.state),b=new O(m.state,o.state,u.state).getEmp_id(),_=e.allowance,v=_.f_pending_dr.seen,h=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:_._id,f_pending_dr:Object(E.a)({},_.f_pending_dr,{seen:!0})}));Object(n.useEffect)((function(){if(!v){S.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.awrap(L.a.put(R.host+"/allowances",{data:h}));case 2:e.sent;case 3:case"end":return e.stop()}}))}}),[]);return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 text-center"},l.a.createElement("div",{className:"card"},l.a.createElement("form",{onSubmit:function(e){return function(e){var a,t,n,l;return S.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e.preventDefault(),i.next=3,S.a.awrap(qa());case 3:return a=i.sent,i.prev=4,r(Object(E.a)({},c,{error:"",process:"Taking action please wait",loading:!0,success:"",disable:!0})),t=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:_._id,f_pending_dr:Object(E.a)({},_.f_pending_dr,{emp_id:b,comment:c.comment,approved:c.approved,approved_date:"Approved"===c.approved?a:""}),f_pending_tl:Object(E.a)({},_.f_pending_tl,{emp_id:c.tm_emp_id,accepted_date:"Approved"===c.approved?a:""})})),i.next=9,S.a.awrap(L.a.put(R.host+"/allowances",{data:t}));case 9:n=i.sent,(l=Object(T.decrptObject)(n.data)).error?r(Object(E.a)({},c,{error:"unable to take action try again later",process:"",loading:!1,success:"",disable:!1})):!l.error&&l.updated&&r(Object(E.a)({},c,{error:"",success:"Action made successfully",process:"",loading:!1,disable:!1})),i.next=18;break;case 14:i.prev=14,i.t0=i.catch(4),console.log(i.t0),r(Object(E.a)({},c,{error:"error while taking action server is not responding",success:"",process:"",loading:!1,disable:!1}));case 18:case"end":return i.stop()}}),null,null,[[4,14]])}(e)}},l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.r,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:c.check.Approved,className:"my-auto mx-3",onChange:function(e){return r((function(e){return Object(E.a)({},c,{approved:"Approved"===e.approved?"":"Approved",check:{Approved:!e.check.Approved,unApproved:!1,comment:!1}})}))}}),"Accept and start calculation"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Eb,className:"text-danger fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:c.check.unApproved,className:"my-auto mx-3",onChange:function(e){return r((function(e){return Object(E.a)({},c,{approved:"unApproved"===e.approved?"":"unApproved",check:{Approved:!1,unApproved:!e.check.unApproved,comment:!1}})}))}}),"Reject"),c.check.unApproved&&"unApproved"===c.approved?l.a.createElement("p",{className:"font-weight-bold text-center"},"please write a comment why you reject this allowance"):l.a.createElement("p",null),c.check.unApproved&&"unApproved"===c.approved?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("textarea",{className:"input-field form-control my-auto",type:"text",placeholder:"write comment",onChange:function(e){r(Object(E.a)({},c,{comment:e.target.value}))},cols:"20",rows:"5"})):l.a.createElement("p",null),c.check.Approved&&"Approved"===c.approved?l.a.createElement("p",{className:"font-weight-bold text-center"},"please Select team leader to forward"):l.a.createElement("p",null),c.check.Approved&&"Approved"===c.approved&&p.F_TeamLeader()?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return r(Object(E.a)({},c,{tm_emp_id:e.target.value}))},required:!0},l.a.createElement("option",{value:""},"Enter team leader"),p.F_TeamLeader().length?p.F_TeamLeader().map((function(e){return l.a.createElement("option",{value:e.emp_id,key:e._id},p.Name(e.emp_id))})):l.a.createElement("option",{value:"",className:"text-danger"},"No finance team leader availiable"))):l.a.createElement("p",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),c.check.Approved||c.check.comment||c.check.unApproved?l.a.createElement("button",{type:"submit",className:"float-right btn btn-info",disabled:c.disable},"Done"):l.a.createElement("p",null))))))},qt=function(e){var a=Object(n.useState)({f_employee:"",process:"",error:"",disable:!1,loading:!1,success:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=Object(n.useContext)(d),o=s.employees,m=s.allowances,u=s.users,p=new y(o.state),b=(new O(m.state,o.state,u.state).getEmp_id(),e.allowance),_=b.f_pending_tl.seen;Object(n.useEffect)((function(){if(!_){!function(){var e;S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.awrap(qa());case 2:return e=a.sent,a.next=5,S.a.awrap(L.a.put(R.host+"/allowances",{data:Object(T.encryptObject)(Object(E.a)({},pt(),{_id:b._id,f_pending_tl:Object(E.a)({},b.f_pending_tl,{seen:!0,seen_date:e})}))}));case 5:a.sent;case 6:case"end":return a.stop()}}))}()}}),[]);return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 text-center"},l.a.createElement("div",{className:"card"},l.a.createElement("form",{onSubmit:function(e){return function(e){var a,t,n,l;return S.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e.preventDefault(),i.next=3,S.a.awrap(qa());case 3:return a=i.sent,i.prev=4,r(Object(E.a)({},c,{error:"",process:"Forwarding please wait...",loading:!0,success:"",disable:!0})),t=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:b._id,f_pending_tl:Object(E.a)({},b.f_pending_tl,{forwarded:!0}),f_pending_emp:Object(E.a)({},b.f_pending_emp,{emp_id:c.f_employee,accepted_date:a})})),i.next=9,S.a.awrap(L.a.put(R.host+"/allowances",{data:t}));case 9:n=i.sent,(l=Object(T.decrptObject)(n.data)).error?r(Object(E.a)({},c,{error:"unable to take action try again later",process:"",loading:!1,success:"",disable:!1})):!l.error&&l.updated&&r(Object(E.a)({},c,{error:"",success:"Action made successfully",process:"",loading:!1,disable:!1})),i.next=18;break;case 14:i.prev=14,i.t0=i.catch(4),console.log(i.t0),r(Object(E.a)({},c,{error:"error while taking action server is not responding",success:"",process:"",loading:!1,disable:!1}));case 18:case"end":return i.stop()}}),null,null,[[4,14]])}(e)}},l.a.createElement("p",{className:"font-weight-bold text-center"},"please Select Employee to do the calculation"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.J,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return r(Object(E.a)({},c,{f_employee:e.target.value}))},required:!0},l.a.createElement("option",{value:""},"Select Employee"),p.F_Employee().length?p.F_Employee().map((function(e){return l.a.createElement("option",{value:e.emp_id,key:e._id},p.Name(e.emp_id))})):l.a.createElement("option",{value:"",className:"text-danger"},"No finance employee availiable"))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),l.a.createElement("button",{type:"submit",className:"float-right btn btn-info",disabled:c.disable},"Assign"))))))},Mt=function e(a){var t=this;Object(_.a)(this,e),this.findClimatePlace=function(e){return t.places.find((function(a){return a._id===e}))},this.findBy_GeneralName=function(e){return t.places.filter((function(a){return a.general_name.toString().toLowerCase().includes(e.toString().toLowerCase(),0)}))},this.findBy_Name=function(e){return t.places.filter((function(a){return a.name.toString().toLowerCase().includes(e.toString().toLowerCase(),0)}))},this.findSinglePlace=function(e){return""===e?void 0:t.findBy_Name(e).length?t.findBy_Name(e)[0]:void 0},this.findGname_level_1=function(e){return t.findBy_GeneralName(e).filter((function(e){return"level_1"===e.level}))},this.findGname_level_2=function(e){return t.findBy_GeneralName(e).filter((function(e){return"level_2"===e.level}))},this.findGname_level_3=function(e){return t.findBy_GeneralName(e).filter((function(e){return"level_3"===e.level}))},this.searchPlace=function(e){return x([].concat(Object(b.a)(t.findBy_GeneralName(e)),Object(b.a)(t.findBy_Name(e))),"_id")},this.searchByName=function(e){return t.findBy_Name(e).find((function(a){return a.name.toString().toLowerCase()===e.toString().toLowerCase()}))},this.climateName=function(e){return t.findClimatePlace(e)?t.findClimatePlace(e).name:""},this.climateLevel=function(e){return t.findClimatePlace(e)?t.findClimatePlace(e).level:""},this.climateGenralName=function(e){return t.findClimatePlace(e)?t.findClimatePlace(e).general_name:""},this.places=a},Ut=function e(a){var t=this;Object(_.a)(this,e),this.officialPlaces=function(){return t.places.filter((function(e){return null===e.normal_scale_1&&null===e.normal_scale_2&&null===e.normal_scale_3}))},this.employeePlaces=function(){return t.places.filter((function(e){return null===e.superintendent_allowance&&null===e.higher_officer_allowance&&null===e.spr_members_1&&null===e.spr_members_2}))},this.findPlace=function(e){return t.places.find((function(a){return a._id===e}))},this.placeName=function(e){return t.findPlace(e)?t.findPlace(e).name:""},this.placeType=function(e){return t.findPlace(e)?t.findPlace(e).type:""},this.placeRegion=function(e){return t.findPlace(e)?t.findPlace(e).region:""},this.findByName=function(e,a){var n=e.toLowerCase();if(""!==e)return"official"===a?t.officialPlaces().find((function(e){return e.name.toLowerCase().includes(n,0)})):"employee"===a?t.employeePlaces().find((function(e){return e.name.toLowerCase().includes(n,0)})):void 0},this.findByRegionAndType=function(e,a){return t.employeePlaces().find((function(t){return t.region===e&&t.type===a}))},this.searchPlaceOfficial=function(e){var a=e.toLowerCase();return t.officialPlaces().filter((function(e){return e.name.toLowerCase().includes(a,0)}))},this.findEmployeePlace=function(e){return t.employeePlaces().find((function(a){return a._id===e}))},this.findOfficialPlace=function(e){return t.employeePlaces().find((function(a){return a._id===e}))},this.hasClimateAllowance=function(e){return!!t.findPlace(e)&&("none"!==t.findPlace(e).climate_allowances&&"null"!==t.findPlace(e).climate_allowances)},this.climatePlace=function(e){return t.hasClimateAllowance(e)?t.findPlace(e).climate_allowances:"none"},this.places=a},Gt=function(e){function a(e,t,n,l,c,r){var i;return Object(_.a)(this,a),(i=Object(v.a)(this,Object(h.a)(a).call(this,t,n,l))).durationDate=function(e){var a=Date.now(),t=i.findAllowance(e)?i.findAllowance(e).initial_date:a,n=i.findAllowance(e)?i.findAllowance(e).destination_date:a,l=new Date(t);return(new Date(n).getTime()-l.getTime())/864e5+1},i.scale=function(e,a){var t=i.Salary(e),n=new Ut(i.places).findPlace(a),l=i.officialPosition(e);return 0!==t||i.isOfficial(e)?i.isOfficial(e)&&"medium_manager"!==l?n?"superintendent"===l?n.superintendent_allowance:"commissioner"===l?n.higher_officer_allowance:"spr_member_1"===l?n.spr_members_1:"spr_member_2"===l?n.spr_members_2:"others"===l?n.other_allowances:"rural_kebele"===n.type?100:0:0:i.isOfficial(e)&&"medium_manager"!==l?void 0:n?t<3933?n.normal_scale_1:t<9055&&t>=3933?n.normal_scale_2:t>=9055?n.normal_scale_3:"rural_kebele"===n.type?100:0:0:0},i.climateAllowanceLevel=function(e){var a=new Mt(i.climatePlaces).findClimatePlace(e);return a?parseFloat("level_1"===a.level?i.config.climate_1:"level_2"===a.level?i.config.climate_2:"level_3"===a.level?i.config.climate_3:0):0},i.climateAllowance=function(e,a,t){var n=parseFloat(i.durationDate(e)),l=parseFloat(i.climateAllowanceLevel(t));return parseFloat(n*a)*(l/100)},i.livingAllowance=function(e,a){var t=parseFloat(i.durationDate(e));return parseFloat(t*a)},i.totallLivingAllowance=function(e,a,t,n,l){var c=n||0,r=l||0,s=i.livingAllowance(e,a),o=i.climateAllowance(e,a,t);return parseFloat(s+o+c+r)},i.breakfastAmount=function(e,a){var t=parseFloat(a*(i.config.breakfast/100));return parseFloat(t*e)},i.lunchAmount=function(e,a){var t=parseFloat(a*(i.config.lunch/100));return parseFloat(e*t)},i.dinnerAmount=function(e,a){var t=parseFloat(a*(i.config.dinner/100));return parseFloat(t*e)},i.bedAmount=function(e,a){var t=parseFloat(a*(i.config.bed/100));return parseFloat(e*t)},i.dayAllowance=function(e,a,t,n,l){var c=l||0,r=e?i.breakfastAmount(e,c):0,s=a?i.lunchAmount(a,c):0,o=t?i.dinnerAmount(t,c):0,m=n?i.bedAmount(n,c):0;return parseFloat(r+s+o+m)},i.totallDayAllowance=function(e,a,t,n,l,c,r,s,o){var m=i.dayAllowance(a,t,n,l,c),d=i.climateAllowance(e,c,r);return parseFloat(m+d+o+s)},i.places=e,i.config=c,i.climatePlaces=r,i}return Object(N.a)(a,e),a}(O),Yt=function e(a){var t=this;Object(_.a)(this,e),this.findEmployee=function(e){return t.employees.find((function(a){return a.emp_id===e}))},this.faIn_A_A=function(e){return t.findEmployee(e)?t.findEmployee(e).inside_addis_ababa:0},this.faOut_A_A=function(e){return t.findEmployee(e)?t.findEmployee(e).outside_addis_ababa:0},this.faPosition=function(e){return t.findEmployee(e)?t.findEmployee(e).postion:""},this.faCheck=function(e){return!!t.findEmployee(e)},this.employees=a},zt=function(e){var a=Object(n.useState)({place_id:"",Place_Name:"",region:"",place_type:"",scale:0,reserve:0,petrol:0,changeOption:!1,placeFound:[],living_days:0,day_allowance:0,breakfast:0,lunch:0,dinner:0,bed:0,climate_allowance:0,totall:0,type:"living",calculated:"approve",check:{faA_A:!1,faO_A:!1,living:!0,day:!1,petrol:!1,reserve:!1,pre_paid:!1,draft:!1,approve:!0,climate:!1},climate_id:"",climate_name:"",climate_places:[],level:"",process:"",error:"",loading:!1,disable:!1,success:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=e.allowance,o=s._id,m=s.creater,u=s.destination_place,p=Object(n.useContext)(d),b=p.allowances,_=p.users,v=p.employees,h=p.config,N=p.place,x=p.fieldEmployees,y=p.climatePlaces,w=new Gt(N.state,b.state,v.state,_.state,h.state[0],y.state),O=new Ut(N.state),j=new Yt(x.state),k=new Mt(y.state),C=w.durationDate(o),A=w.isOfficial(m)?O.findByName(u,"official"):O.findByName(u,"employee"),D=j.faCheck(m)?u.toLowerCase().includes("ababa")?j.faIn_A_A(m):j.faOut_A_A(m):w.scale(m,A?A._id:""),P=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:s._id,f_pending_emp:Object(E.a)({},s.f_pending_emp,{seen:!0,seen_date:Date.now()})}));Object(n.useEffect)((function(){S.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.awrap(L.a.put(R.host+"/allowances",{data:P}));case 2:e.sent;case 3:case"end":return e.stop()}})),r(Object(E.a)({},c,{place_id:A?A._id:"",Place_Name:A?A.name:"",region:A?A.region:"",place_type:A?A.type:"",scale:D,changeOption:!!A,check:Object(E.a)({},c.check,{faA_A:!!j.faCheck(m)&&!!u.toLowerCase().includes("ababa"),faO_A:!j.faCheck(m)||!u.toLowerCase().includes("ababa"),climate:!!k.searchByName(s.destination_place)}),climate_id:k.searchByName(s.destination_place)?k.searchByName(u)._id:"",climate_name:k.searchByName(s.destination_place)?k.searchByName(s.destination_place).name:"",climate_places:k.findBy_Name(s.destination_place),level:k.searchByName(s.destination_place)?k.searchByName(s.destination_place).level:""}))}),[A]);var I=function(e,a){if(("rural_kebele"===a||"rural_kebele"===c.place_type)&&"region"===e||"rural_kebele"===a)r((function(t){return Object(E.a)({},c,{scale:100,place_type:"rural_kebele",place_id:"",region:"region"===e?a:t.region,error:"",success:"",process:""})}));else if("region"===e){var t=O.findByRegionAndType(a,c.place_type),n=t?w.scale(m,t._id):0;r(Object(E.a)({},c,{scale:n,region:a,place_id:t?t._id:"",Place_Name:t?t.name:"",error:"",success:"",process:""}))}else if("place_type"===e){var l=O.findByRegionAndType(c.region,a),i=l?w.scale(m,l._id):0;r(Object(E.a)({},c,{scale:i,place_type:a,Place_Name:l?l.name:"",error:"",success:"",place_id:l?l._id:"",process:""}))}},F=c.placeFound.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.name),l.a.createElement("td",null,w.scale(m,e._id)),l.a.createElement("td",{onClick:function(){return function(e,a){var t=e.name,n=e.region,l=e.type,i=e._id,s=e.name;r(Object(E.a)({},c,{Place_Name:t,region:n,place_type:l,scale:a,place_id:i,climate_id:k.searchByName(s)?k.searchByName(s)._id:"",climate_name:k.searchByName(s)?k.searchByName(s).name:"",climate_places:k.findBy_Name(s),level:k.searchByName(s)?k.searchByName(s).level:"",check:Object(E.a)({},c.check,{climate:!!k.searchByName(s)})}))}(e,w.scale(m,e._id))},className:"btn-outline-info btn"},l.a.createElement(f.a,{icon:g.jb,className:"fa-2x"})))})),B=c.climate_places.length?c.climate_places.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.general_name),l.a.createElement("td",{className:"text-center"},e.name),l.a.createElement("td",{className:"text-center"},e.level),l.a.createElement("td",{className:"btn btn-outline-info",onClick:function(){return function(e){return r(Object(E.a)({},c,{climate_id:e._id,climate_name:e.name,level:e.level}))}(e)}},l.a.createElement(f.a,{icon:g.r})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:3,className:"text-danger font-weight-bold"},"No climate allowance places found"));return l.a.createElement("form",{onSubmit:function(e){return function(e){var a,t,n,l;return S.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e.preventDefault(),i.next=3,S.a.awrap(qa());case 3:if(a=i.sent,!(c.scale<=0)){i.next=8;break}r(Object(E.a)({},c,{error:"Error-can not identify any scale of day allowance please enter appropriate one ",success:"",process:""})),i.next=22;break;case 8:return i.prev=8,r(Object(E.a)({},c,{loading:!0,disable:!0,error:"",success:"",process:"saving..."})),t=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:o,f_pending_emp:Object(E.a)({},s.f_pending_emp,{calculated:c.calculated,calculated_date:a,redone:16===w.progress(o),redone_director:20===w.progress(o)}),totall_amount:"living"===c.type?w.totallLivingAllowance(o,c.scale,c.climate_id,c.petrol,c.reserve):w.totallDayAllowance(o,c.breakfast,c.lunch,c.dinner,c.bed,c.scal.climate_idstate.place_id,c.petrolstate.pre_paid),reserve_amount:c.reserve,living_allowance:"living"===c.type?w.livingAllowance(o,c.scale):0,day_allowance:"day"===c.type?w.dayAllowance(c.breakfast,c.lunch,c.dinner,c.bed,c.scale):0,petrol_allowance:c.petrol,climate_allowance:w.climateAllowance(o,c.scale,c.climate_id),place_id:c.place_id,type:c.type,breakfast:c.breakfast,lunch:c.lunch,dinner:c.dinner,bed:c.bed,region:c.region,scale:c.scale,place_type:c.place_type,climate_id:c.climate_id})),i.next=13,S.a.awrap(L.a.put(R.host+"/allowances",{data:t}));case 13:n=i.sent,(l=Object(T.decrptObject)(n.data)).error?r(Object(E.a)({},c,{error:"can not save please try again later",success:"",process:"",disable:!1,loading:!1})):!l.error&&l.updated&&r(Object(E.a)({},c,{error:"",success:"saving success",process:"",disable:!1,loading:!1})),i.next=22;break;case 18:i.prev=18,i.t0=i.catch(8),console.log(i.t0),r(Object(E.a)({},c,{error:"can not save server is not responding",success:"",process:"",disable:!1,loading:!1}));case 22:case"end":return i.stop()}}),null,null,[[8,18]])}(e)}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"card"},l.a.createElement("h3",{className:"text-center"},"Employee Info"),l.a.createElement("h5",{className:"text-center font-weight-bold"},l.a.createElement(f.a,{icon:g.Bb,className:"mx-2 fa-2x text-light"}),w.Name(s.creater)),l.a.createElement("h5",{className:"text-center font-weight-bold"},"salary-",w.Salary(s.creater)),l.a.createElement("h5",{className:"text-center font-weight-bold"},"Employee is official-",w.isOfficial(m)?"yes":"No"),j.faCheck(m)?l.a.createElement("h5",{className:"text-center font-weight-bold"},"Employee is project Allowance -yes"):l.a.createElement("h5",{className:"text-center font-weight-bold"},"Employee is project Allowance -No")),l.a.createElement("div",{className:"card mt-2"},l.a.createElement("h4",{className:"text-center"},"Allowance Info"),l.a.createElement("p",{className:"text-center font-weight-bold"},"Letter id - ",s.letter_id),l.a.createElement("p",{className:"text-center font-weight-bold"},"program- ",s.program),l.a.createElement("p",{className:"text-center font-weight-bold"},"project Name and code- ",s.project_name),l.a.createElement("p",{className:"text-center font-weight-bold"},"objective- ",s.program),l.a.createElement("p",{className:"text-center font-weight-bold"},"Initial place- ",s.initial_place),l.a.createElement("p",{className:"text-center font-weight-bold"},"Destination place- ",s.destination_place),l.a.createElement("div",{className:"text-center font-weight-bold"},"Initial Date -",Wa(s.initial_date)," E.C ",l.a.createElement("br",null),l.a.createElement("p",{className:"font-italic small"},Ga(s.initial_date)," G.C")),l.a.createElement("div",{className:"text-center font-weight-bold"},"Return Date -",Wa(s.destination_date),l.a.createElement("p",{className:"font-italic small font-weight-bold"},Ga(s.destination_date)," G.C")))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("h3",{className:"text-center"},"Data detected"),l.a.createElement("h4",{className:"text-center font-weight-bold"},"Duration Date totall -",C),l.a.createElement("p",{className:"text-center font-weight-bold"},"Destination place name- ",c.Place_Name),""===c.place_type?l.a.createElement("p",{className:"text-center font-weight-bold"},"Place type-Can not detect place type please enter place type"):l.a.createElement("p",{className:"text-center font-weight-bold"},"Place type-",c.place_type),""===c.region?l.a.createElement("p",{className:"text-center font-weight-bold"},"Region-can not detect place region enter region"):l.a.createElement("p",{className:"text-center font-weight-bold"},"Region-",c.region),l.a.createElement("p",{className:"text-center font-weight-bold"},"climate Allowance place name: ",c.climate_name),l.a.createElement("p",{className:"text-center font-weight-bold"},"climate allowance :",w.climateAllowanceLevel(c.climate_id)," %"),0===c.scale?l.a.createElement("p",{className:"text-center font-weight-bold font-italic text-danger"},"Day Allowance-can not detect Day allowance"):l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"Day Allowance-",c.scale," birr"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"}),l.a.createElement("div",{className:"col-lg-6"},c.changeOption?l.a.createElement("div",{className:"btn btn-info",onClick:function(){return r((function(e){return Object(E.a)({},c,{changeOption:!e.changeOption})}))}},l.a.createElement(f.a,{icon:g.cb,className:"mx-2"}),"change"):l.a.createElement("p",null))),c.changeOption?l.a.createElement("p",null):j.faCheck(m)?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"my-auto"},"inside Addis ababa"),l.a.createElement("input",{type:"checkbox",checked:c.check.faA_A,className:"input-field my-auto",onChange:function(e){return r((function(e){return Object(E.a)({},c,{scale:j.faIn_A_A(m),process:"",error:"",success:"",check:Object(E.a)({},c.check,{faA_A:!0,faO_A:!1})})}))}}),l.a.createElement("p",{className:"my-auto"},"outside Addis ababa"),l.a.createElement("input",{type:"checkbox",checked:c.check.faO_A,className:"input-field my-auto",onChange:function(e){return r((function(e){return Object(E.a)({},c,{scale:j.faOut_A_A(m),process:"",error:"",success:"",check:Object(E.a)({},c.check,{faA_A:!1,faO_A:!0})})}))}})):w.isOfficial(m)?l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Input name of the place",onChange:function(e){return function(e){var a=""===e?[]:O.searchPlaceOfficial(e);r(Object(E.a)({},c,{placeFound:a}))}(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null)))),c.placeFound.length?l.a.createElement(xe.g,{hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"mx-2"}),"Place name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.W,className:"mx-2"}),"Day allowance"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ib,className:"mx-2"}),"Select"))),l.a.createElement(xe.h,null,F)):l.a.createElement("p",{className:"text-center text-danger font-weight-bold"},"input Place name to search")):l.a.createElement("div",{className:"mt-2"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Region"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.I,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return I("region",e.target.value)}},l.a.createElement("option",{value:""},"Enter region"),l.a.createElement("option",{value:"Amhara"},"Amhara"),l.a.createElement("option",{value:"Oromia"},"Oromia"),l.a.createElement("option",{value:"Tigrai"},"Tigrai"),l.a.createElement("option",{value:"Somalia"},"Somalia"),l.a.createElement("option",{value:"Benshangul"},"Benshangul"),l.a.createElement("option",{value:"Afar"},"Afar"),l.a.createElement("option",{value:"Gambela"},"Gambela"),l.a.createElement("option",{value:"SPNR"},"south nation people"),l.a.createElement("option",{value:"Sidama"},"Sidama"),l.a.createElement("option",{value:"Harari"},"Harari"),l.a.createElement("option",{value:"DireDewa"},"DireDewa"),l.a.createElement("option",{value:"addis_ababa"},"Addis Ababa"))),l.a.createElement("p",{className:"font-weight-bold text-center"},"place type"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return I("place_type",e.target.value)}},l.a.createElement("option",{value:""},"Enter place type"),l.a.createElement("option",{value:"state_city"},"State city"),l.a.createElement("option",{value:"zone"},"Zone"),l.a.createElement("option",{value:"woreda"},"woreda"),l.a.createElement("option",{value:"rural_kebele"},"Rural kebele")))),l.a.createElement("p",{className:"font-weight-bold text-center mt-3"},"climate allowance"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.X,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"my-auto mx-2"},"Add place of climate allowance"),l.a.createElement("input",{className:"my-auto",type:"checkbox",onChange:function(e){return r((function(e){return Object(E.a)({},c,{process:"",error:"",success:"",check:Object(E.a)({},c.check,{climate:!e.check.climate}),climate_id:c.check.climate?"":e.climate_id,climate_name:c.check.climate?"":e.climate_name})}))},checked:c.check.climate}))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("h3",{className:"text-center font-weight-bold"},"Calculate"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"my-auto"},"Living allowance"),l.a.createElement("input",{type:"checkbox",className:"input-field my-auto",onChange:function(e){return r(Object(E.a)({},c,{process:"",error:"",success:"",type:"living",check:Object(E.a)({},c.check,{living:!0,day:!1,both:!1})}))},checked:c.check.living}),l.a.createElement("p",{className:"my-auto"},"Day allowance"),l.a.createElement("input",{type:"checkbox",className:"input-field my-auto",onChange:function(e){return r(Object(E.a)({},c,{process:"",error:"",success:"",type:"day",check:Object(E.a)({},c.check,{day:!0,living:!1,both:!1})}))},checked:c.check.day})),l.a.createElement("hr",null),c.check.day?l.a.createElement("div",{className:"card text-center font-weight-bold"},l.a.createElement("hr",null),"Breakfast amount =",w.breakfastAmount(c.breakfast,c.scale)," ",l.a.createElement("br",null),"Lunch amount=",w.lunchAmount(c.lunch,c.scale)," ",l.a.createElement("br",null),"Dinner amount=",w.dinnerAmount(c.dinner,c.scale)," ",l.a.createElement("br",null),"Bed amount=",w.bedAmount(c.bed,c.scale)," ",l.a.createElement("br",null),"climate allowance=",w.climateAllowance(o,c.scale,c.climate_id)," ",l.a.createElement("br",null),"petrol and oil amount=",c.petrol," ",l.a.createElement("br",null),"reserve amount=",c.reserve," ",l.a.createElement("br",null),"Totall Day allowance:",w.dayAllowance(c.breakfast,c.lunch,c.bed,c.dinner,c.scale),l.a.createElement("hr",null),l.a.createElement("h5",{className:"font-weight-bold"},"Totall:",w.totallDayAllowance(o,c.breakfast,c.lunch,c.dinner,c.bed,c.scale,c.climate_id,c.petrol,c.reserve))):l.a.createElement("p",null),c.check.living?l.a.createElement("div",{className:"text-center font-weight-bold card"},"Day allowance:",c.scale," ",l.a.createElement("br",null),"Duration days:",C," ",l.a.createElement("br",null),"living allowance : ",w.livingAllowance(o,c.scale)," ",l.a.createElement("br",null),"climate Allowance:",w.climateAllowance(o,c.scale,c.climate_id)," ",l.a.createElement("br",null),"petrol and oil amount:",c.petrol," ",l.a.createElement("br",null),"reserve amount:",c.reserve," ",l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("h5",{className:"font-weight-bold"},"Totall:",w.totallLivingAllowance(o,c.scale,c.climate_id,c.petrol,c.reserve)),l.a.createElement("hr",null)):c.check.day?l.a.createElement("div",{className:"mt-2"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Breakfast amount days"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.w,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input days",min:0,max:C,onChange:function(e){r(Object(E.a)({},c,{breakfast:""===e.target.value?0:parseFloat(e.target.value),process:"",error:"",success:""}))}})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Lunch amount days"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.hb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input days",min:0,max:C,onChange:function(e){r(Object(E.a)({},c,{lunch:""===e.target.value?0:parseFloat(e.target.value),process:"",error:"",success:""}))}})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Dinner amount days"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Hb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input days",min:0,max:C,onChange:function(e){r(Object(E.a)({},c,{dinner:""===e.target.value?0:parseFloat(e.target.value),process:"",error:"",success:""}))}})),l.a.createElement("p",{className:"font-weight-bold text-center"},"Bed amount days"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.lb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input days",min:0,max:C,onChange:function(e){r(Object(E.a)({},c,{bed:""===e.target.value?0:parseFloat(e.target.value),process:"",error:"",success:""}))}}))):l.a.createElement("p",null),l.a.createElement("p",{className:"font-weight-bold text-center mt-3"},"Petrol and oil"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.X,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"my-auto mx-2"},"Add petrol and oil amount?"),l.a.createElement("input",{className:"my-auto",type:"checkbox",onChange:function(e){return r((function(e){return Object(E.a)({},c,{process:"",error:"",success:"",check:Object(E.a)({},c.check,{petrol:!e.check.petrol}),petrol:e.check.petrol?0:e.petrol})}))},checked:c.check.petrol}),c.check.petrol?l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input amount",min:0,onChange:function(e){r(Object(E.a)({},c,{petrol:""===e.target.value?0:parseFloat(e.target.value),process:"",error:"",success:""}))}}):l.a.createElement("p",null)),l.a.createElement("p",{className:"font-weight-bold text-center mt-3"},"Reserve amount"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.X,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"my-auto mx-2"},"Add reserve amount?"),l.a.createElement("input",{className:"my-auto",type:"checkbox",onChange:function(e){return r((function(e){return Object(E.a)({},c,{process:"",error:"",success:"",check:Object(E.a)({},c.check,{reserve:!e.check.reserve}),reserve:e.check.reserve?0:e.reserve})}))},checked:c.check.reserve}),c.check.reserve?l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input amount",min:0,onChange:function(e){r(Object(E.a)({},c,{reserve:""===e.target.value?0:parseFloat(e.target.value),process:"",error:"",success:""}))}}):l.a.createElement("p",null))),l.a.createElement("div",{className:"col-lg-12 mt-2"},l.a.createElement("div",{className:"card text-center"},c.check.climate?l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Input name of the climate place",onChange:function(e){return a=e.target.value,r(Object(E.a)({},c,{climate_places:""===a?[]:k.searchPlace(a)}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null)))):l.a.createElement("p",null),c.check.climate?l.a.createElement(xe.g,{hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"mx-1"}),"General place name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.W,className:"mx-1"}),"place name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Q,className:"mx-1"}),"level"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ib,className:"mx-2"}),"Select"))),l.a.createElement(xe.h,null,B)):l.a.createElement("p",null))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"card text-center"},l.a.createElement("h3",{className:"text-center font-weight-bold mt-2"},"Save options"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.nb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("p",{className:"my-auto"},"save as draft"),l.a.createElement("input",{type:"checkbox",className:"input-field my-auto",onChange:function(e){return r(Object(E.a)({},c,{process:"",error:"",success:"",calculated:"draft",check:Object(E.a)({},c.check,{approve:!1,draft:!0})}))},checked:c.check.draft}),l.a.createElement("p",{className:"my-auto"},"save and start approving"),l.a.createElement("input",{type:"checkbox",className:"input-field my-auto",onChange:function(e){return r(Object(E.a)({},c,{process:"",error:"",success:"",calculated:"approve",check:Object(E.a)({},c.check,{approve:!0,draft:!1})}))},checked:c.check.approve})),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),c.check.draft?l.a.createElement("button",{type:"submit",disabled:c.disable,className:"btn btn-outline-primary  mx-5"},"save as draft"):l.a.createElement("button",{type:"submit",disabled:c.disable,className:"btn btn-outline-primary mx-5"},"save and approve"))))))},Wt=function(e){var a=e.allowance,t=e.tl,c=e.director,r=a.f_approve_tm.seen,i=a.f_approve_dr.seen,s=Object(n.useContext)(d),o=s.allowances,m=s.users,u=s.employees,p=s.config,b=s.place,_=s.fieldEmployees,v=s.climatePlaces,h=a._id,N=a.creater,x=new Gt(b.state,o.state,u.state,m.state,p.state[0],v.state),y=new Ut(b.state),w=new Yt(_.state),O=new Mt(v.state),j=new Date(a.f_pending_emp.calculated_date),k=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id,f_approve_tm:Object(E.a)({},a.f_approve_tm,{seen:!0,seen_date:Date.now()})})),C=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id,f_approve_dr:{seen:!0,seen_date:Date.now()}}));return Object(n.useEffect)((function(){var e=function(e){return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.awrap(L.a.put(R.host+"/allowances",{data:e}));case 2:a.sent;case 3:case"end":return a.stop()}}))};t&&!r&&e(k),!i&&c&&e(C)}),[]),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"card"},l.a.createElement("h3",{className:"text-center"},"Employee Info"),l.a.createElement("h5",{className:"text-center font-weight-bold"},l.a.createElement(f.a,{icon:g.Bb,className:"mx-2 text-light"}),x.Name(a.creater)),l.a.createElement("h5",{className:"text-center font-weight-bold"},"salary-",x.Salary(a.creater)),l.a.createElement("h5",{className:"text-center font-weight-bold"},"Employee is official-",x.isOfficial(N)?"yes":"No"),w.faCheck(N)?l.a.createElement("h5",{className:"text-center font-weight-bold"},"Employee is project Allowance -yes"):l.a.createElement("h5",{className:"text-center font-weight-bold"},"Employee is project Allowance -No")),l.a.createElement("div",{className:"card mt-2"},l.a.createElement("h3",{className:"text-center font-weight-bold"},"Calculated by"),l.a.createElement("p",{className:"text-center font-italic font-weight-bold"},"by- ",x.Name(a.f_pending_emp.emp_id)),l.a.createElement("p",{className:"text-center font-italic font-weight-bold"},"calculated day- ",j.toUTCString()))),l.a.createElement("div",{className:"col-lg-6"},"living"===a.type?l.a.createElement("div",{className:"text-center font-weight-bold card"},"Destination place_name:",y.findPlace(a.place_id)?y.findPlace(a.place_id).name:""," ",l.a.createElement("br",null),"Destination place region:",y.findPlace(a.place_id)?y.findPlace(a.place_id).region:a.region," ",l.a.createElement("br",null),"Destination place type:",a.place_type," ",l.a.createElement("br",null),"climate general place name:",O.findClimatePlace(a.climate_id)?O.findClimatePlace(a.climate_id).general_name:""," ",l.a.createElement("br",null),"climate place name:",O.findClimatePlace(a.climate_id)?O.findClimatePlace(a.climate_id).name:""," ",l.a.createElement("br",null),"climate place level:",O.findClimatePlace(a.climate_id)?O.findClimatePlace(a.climate_id).level:""," ",l.a.createElement("br",null),"Day allowance scale:",a.scale," ",l.a.createElement("br",null),"Duration days:",x.durationDate(h)," ",l.a.createElement("br",null),"living allowance : ",a.living_allowance," ",l.a.createElement("br",null),"climate Allowance:",a.climate_allowance," ",l.a.createElement("br",null),"petrol and oil amount:",a.petrol_allowance," ",l.a.createElement("br",null),"reserve amount:",a.reserve_amount," ",l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("h5",{className:"font-weight-bold"},"Totall:",a.totall_amount),l.a.createElement("hr",null)):"day"===a.type?l.a.createElement("div",{className:"card text-center font-weight-bold"},l.a.createElement("hr",null),"Destination place_name:",y.findPlace(a.place_id)?y.findPlace(a.place_id).name:""," ",l.a.createElement("br",null),"Destination place region:",y.findPlace(a.place_id)?y.findPlace(a.place_id).region:a.region," ",l.a.createElement("br",null),"Destination place type:",a.place_type," ",l.a.createElement("br",null),"climate general place name:",O.findClimatePlace(a.climate_id)?O.findClimatePlace(a.climate_id).general_name:""," ",l.a.createElement("br",null),"climate place name:",O.findClimatePlace(a.climate_id)?O.findClimatePlace(a.climate_id).name:""," ",l.a.createElement("br",null),"climate place level:",O.findClimatePlace(a.climate_id)?O.findClimatePlace(a.climate_id).level:""," ",l.a.createElement("br",null),"Day allowance scale:",a.scale," ",l.a.createElement("br",null),"Breakfast amount =",a.breakfast," ",l.a.createElement("br",null),"Lunch amount=",a.lunch," ",l.a.createElement("br",null),"Dinner amount=",a.dinner," ",l.a.createElement("br",null),"Bed amount=",a.bed," ",l.a.createElement("br",null),"climate allowance=",a.climate_allowance," ",l.a.createElement("br",null),"petrol and oil amount=",a.petrol_allowance," ",l.a.createElement("br",null),"reserve amount=",a.reserve_amount," ",l.a.createElement("br",null),"Totall Day allowance:",a.day_allowance,l.a.createElement("hr",null),l.a.createElement("h5",{className:"font-weight-bold"},"Totall:",a.totall_amount)):l.a.createElement("p",null))))},Ht=function(e){var a=e.allowance,t=Object(n.useContext)(d),c=t.allowances,r=t.employees,s=t.users,o=c.state,m=r.state,u=s.state,p=(new O(o,m,u),Object(n.useState)({approved:"",check:{Approved:!1,comment:!1},comment:"",process:"",error:"",disable:!1,loading:!1,success:""})),b=Object(i.a)(p,2),_=b[0],v=b[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"card"},l.a.createElement("form",{onSubmit:function(e){return function(e){var t,n,l;return S.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.preventDefault(),""!==_.approved){c.next=5;break}v(Object(E.a)({},_,{error:"please make your decision to save",success:"",process:""})),c.next=19;break;case 5:return v(Object(E.a)({},_,{process:"taking action please wait...",error:"",success:"",disable:!0,loading:!1})),c.prev=6,t=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id,f_approve_tm:Object(E.a)({},a.f_approve_tm,{approved:_.approved,approved_date:"Approved"===_.approved?Date.now():"",comment:"commented"===_.approved?_.comment:""}),f_pending_emp:Object(E.a)({},a.f_pending_emp,{redone:!1})})),c.next=10,S.a.awrap(L.a.put(R.host+"/allowances",{data:t}));case 10:n=c.sent,(l=Object(T.decrptObject)(n.data)).error?v(Object(E.a)({},_,{error:"can not take action please try again later",success:"",process:"",disable:!1,loading:!1})):!l.error&&l.updated&&v(Object(E.a)({},_,{error:"",success:"Action made success",process:"",disable:!1,loading:!1})),c.next=19;break;case 15:c.prev=15,c.t0=c.catch(6),console.log(c.t0),v(Object(E.a)({},_,{error:"can not save server is not responding",success:"",process:"",disable:!1,loading:!1}));case 19:case"end":return c.stop()}}),null,null,[[6,15]])}(e)}},l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.r,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:_.check.Approved,className:"my-auto mx-3",onChange:function(e){return v((function(e){return Object(E.a)({},_,{approved:"Approved"===e.approved?"":"Approved",check:{Approved:!e.check.Approved,comment:!1}})}))}}),"Approve"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Eb,className:"text-danger fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:_.check.comment,className:"my-auto mx-3",onChange:function(e){return v((function(e){return Object(E.a)({},_,{approved:"commented"===e.approved?"":"commented",check:{Approved:!1,comment:!e.check.comment}})}))}}),"Do it again"),_.check.comment&&"commented"===_.approved?l.a.createElement("p",{className:"font-weight-bold text-center"},"please write a comment"):l.a.createElement("p",null),_.check.comment&&"commented"===_.approved?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("textarea",{className:"input-field form-control my-auto",type:"text",placeholder:"write comment",required:!0,onChange:function(e){v(Object(E.a)({},_,{comment:e.target.value}))},cols:"20",rows:"5"})):l.a.createElement("p",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},_.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},_.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},_.process),_.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),_.check.Approved||_.check.comment?l.a.createElement("button",{type:"submit",className:"float-right btn btn-info",disabled:_.disable},"Done"):l.a.createElement("p",null))))))},Jt=function(e){var a=e.allowance,t=Object(n.useContext)(d),c=t.allowances,r=t.employees,s=t.users,o=c.state,m=r.state,u=s.state,p=new O(o,m,u),b=Object(n.useState)({approved:"",comment:"",check:{Approved:!1,unApproved:!1,comment:!1},process:"",error:"",disable:!1,loading:!1,success:""}),_=Object(i.a)(b,2),v=_[0],h=_[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 text-center"},l.a.createElement("div",{className:"card"},l.a.createElement("form",{onSubmit:function(e){return function(e){var t,n,l,c;return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.next=3,S.a.awrap(qa());case 3:if(t=r.sent,""!==v.approved){r.next=8;break}h(Object(E.a)({},v,{error:"please make your decision to save",success:"",process:""})),r.next=22;break;case 8:return h(Object(E.a)({},v,{process:"taking action please wait...",error:"",success:"",disable:!0,loading:!1})),r.prev=9,n=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id,f_approve_dr:Object(E.a)({},a.f_approve_dr,{emp_id:p.getEmp_id(),approved_date:"Approved"===v.approved?t:"",comment:"commented"===v.approved?v.comment:"",approved:v.approved}),f_pending_emp:Object(E.a)({},a.f_pending_emp,{redone_director:!1})})),r.next=13,S.a.awrap(L.a.put(R.host+"/allowances",{data:n}));case 13:l=r.sent,(c=Object(T.decrptObject)(l.data)).error?h(Object(E.a)({},v,{error:"can not take action please try again later",success:"",process:"",disable:!1,loading:!1})):!c.error&&c.updated&&h(Object(E.a)({},v,{error:"",success:"Action made success",process:"",disable:!1,loading:!1})),r.next=22;break;case 18:r.prev=18,r.t0=r.catch(9),console.log(r.t0),h(Object(E.a)({},v,{error:"can not save server is not responding",success:"",process:"",disable:!1,loading:!1}));case 22:case"end":return r.stop()}}),null,null,[[9,18]])}(e)}},l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.r,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:v.check.Approved,className:"my-auto mx-3",onChange:function(e){return h((function(e){return Object(E.a)({},v,{approved:"Approved"===e.approved?"":"Approved",check:{Approved:!e.check.Approved,unApproved:!1,comment:!1}})}))}}),"Approve"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:v.check.comment,className:"my-auto mx-3",onChange:function(e){return h((function(e){return Object(E.a)({},v,{approved:"commented"===e.approved?"":"commented",check:{Approved:!1,unApproved:!1,comment:!e.check.comment}})}))}}),"Comment"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Eb,className:"text-danger fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:v.check.unApproved,className:"my-auto mx-3",onChange:function(e){return h((function(e){return Object(E.a)({},v,{approved:"unApproved"===e.approved?"":"unApproved",check:{Approved:!1,unApproved:!e.check.unApproved,comment:!1}})}))}}),"un Approve"),v.check.comment&&"commented"===v.approved?l.a.createElement("p",{className:"font-weight-bold text-center"},"please write a comment"):l.a.createElement("p",null),v.check.comment&&"commented"===v.approved?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("textarea",{className:"input-field form-control my-auto",type:"text",placeholder:"write comment",onChange:function(e){h(Object(E.a)({},v,{comment:e.target.value}))},required:!0,cols:"20",rows:"5"})):l.a.createElement("p",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},v.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},v.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},v.process),v.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),v.check.Approved||v.check.comment||v.check.unApproved?l.a.createElement("button",{type:"submit",className:"float-right btn btn-info",disabled:v.disable},"Done"):l.a.createElement("p",null))))))},Vt=function(e){function a(){return Object(_.a)(this,a),Object(v.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(N.a)(a,e),Object(yt.a)(a,[{key:"render",value:function(){var e=this.props,a=e.company,t=e.allowance,n=e.calculation,c=e.id,r=e.emp_id,i=e.ethDate,s=e.date;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row "},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"text-center font-italic font-weight-bold"},"Day- ",i," E.C ",l.a.createElement("br",null),Ga(s)," G.C")),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h5",{className:"text-center font-weight-bold"},a.state[0].name)),l.a.createElement("div",{className:"col-lg-12"},"living"===t.type?l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("th",{colSpan:2},l.a.createElement("h6",{className:"text-center font-weight-bold"},"Allowance Information")),l.a.createElement("th",{colSpan:2},l.a.createElement("h6",{className:"text-center font-weight-bold"},"Calculation"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",null," Allowance id  "),l.a.createElement("td",null," ",t.id),l.a.createElement("td",{className:"font-weight-bold"},"Day allowance scale"),l.a.createElement("td",{className:"font-weight-bold"},t.scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"Letter id"),l.a.createElement("td",null,t.letter_id),l.a.createElement("td",{className:"font-weight-bold"},"Duration days"),l.a.createElement("td",{className:"font-weight-bold"},n.durationDate(c))),l.a.createElement("tr",null,l.a.createElement("td",null,"program"),l.a.createElement("td",null,t.program),l.a.createElement("td",{className:"font-weight-bold"},"living allowance "),l.a.createElement("td",{className:"font-weight-bold"},t.living_allowance)),l.a.createElement("tr",null,l.a.createElement("td",null,"project Name and code"),l.a.createElement("td",null,t.project_name),l.a.createElement("td",{className:"font-weight-bold"},"climate Allowance "),l.a.createElement("td",{className:"font-weight-bold"},t.climate_allowance)),l.a.createElement("tr",null,l.a.createElement("td",null," objective"),l.a.createElement("td",null,t.program),l.a.createElement("td",{className:"font-weight-bold"}," petrol and oil amount "),l.a.createElement("td",{className:"font-weight-bold"},t.petrol_allowance)),l.a.createElement("tr",null,l.a.createElement("td",null,"Initial place"),l.a.createElement("td",null,t.initial_place),l.a.createElement("td",{className:"font-weight-bold"}," reserve amount "),l.a.createElement("td",{className:"font-weight-bold"},t.reserve_amount)),l.a.createElement("tr",null,l.a.createElement("td",null,"Destination place"),l.a.createElement("td",null,t.destination_place),l.a.createElement("td",{className:"font-weight-bold"}," Totall "),l.a.createElement("td",{className:"font-weight-bold"},t.totall_amount)),l.a.createElement("tr",null,l.a.createElement("td",null,"Initial Date"),l.a.createElement("td",null,Wa(t.initial_date)," E.C ",l.a.createElement("br",null),l.a.createElement("p",{className:"font-italic small"},Ga(t.initial_date)," G.C"))),l.a.createElement("tr",null,l.a.createElement("td",null,"Return Date"),l.a.createElement("td",null,"Return Date -",Wa(t.destination_date),l.a.createElement("p",{className:"font-italic small"},Ga(t.destination_date)," G.C"))))):"day"===t.type?l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("th",{colSpan:2},l.a.createElement("h6",{className:"text-center font-weight-bold"},"Allowance Information")),l.a.createElement("th",{colSpan:2},l.a.createElement("h6",{className:"text-center font-weight-bold"},"Calculation"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",null," Allowance id  "),l.a.createElement("td",null," ",t.id),l.a.createElement("td",{className:"font-weight-bold"},"Day allowance scale"),l.a.createElement("td",{className:"font-weight-bold"},t.scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"Letter id"),l.a.createElement("td",null,t.letter_id),l.a.createElement("td",{className:"font-weight-bold"}," Breakfast amount  "),l.a.createElement("td",{className:"font-weight-bold"},t.breakfast)),l.a.createElement("tr",null,l.a.createElement("td",null,"program"),l.a.createElement("td",null,t.program),l.a.createElement("td",{className:"font-weight-bold"},"Lunch amount "),l.a.createElement("td",{className:"font-weight-bold"},t.lunch)),l.a.createElement("tr",null,l.a.createElement("td",null,"project Name and code"),l.a.createElement("td",null,t.project_name),l.a.createElement("td",{className:"font-weight-bold"},"Dinner amount "),l.a.createElement("td",{className:"font-weight-bold"},t.dinner)),l.a.createElement("tr",null,l.a.createElement("td",null," objective"),l.a.createElement("td",null,t.program),l.a.createElement("td",{className:"font-weight-bold"}," Bed amount "),l.a.createElement("td",{className:"font-weight-bold"},t.bed)),l.a.createElement("tr",null,l.a.createElement("td",null,"program"),l.a.createElement("td",null,t.program),l.a.createElement("td",{className:"font-weight-bold"},"living allowance "),l.a.createElement("td",{className:"font-weight-bold"},t.living_allowance)),l.a.createElement("tr",null,l.a.createElement("td",null,"project Name and code"),l.a.createElement("td",null,t.project_name),l.a.createElement("td",{className:"font-weight-bold"},"climate Allowance "),l.a.createElement("td",{className:"font-weight-bold"},t.climate_allowance)),l.a.createElement("tr",null,l.a.createElement("td",null," objective"),l.a.createElement("td",null,t.program),l.a.createElement("td",{className:"font-weight-bold"}," petrol and oil amount "),l.a.createElement("td",{className:"font-weight-bold"},t.petrol_allowance)),l.a.createElement("tr",null,l.a.createElement("td",null,"Initial place"),l.a.createElement("td",null,t.initial_place),l.a.createElement("td",{className:"font-weight-bold"}," reserve amount "),l.a.createElement("td",{className:"font-weight-bold"},t.reserve_amount)),l.a.createElement("tr",null,l.a.createElement("td",null,"Destination place"),l.a.createElement("td",null,t.destination_place),l.a.createElement("td",{className:"font-weight-bold"}," Totall "),l.a.createElement("td",{className:"font-weight-bold"},t.totall_amount)))):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-6 font-weight-bold"},"Employee name- ",n.Name(r),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},"Signature"),l.a.createElement("input",{type:"text",className:"input-field form-control",disabled:!0})))),l.a.createElement("div",{className:"col-lg-6"}),l.a.createElement("div",{className:"col-lg-6"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("h6",{className:"text-center font-weight-bold"},"Manager"),"Manager name- ",n.Name(t.approval_manager.emp_id),l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},"Signature"),l.a.createElement("input",{type:"text",className:"input-field form-control",disabled:!0}))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold"},"calculation approval Manager-",n.Name(t.f_pending_tl.emp_id)),l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},"Signature"),l.a.createElement("input",{type:"text",className:"input-field form-control",disabled:!0}))),l.a.createElement("div",{className:"col-lg-6"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"text-center small font-weight-bold font-italic"},"Allowance system developed by metrix technologies"))))}}]),a}(l.a.Component),Zt=function(e){var a=e.allowance,t=Object(n.useState)(""),c=Object(i.a)(t,2),r=c[0],s=c[1],o=Object(n.useContext)(d),m=o.allowances,u=o.users,p=o.employees,b=o.config,_=o.place,v=o.company,h=a._id,N=a.creater,x=new Gt(_.state,m.state,p.state,u.state,b.state[0]),y=new Date(a.initial_date),w=new Date(a.destination_date);new Date(a.created_date);Object(n.useEffect)((function(){a.all_done||function(){var e;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id,all_done:!0})),t.next=3,S.a.awrap(L.a.put(R.host+"/allowances",{data:e}));case 3:t.sent;case 4:case"end":return t.stop()}}))}(),function(){var e;S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.awrap(qa());case 2:e=a.sent,s(e);case 4:case"end":return a.stop()}}))}(),document.title="Allowance system developed by metrix technologies"}),[]);var O=Object(n.useRef)(),j=Wa(r);return l.a.createElement("div",null,l.a.createElement(xt.a,{trigger:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-9"}),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("button",{className:"btn btn-outline-info"},l.a.createElement(f.a,{icon:g.kb,className:"mx-2"}),"Print"))))},content:function(){return O.current}}),l.a.createElement(Vt,{ref:O,company:v,allowance:a,calculation:x,initial_date:y,destination_date:w,id:h,emp_id:N,ethDate:j,date:r}))},Kt=function(e){var a=e.className,t=e.type,c=Object(n.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],m=function(){return o(!s)};return"create_allowance"===t?l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-outline-pimary btn-info",onClick:m},l.a.createElement(f.a,{icon:g.ib}),"Create Allowance"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"lg",className:a},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.ab,className:"mx-2"}),"New Allowance"),l.a.createElement(pe.a,null,l.a.createElement(St,null)))):"view_details"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.H,className:"mx-2 fa-1x text-info"}),"view Details"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.H,className:"mx-2"})),l.a.createElement(pe.a,null,l.a.createElement(Pt,{allowance:e.allowance,pendingDirector:e.pendingDirector,Manager_seen:e.Manager_seen,pendingTeamLeader:e.pendingTeamLeader,incomingCalculations:e.incomingCalculations,approve_tl:e.approve_tl,adr:e.adr})))):"view_progress"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.q,className:"mx-2 fa-1x text-info"}),"view Progress"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"lg",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.q,className:"mx-2"}),"Progress"),l.a.createElement(pe.a,null,l.a.createElement(Rt,{allowance:e.allowance,employees:e.employees,users:e.users,allowances:e.allowances})))):"manager_approve"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.L,className:"mx-2 fa-1x text-info"}),"Take Decision"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Make Decision"),l.a.createElement(pe.a,null,l.a.createElement(Tt,{allowance:e.allowance,Manager_seen:e.Manager_seen})))):"edit_allowance"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.fb,className:"mx-2 fa-1x text-info"}),"Edit"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"lg",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.fb,className:"mx-2"}),"Edit"),l.a.createElement(pe.a,null,l.a.createElement(It,{allowance:e.allowance})))):"delete_allowance"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 fa-1x text-info"}),"Delete"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a+" dialogue"},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement("p",{className:"text-danger"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 text-danger"}),"Allowance is flagged for deletion are you sure you want to delete")),l.a.createElement(pe.a,null,l.a.createElement(Ft,{allowance:e.allowance,fetch:e.fetch,close:m})))):"director_pending_approve"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.L,className:"mx-2 fa-1x text-info"}),"Take Decision"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Make Decision"),l.a.createElement(pe.a,null,l.a.createElement(Bt,{allowance:e.allowance})))):"tl_pending_approve"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.J,className:"mx-2 fa-1x text-info"}),"Assign employee for calculation"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.J,className:"mx-2"}),"Forward"),l.a.createElement(pe.a,null,l.a.createElement(qt,{allowance:e.allowance})))):"start"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.l,className:"mx-2 fa-1x text-info"}),"Do calculation"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"xl",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.l,className:"mx-2"}),"Do Calculation"),l.a.createElement(pe.a,null,l.a.createElement(zt,{allowance:e.allowance})))):"see_calculations"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.l,className:"mx-2 fa-1x text-info"}),"See Calculations"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"lg",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.l,className:"mx-2"}),"See Calculation"),l.a.createElement(pe.a,null,l.a.createElement(Wt,{allowance:e.allowance,tl:e.tl,director:e.director})))):"approve_tl"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.L,className:"mx-2 fa-1x text-info"}),"Take actions"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.l,className:"mx-2"}),"Take actions"),l.a.createElement(pe.a,null,l.a.createElement(Ht,{allowance:e.allowance})))):"approve_dr"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.L,className:"mx-2 fa-1x text-info"}),"Take actions"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.l,className:"mx-2"}),"Take actions"),l.a.createElement(pe.a,null,l.a.createElement(Jt,{allowance:e.allowance})))):"see_final"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-secondary mx-2 my-2 "},l.a.createElement(f.a,{icon:g.l,className:"mx-2 fa-1x text-info"}),"See Final result"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"lg",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.l,className:"mx-2"})),l.a.createElement(pe.a,null,l.a.createElement(Zt,{allowance:e.allowance})))):void 0},Qt=t(680),Xt=function(){var e=Object(n.useState)({userAllowances:[],completed:[],unCompleted:[],found:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.allowances,o=r.dispatchAllowances,m=r.employees,u=r.users,p=s.state,b=s.loading,_=s.error,v=m.state,h=m.loading,N=m.error,x=u.state,y=u.loading,w=u.error,j=new O(p,v,x),k=j.userAllowances(),C=j.completed(),A=j.unCompleted();Object(n.useEffect)((function(){Lt(o),c(Object(E.a)({},t,{completed:C,unCompleted:A,userAllowances:k}))}),[p.length,b]);var D=function(){Lt(o),c(Object(E.a)({},t,{completed:C,unCompleted:A,userAllowances:k}))},S=b||h||y?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):_||N||w?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):t.completed.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-success font-weight-bold"},e.id),l.a.createElement("td",{className:"text-success font-weight-bold"},e.letter_id),l.a.createElement("td",{className:"text-success"},"Allowance is completed"),l.a.createElement("td",{className:"text-success font-weight-bold"},l.a.createElement(Qt.a,{date:e.created_date})),l.a.createElement("td",{className:"text-info font-weight-bold"},l.a.createElement(Kt,{type:"see_final",allowance:e,fetch:D})))})),P=b||h||y?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):_||N||w?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):t.userAllowances.length?t.unCompleted.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.letter_id),l.a.createElement("td",null,e.all_done?l.a.createElement("p",{className:"text-center text-success"},"Allowance is done"):"approve"===e.save_options?l.a.createElement("p",{className:"text-center"},"sent for approval and calculation"):l.a.createElement("p",{className:"text-center"},"saved as draft")),l.a.createElement("td",null,l.a.createElement(Qt.a,{date:e.created_date}),l.a.createElement("p",{className:"font-italic float-right"},Ya(e.created_date)),l.a.createElement("p",{className:"font-italic"},Ga(e.created_date))),l.a.createElement("td",{className:"row"},e.all_done?l.a.createElement(Kt,{type:"see_final",allowance:e,fetch:D}):l.a.createElement("div",null,l.a.createElement(Kt,{type:"view_details",allowance:e,Manager_seen:!1,fetch:D,pendingDirector:!1,pendingTeamLeader:!1,incomingCalculations:!1,approve_tl:!1,adr:!1}),"approve"===e.save_options?l.a.createElement(Kt,{type:"view_progress",allowance:e,employees:v,users:x,allowances:p,fetch:D}):l.a.createElement("p",null),0===j.progress(e._id)||2===j.progress(e._id)?l.a.createElement(Kt,{type:"edit_allowance",allowance:e,fetch:D}):l.a.createElement("p",null),j.progress(e._id)<=2?l.a.createElement(Kt,{type:"delete_allowance",allowance:e,fetch:D}):l.a.createElement("p",null))))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger font-weight-bold"},"No Allowance created So far"));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"},l.a.createElement(Kt,{type:"create_allowance",fetch:D})),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type id,letter id,destination,program name",onChange:function(e){return function(e){var a=""===e?j.completed():j.searchCompleted(e),n=""===e?j.unCompleted():j.searchUnCompleted(e),l=""!==e;c(Object(E.a)({},t,{completed:a,unCompleted:n,found:l}))}(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Allowance"),l.a.createElement("div",{className:"widget-subheading"},"Totall Made")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,k.length)))))),l.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},C.length?l.a.createElement("h5",{className:"text-center text-success font-weight-bold"},l.a.createElement(f.a,{icon:g.g}),C.length," allowances is completed"):l.a.createElement("p",null),t.found?l.a.createElement("h5",{className:"text-center"},"Allowance found -",t.completed.length+t.unCompleted.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Allowance id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.D,className:"mx-2"}),"Letter id Attached"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ob,className:"mx-2"}),"saving option"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"created"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,S,P)))))))},$t=function(){var e=Object(n.useContext)(d),a=e.allowances,t=e.dispatchAllowances,c=e.employees,r=e.users,s=a.state,o=a.loading,m=a.error,u=c.state,p=c.loading,b=c.error,_=r.state,v=r.loading,h=r.error,N=new O(s,u,_),x=Object(n.useState)({newAllowances:[],seenAllowances:[]}),y=Object(i.a)(x,2),w=y[0],j=y[1],k=N.new_allowances_manager(),C=N.seen_allowances_manager(),A=N.approve_Allowances(),D=function(){return Lt(t)};Object(n.useEffect)((function(){Lt(t),j((function(e){return Object(E.a)({},e,{newAllowances:k,seenAllowances:C})}))}),[s.length,o]);var S=o||p||v?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):m||b||h?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):w.newAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-info"},e.id),l.a.createElement("td",{className:"text-info"},N.Name(e.creater)),l.a.createElement("td",{className:"text-info"},e.letter_id),l.a.createElement("td",{className:"text-info"},e.objective),l.a.createElement("td",{className:"text-info"},e.initial_place,"-",e.destination_place),l.a.createElement("td",{className:"text-info"},e.approval_manager.approved),l.a.createElement("td",{className:"text-info"},l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:D,Manager_seen:!0,pendingDirector:!1,approve_tl:!1,pendingTeamLeader:!1,incomingCalculations:!1,adr:!1})))})),P=o||p||v?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):m||b||h?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):A.length?w.seenAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,N.Name(e.creater)),l.a.createElement("td",null,e.letter_id),l.a.createElement("td",null,e.objective),l.a.createElement("td",null,e.initial_place,"-",e.destination_place),l.a.createElement("td",null,e.approval_manager.approved),l.a.createElement("td",null,l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:D,Manager_seen:!0}),N.progress(e._id)<5?l.a.createElement(Kt,{type:"manager_approve",allowance:e,fetch:D,Manager_seen:!0}):l.a.createElement("p",null)))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops No allowances yet"));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type allowance id,creater name...",onChange:function(e){return a=e.target.value,j((function(e){return Object(E.a)({},e,{newAllowances:""===a?k:N.searchAllowances(k,a),seenAllowances:""===a?C:N.searchAllowances(C,a),found:""!==a})}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Allowances"),l.a.createElement("div",{className:"widget-subheading"},"Totall Recieved")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,A.length))))))),l.a.createElement("div",{className:"row  mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"col-lg-12"},k.length?l.a.createElement("h5",{className:"text-center text-info my-2"},"New Allowances to be approved (",k.length,")"):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-12"},w.found?l.a.createElement("h5",{className:"text-center"},"Allowance found -",w.newAllowances.length+w.seenAllowances.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Allowance id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"From"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Letter id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.B,className:"mx-2"}),"Allowance objective"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.vb,className:"mx-2"}),"initial place -destination place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Decision"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,S,P)))))},en=function(){var e=Object(n.useContext)(d),a=e.allowances,t=e.dispatchAllowances,c=e.employees,r=e.users,s=Object(n.useState)({newAllowances:[],seenAllowances:[],found:!1}),o=Object(i.a)(s,2),m=o[0],u=o[1],p=a.state,b=a.loading,_=a.error,v=c.state,h=c.loading,N=c.error,x=r.state,y=r.loading,w=r.error,j=new O(p,v,x),k=j.NewDirectorPending(),C=j.seenDirectorPending(),A=j.DirectorPending(),D=function(){return Lt(t)};Object(n.useEffect)((function(){D(),u((function(e){return Object(E.a)({},e,{newAllowances:k,seenAllowances:C})}))}),[p.length,b]);var S=b||h||y?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):_||N||w?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):m.newAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-info"},e.id),l.a.createElement("td",{className:"text-info"},j.Name(e.creater)),l.a.createElement("td",{className:"text-info"},e.letter_id),l.a.createElement("td",{className:"text-info"},e.initial_place,"-",e.destination_place),l.a.createElement("td",{className:"text-info"},e.f_pending_dr.approved,l.a.createElement("br",null),j.progress(e._id)>=8?l.a.createElement("p",{className:"font-italic"},"Assigned team leader-",j.Name(e.f_pending_tl.emp_id)):l.a.createElement("p",null)),l.a.createElement("td",{className:"text-info"},l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:D,Manager_seen:!1,pendingDirector:!0,approve_tl:!1,pendingTeamLeader:!1,adr:!1,incomingCalculations:!1})))})),P=b||h||y?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):_||N||w?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):A.length?m.seenAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,j.Name(e.creater)),l.a.createElement("td",null,e.letter_id),l.a.createElement("td",null,e.initial_place,"-",e.destination_place),l.a.createElement("td",null,e.f_pending_dr.approved," ",l.a.createElement("br",null),j.progress(e._id)>=8?l.a.createElement("p",{className:"font-italic"},"Assigned team leader-",j.Name(e.f_pending_tl.emp_id)):l.a.createElement("p",null)),l.a.createElement("td",null,l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:D,Manager_seen:!0}),j.progress(e._id)<9?l.a.createElement(Kt,{type:"director_pending_approve",allowance:e,fetch:D}):l.a.createElement("p",null)))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops No allowances yet"));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type allowance id,creater name...",onChange:function(e){return a=e.target.value,u((function(e){return Object(E.a)({},e,{newAllowances:""===a?k:j.searchAllowances(k,a),seenAllowances:""===a?C:j.searchAllowances(C,a),found:""!==a})}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Allowances"),l.a.createElement("div",{className:"widget-subheading"},"Totall Recieved")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,A.length))))))),l.a.createElement("div",{className:"row  mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"col-lg-12"},k.length?l.a.createElement("h5",{className:"text-center text-info my-2"},"New Allowances to be approved (",k.length,")"):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-12"},m.found?l.a.createElement("h5",{className:"text-center"},"Allowance found -",m.newAllowances.length+m.seenAllowances.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Allowance id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"From user"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Letter id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.vb,className:"mx-2"}),"initial place -destination place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Decision"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,S,P)))))},an=function(){var e=Object(n.useContext)(d),a=e.allowances,t=e.dispatchAllowances,c=e.employees,r=e.users,s=Object(n.useState)({newAllowances:[],seenAllowances:[],found:!1}),o=Object(i.a)(s,2),m=o[0],u=o[1],p=a.state,b=a.loading,_=a.error,v=c.state,h=c.loading,N=c.error,x=r.state,y=r.loading,w=r.error,j=new O(p,v,x),k=j.New_F_Pending_tl(),C=j.seen_F_Pending_tl(),A=j.F_pending_tl(),D=function(){return Lt(t)};Object(n.useEffect)((function(){D(),u((function(e){return Object(E.a)({},e,{newAllowances:k,seenAllowances:C})}))}),[p.length,b]);var S=b||h||y?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):_||N||w?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):m.newAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-info"},e.id),l.a.createElement("td",{className:"text-info"},j.Name(e.creater)),l.a.createElement("td",{className:"text-info"},e.letter_id),l.a.createElement("td",{className:"text-info"},e.initial_place,"-",e.destination_place),l.a.createElement("td",{className:"text-info"},e.f_pending_tl.forwarded?l.a.createElement("p",{className:"font-italic"},"Assigned employee-",j.Name(e.f_pending_emp.emp_id)):l.a.createElement("p",{className:"font-italic"},"Waiting to forward")),l.a.createElement("td",{className:"text-info"},l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:D,Manager_seen:!1,pendingDirector:!1,approve_tl:!1,pendingTeamLeader:!0,incomingCalculations:!1,adr:!1})))})),P=b||h||y?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):_||N||w?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):A.length?m.seenAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,j.Name(e.creater)),l.a.createElement("td",null,e.letter_id),l.a.createElement("td",null,e.initial_place,"-",e.destination_place),l.a.createElement("td",null,e.f_pending_tl.forwarded?l.a.createElement("p",{className:"font-italic"},"Assigned employee-",j.Name(e.f_pending_emp.emp_id)):l.a.createElement("p",{className:"font-italic"},"Waiting to forward")),l.a.createElement("td",null,l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:D,Manager_seen:!0}),j.progress(e._id)<14?l.a.createElement(Kt,{type:"tl_pending_approve",allowance:e,fetch:D}):l.a.createElement("p",null)))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops No allowances yet"));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type allowance id,creater name...",onChange:function(e){return a=e.target.value,u((function(e){return Object(E.a)({},e,{newAllowances:""===a?k:j.searchAllowances(k,a),seenAllowances:""===a?C:j.searchAllowances(C,a),found:""!==a})}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Allowances"),l.a.createElement("div",{className:"widget-subheading"},"Totall Recieved")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,A.length))))))),l.a.createElement("div",{className:"row  mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"col-lg-12"},k.length?l.a.createElement("h5",{className:"text-center text-info my-2"},"New Allowances to (",k.length,")"):l.a.createElement("p",null),m.found?l.a.createElement("h5",{className:"text-center"},"Allowance found -",m.newAllowances.length+m.seenAllowances.length):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Allowance id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"From user"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Letter id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.vb,className:"mx-2"}),"initial place -destination place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Decision"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,S,P)))))},tn=function(){var e=Object(n.useContext)(d),a=e.allowances,t=e.dispatchAllowances,c=e.employees,r=e.users,s=a.state,o=a.loading,m=a.error,u=c.state,p=c.loading,b=c.error,_=r.state,v=r.loading,h=r.error,N=new O(s,u,_),x=Object(n.useState)({newAllowances:[],seenAllowances:[],found:!1}),y=Object(i.a)(x,2),w=y[0],j=y[1],k=N.newCalculations(),C=N.seenCalculations(),A=N.IncomingCalculations(),D=N.tlCommented(),S=N.drCommented(),P=function(){return Lt(t)};Object(n.useEffect)((function(){P(),j((function(e){return Object(E.a)({},e,{newAllowances:k,seenAllowances:C})}))}),[s.length,o]);var L=o||p||v?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):m||b||h?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):w.newAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-info"},e.id),l.a.createElement("td",{className:"text-info"},N.Name(e.creater)),l.a.createElement("td",{className:"text-info"},e.letter_id),l.a.createElement("td",{className:"text-info"},e.initial_place,"-",e.destination_place),l.a.createElement("td",{className:"text-info"},"approve"===e.f_pending_emp.calculated?l.a.createElement("p",{className:"text-center font-italic"},"calculations is done and sent for approval"):"draft"===e.f_pending_emp.calculated?l.a.createElement("p",{className:"text-center font-italic"},"calculations is done and save as draft"):l.a.createElement("p",{className:"text-center font-italic"},"Allowance is waiting for calculation")),l.a.createElement("td",{className:"text-info"},l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:P,Manager_seen:!1,pendingDirector:!1,approve_tl:!1,pendingTeamLeader:!1,incomingCalculations:!0,adr:!1})))})),R=o||p||v?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):m||b||h?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):A.length?w.seenAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,N.Name(e.creater)),l.a.createElement("td",null,e.letter_id),l.a.createElement("td",null,e.initial_place,"-",e.destination_place),l.a.createElement("td",null,"approve"===e.f_pending_emp.calculated&&16!==N.progress(e._id)&&20!==N.progress(e._id)?l.a.createElement("p",{className:"text-center font-italic"},"calculations is done and sent for approval"):"draft"===e.f_pending_emp.calculated?l.a.createElement("p",{className:"text-center font-italic"},"calculations is done and save as draft"):16===N.progress(e._id)&&!e.f_pending_emp.redone||20===N.progress(e._id)&&!e.f_pending_emp.redone_director?l.a.createElement("h5",{className:"text-warning font-italic"},"Allowance needs calculation again"):16===N.progress(e._id)&&e.f_pending_emp.redone||20===N.progress(e._id)&&e.f_pending_emp.redone_director?l.a.createElement("p",{className:"text-center font-italic"},"Allowance is redone waiting to be approved by your manager"):l.a.createElement("p",{className:"text-center font-italic"},"Allowance is waiting for calculation"),16===N.progress(e._id)?l.a.createElement("p",{className:"font-italic text-warning font-weight-bold"},"commented by your team leader"," ",N.Name(e.f_pending_tl.emp_id),l.a.createElement("br",null),"comment-",e.f_approve_tm.comment):l.a.createElement("p",null),20===N.progress(e._id)?l.a.createElement("p",{className:"font-italic text-warning font-weight-bold"},"commented by your Director"," ",N.Name(e.f_pending_dr.emp_id),l.a.createElement("br",null),"comment-",e.f_approve_dr.comment):l.a.createElement("p",null)),l.a.createElement("td",null,l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:P,Manager_seen:!0}),N.progress(e._id)<15||16===N.progress(e._id)||20===N.progress(e._id)?l.a.createElement(Kt,{type:"start",allowance:e,fetch:P}):l.a.createElement("p",null),N.isCalculationDone(e._id)?l.a.createElement(Kt,{type:"see_calculations",allowance:e,tl:!1,director:!1,fetch:P}):l.a.createElement("p",null)))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops No allowances yet"));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type allowance id,creater name...",onChange:function(e){return a=e.target.value,j((function(e){return Object(E.a)({},e,{newAllowances:""===a?k:N.searchAllowances(k,a),seenAllowances:""===a?C:N.searchAllowances(C,a),found:""!==a})}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Allowances"),l.a.createElement("div",{className:"widget-subheading"},"Totall Recieved")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,A.length))))))),l.a.createElement("div",{className:"row  mt-3 main-card mb-3 card min-height"},w.found?l.a.createElement("h5",{className:"text-center"},"Allowance found -",w.newAllowances.length+w.seenAllowances.length):l.a.createElement("p",null),l.a.createElement("div",{className:"col-lg-12"},k.length?l.a.createElement("h5",{className:"text-center text-info my-2"},"New Allowance need calculation(",k.length,")"):l.a.createElement("p",null),D.length?l.a.createElement("h5",{className:"text-center text-warning my-2"},l.a.createElement(f.a,{icon:g.g}),D.length," allowance is commented please do calculation again"):S.length?l.a.createElement("h5",{className:"text-center text-warning my-2"},l.a.createElement(f.a,{icon:g.g}),S.length," allowance is commented please do calculation again"):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(xe.g,{hover:!0,striped:!0,bordered:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"# id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"user"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Letter id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.vb,className:"mx-2"}),"initial place -destination place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Action made"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,L,R)))))},nn=function(){var e=Object(n.useContext)(d),a=e.allowances,t=e.dispatchAllowances,c=e.employees,r=e.users,s=Object(n.useState)({newAllowances:[],seenAllowances:[],found:!1}),o=Object(i.a)(s,2),m=o[0],u=o[1],p=a.state,b=a.loading,_=a.error,v=c.state,h=c.loading,N=c.error,x=r.state,y=r.loading,w=r.error,j=new O(p,v,x),k=j.tlNewApprove(),C=j.tlSeenApprove(),A=j.tlApprove(),D=j.redone(),S=function(){return Lt(t)};Object(n.useEffect)((function(){S(),u((function(e){return Object(E.a)({},e,{newAllowances:k,seenAllowances:C})}))}),[p.length,b]);var P=b||h||y?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):_||N||w?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):m.newAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-info"},e.id),l.a.createElement("td",{className:"text-info"},j.Name(e.creater)),l.a.createElement("td",{className:"text-info"},e.letter_id),l.a.createElement("td",{className:"text-info"},e.initial_place,"-",e.destination_place),l.a.createElement("td",{className:"text-info"},e.f_approve_tm.approved),l.a.createElement("td",{className:"text-info"},l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:S,Manager_seen:!1,pendingDirector:!1,adr:!1,approve_tl:!0,pendingTeamLeader:!1,incomingCalculations:!1}),l.a.createElement(Kt,{type:"see_calculations",allowance:e,tl:!0,director:!1,fetch:S})))})),L=b||h||y?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):_||N||w?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):A.length?m.seenAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,j.Name(e.creater)),l.a.createElement("td",null,e.letter_id),l.a.createElement("td",null,e.initial_place,"-",e.destination_place),l.a.createElement("td",null,16===j.progress(e._id)&&j.isRedone(e._id)?l.a.createElement("h6",{className:"text-center font-weight-bold text-warning font-italic"},"Allowance calculation is redone please see the calculation"):l.a.createElement("p",null),e.f_approve_tm.approved,16===j.progress(e._id)?l.a.createElement("p",{className:"font-italic text-warning font-weight-bold"},"comment-",e.f_approve_tm.comment):l.a.createElement("p",null)),l.a.createElement("td",null,l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:S,Manager_seen:!0}),l.a.createElement(Kt,{type:"see_calculations",allowance:e,tl:!0,director:!1,fetch:S}),j.progress(e._id)<19?l.a.createElement(Kt,{type:"approve_tl",allowance:e,fetch:S}):l.a.createElement("p",null)))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops No allowances yet"));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type allowance id,creater name...",onChange:function(e){return a=e.target.value,u((function(e){return Object(E.a)({},e,{newAllowances:""===a?k:j.searchAllowances(k,a),seenAllowances:""===a?C:j.searchAllowances(C,a),found:""!==a})}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Allowances"),l.a.createElement("div",{className:"widget-subheading"},"Totall Recieved")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,A.length))))))),l.a.createElement("div",{className:"row  mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"col-lg-12"},m.found?l.a.createElement("h5",{className:"text-center"},"Allowance found -",m.newAllowances.length+m.seenAllowances.length):l.a.createElement("p",null),k.length?l.a.createElement("h5",{className:"text-center text-info my-2"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),"New Allowances Done (",k.length,")"):l.a.createElement("p",null),D.length?l.a.createElement("h5",{className:"text-center text-warning my-2"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),D.length," allowance calculation is redone"):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Allowance id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"From user"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Letter id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.vb,className:"mx-2"}),"initial place -destination place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Decision"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,P,L)))))},ln=function(){var e=Object(n.useContext)(d),a=e.allowances,t=e.dispatchAllowances,c=e.employees,r=e.users,s=Object(n.useState)({newAllowances:[],seenAllowances:[],found:!1}),o=Object(i.a)(s,2),m=o[0],u=o[1],p=a.state,b=a.loading,_=a.error,v=c.state,h=c.loading,N=c.error,x=r.state,y=r.loading,w=r.error,j=new O(p,v,x),k=j.NewDrApprove(),C=j.seenDrApprove(),A=j.DrApproveAllowance(),D=j.reDone(),S=function(){return Lt(t)};Object(n.useEffect)((function(){S(),u((function(e){return Object(E.a)({},e,{newAllowances:k,seenAllowances:C})}))}),[p.length,b]);var P=b||h||y?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):_||N||w?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):m.newAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-info"},e.id),l.a.createElement("td",{className:"text-info"},j.Name(e.creater)),l.a.createElement("td",{className:"text-info"},e.letter_id),l.a.createElement("td",{className:"text-info"},e.initial_place,"-",e.destination_place),l.a.createElement("td",{className:"text-info"},e.f_approve_dr.approved),l.a.createElement("td",{className:"text-info"},l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:S,Manager_seen:!1,pendingDirector:!1,approve_tl:!1,pendingTeamLeader:!1,incomingCalculations:!1,adr:!0}),l.a.createElement(Kt,{type:"see_calculations",allowance:e,tl:!1,director:!0,fetch:S})))})),L=b||h||y?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center"},l.a.createElement(fe,null))):_||N||w?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops Loading failed server is not responding")):A.length?m.seenAllowances.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-info"},e.id),l.a.createElement("td",null,j.Name(e.creater)),l.a.createElement("td",null,e.letter_id),l.a.createElement("td",null,e.initial_place,"-",e.destination_place),l.a.createElement("td",null,e.f_approve_dr.approved,20!==j.progress(e._id)||j.isReDone(e._id)?20===j.progress(e._id)&&j.isReDone(e._id)?l.a.createElement("h5",{className:"text-center text-warning font-italic"},"Allowance is redone please review the allowance ",l.a.createElement("br",null),"you commented-",e.f_approve_dr.comment):l.a.createElement("p",null):l.a.createElement("p",{className:"text-center text-warning font-italic"},"comment-",e.f_approve_dr.comment)),l.a.createElement("td",null,l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:S,Manager_seen:!0}),l.a.createElement(Kt,{type:"see_calculations",allowance:e,tl:!0,director:!1,fetch:S}),e.all_done?l.a.createElement("p",null):l.a.createElement(Kt,{type:"approve_dr",allowance:e,fetch:S})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger"},"...oops No allowances yet"));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type allowance id,creater name...",onChange:function(e){return a=e.target.value,u((function(e){return Object(E.a)({},e,{newAllowances:""===a?k:j.searchAllowances(k,a),seenAllowances:""===a?C:j.searchAllowances(C,a),found:""!==a})}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Allowances"),l.a.createElement("div",{className:"widget-subheading"},"Totall Recieved")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,A.length))))))),l.a.createElement("div",{className:"row  mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"col-lg-12"},k.length?l.a.createElement("h5",{className:"text-center text-info my-2"},"New Allowances Done (",k.length,")"):l.a.createElement("p",null),D.length?l.a.createElement("h5",{className:"text-center text-warning my-2"},D.length," allowance is redone and waitng decision"):l.a.createElement("p",null),m.found?l.a.createElement("h5",{className:"text-center"},"Allowance found -",m.newAllowances.length+m.seenAllowances.length):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Allowance id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"From user"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Letter id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.vb,className:"mx-2"}),"initial place -destination place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Decision"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,P,L)))))},cn=function(){var e=Object(n.useState)({completed:[],found:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.allowances,o=r.employees,m=r.users,u=r.dispatchAllowances,p=s.state,b=o.state,_=m.state,v=new O(p,b,_),h=v.allCompleted(),N=function(){return Lt(u)};Object(n.useEffect)((function(){c({completed:h})}),[]);var x=t.completed.length?t.completed.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.id),l.a.createElement("td",null,v.Name(e.creater)),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-italic"},"Objective-",e.objective),l.a.createElement("p",{className:"text-center font-italic"},"Letter id-",e.letter_id)),l.a.createElement("td",null,l.a.createElement(Kt,{type:"view_details",allowance:e,fetch:N,Manager_seen:!1}),l.a.createElement(Kt,{type:"see_calculations",allowance:e,tl:!1,director:!1,fetch:N})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},"No allowances completed yet")));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type id,letter id,destination,program name",onChange:function(e){return function(e){var a=""===e?h:v.searchAllCompleted(e),n=""!==e;c(Object(E.a)({},t,{found:n,completed:a}))}(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Allowance"),l.a.createElement("div",{className:"widget-subheading"},"Totall completed")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,h.length)))))),l.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},t.found?l.a.createElement("h5",{className:"text-center"},"Allowance found -",t.completed.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Allowance id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"Employee name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.O,className:"mx-2"}),"Allowance info"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.H,className:"mx-2"}),"View"))),l.a.createElement(xe.h,null,x)))))))},rn=function(){var e=Object(n.useState)({collapse:"",myAllowance:"text-dark",approve:"",fd:"",tl:"",fe:"",atl:"",adr:"",ecom:"",comp:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.users,o=r.employees,u=r.allowances,p=u.state,b=u.loading,_=u.error,v=s.state,h=s.loading,N=s.error,x=o.state,y=o.loading,j=o.error,k=new w(v,x),C=new O(p,x,v),A=C.completed().length,D=C.new_allowances_manager().length,S=C.NewDirectorPending().length,P=C.New_F_Pending_tl().length,L=C.newCalculations().length,R=C.tlNewApprove().length,T=C.NewDrApprove().length,I=C.tlCommented().length,F=C.drCommented().length,B=C.redone().length,q=C.reDone().length,M=k.getEmp_id(),U=k.UserRole(M),G=k.isApproval_Manager(),Y=k.isFinanceDirector(),z=k.isFinanceTeamLeader(),W=k.isFinanceEmployee();return Object(n.useEffect)((function(){k.isApproval_Manager()?c(Object(E.a)({},t,{approve:"text-dark",myAllowance:"",fd:"",tl:"",fe:"",atl:"",adr:"",comp:""})):k.isFinanceDirector()?c(Object(E.a)({},t,{approve:"",myAllowance:"",fd:"text-dark",tl:"",fe:"",atl:"",adr:"",comp:""})):c(z?Object(E.a)({},t,{approve:"",myAllowance:"",fd:"",tl:"text-dark",fe:"",atl:"",adr:"",comp:""}):W?Object(E.a)({},t,{approve:"",myAllowance:"",fd:"",tl:"",fe:"text-dark",atl:"",adr:"",comp:""}):Object(E.a)({},t,{approve:"",myAllowance:"text-dark",fd:"",tl:"",fe:"",atl:"",adr:"",comp:""}))}),[U]),l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(xa,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(La,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"container my-3"},l.a.createElement("div",{className:"row"},G?l.a.createElement("div",{className:"col-lg-3 notification my-auto text-center bg-warning",style:{border:"2px solid",borderColor:"lightgray"},onClick:function(){return c(Object(E.a)({},t,{approve:"text-dark",myAllowance:"",fd:"",fe:"",atl:"",adr:"",comp:""}))}},l.a.createElement(f.a,{icon:g.qb,className:"nav-link-icon my-auto text-white "+t.approve}),l.a.createElement("h5",{className:"font-weight-bold text-white my-auto "+t.approve},"Approval allowances"),0!==D?l.a.createElement("h5",{className:"badge bg-success"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),D):l.a.createElement("p",null)):l.a.createElement("p",null),Y?l.a.createElement("div",{className:"col-lg-3 notification my-auto text-center bg-warning",style:{border:"2px solid",borderColor:"lightgray"},onClick:function(){return c(Object(E.a)({},t,{approve:"",myAllowance:"",fd:"text-dark",tl:"",fe:"",atl:"",adr:"",comp:""}))}},l.a.createElement(f.a,{icon:g.b,className:"nav-link-icon my-auto mx-2 text-white "+t.fd}),l.a.createElement("h5",{className:"font-weight-bold text-white my-auto "+t.fd},"Incoming Allowance"),0!==S?l.a.createElement("h5",{className:"badge bg-success"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),S):l.a.createElement("p",null)):l.a.createElement("p",null),z?l.a.createElement("div",{className:"col-lg-3 bg-warning notification my-auto text-center",style:{border:"2px solid",borderColor:"lightgray"},onClick:function(){return c(Object(E.a)({},t,{approve:"",myAllowance:"",fd:"",tl:"text-dark",fe:"",atl:"",adr:"",comp:""}))}},l.a.createElement(f.a,{icon:g.b,className:"nav-link-icon text-white my-auto mx-2 "+t.tl}),l.a.createElement("h5",{className:"font-weight-bold text-white my-auto "+t.tl},"Incoming Allowance"),0!==P?l.a.createElement("h5",{className:"badge bg-success"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),P):l.a.createElement("p",null)):l.a.createElement("p",null),z?l.a.createElement("div",{className:"col-lg-3 bg-warning notification my-auto text-center",style:{border:"2px solid",borderColor:"lightgray"},onClick:function(){return c(Object(E.a)({},t,{approve:"",myAllowance:"",fd:"",tl:"",fe:"",atl:"text-dark",adr:"",comp:""}))}},l.a.createElement(f.a,{icon:g.s,className:"nav-link-icon text-white my-auto mx-2 "+t.atl}),l.a.createElement("h5",{className:"font-weight-bold text-white my-auto "+t.atl},"Done allowance"),0!==R?l.a.createElement("h5",{className:"badge bg-success"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),R):l.a.createElement("p",null),0!==B?l.a.createElement("h5",{className:"badge bg-warning"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),B):l.a.createElement("p",null)):l.a.createElement("p",null),Y?l.a.createElement("div",{className:"col-lg-3 bg-warning notification my-auto text-center",style:{border:"2px solid",borderColor:"lightgray"},onClick:function(){return c(Object(E.a)({},t,{approve:"",myAllowance:"",fd:"",tl:"",fe:"",atl:"",adr:"text-dark",comp:""}))}},l.a.createElement(f.a,{icon:g.s,className:"nav-link-icon text-white my-auto mx-2 "+t.adr}),l.a.createElement("h5",{className:"font-weight-bold text-white my-auto "+t.adr},"Done allowance"),0!==T?l.a.createElement("h5",{className:"badge bg-success"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),T):l.a.createElement("p",null),q?l.a.createElement("h5",{className:"badge bg-warning"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),q):l.a.createElement("p",null)):l.a.createElement("p",null),W?l.a.createElement("div",{className:"col-lg-3 bg-warning notification my-auto text-center",style:{border:"2px solid",borderColor:"lightgray"},onClick:function(){return c(Object(E.a)({},t,{approve:"",myAllowance:"",fd:"",tl:"",fe:"text-dark",atl:"",adr:"",comp:""}))}},l.a.createElement(f.a,{icon:g.ab,className:"nav-link-icon text-white my-auto mx-2 "+t.fe}),l.a.createElement("h5",{className:"font-weight-bold text-white my-auto "+t.fe},"Incoming Allowance"),0!==L?l.a.createElement("h5",{className:"badge bg-success"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),L):l.a.createElement("p",null),0!==I?l.a.createElement("h5",{className:"badge bg-warning"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),I):l.a.createElement("p",null),0!==F?l.a.createElement("h5",{className:"badge bg-warning"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),F):l.a.createElement("p",null)):l.a.createElement("p",null),l.a.createElement("div",{className:"col-lg-3 bg-warning notification text-center",style:{border:"2px solid",borderColor:"lightgray"},onClick:function(){return c(Object(E.a)({},t,{approve:"",myAllowance:"text-dark",fd:"",tl:"",fe:"",atl:"",adr:"",comp:""}))}},l.a.createElement(f.a,{icon:g.h,className:"nav-link-icon text-white my-auto mx-2  "+t.myAllowance}),l.a.createElement("h5",{className:"font-weight-bold text-white my-auto "+t.myAllowance},"my Allowance"),0!==A?l.a.createElement("h5",{className:"badge bg-success"},l.a.createElement(f.a,{icon:g.g,className:"mx-2"}),A):l.a.createElement("h5",null)))),b||y||h?l.a.createElement(at,null):_||j||N?l.a.createElement(tt,null):"text-dark"===t.approve?l.a.createElement($t,null):"text-dark"===t.fd?l.a.createElement(en,null):"text-dark"===t.tl?l.a.createElement(an,null):"text-dark"===t.fe?l.a.createElement(tn,null):"text-dark"===t.atl?l.a.createElement(nn,null):"text-dark"===t.adr?l.a.createElement(ln,null):"text-dark"===t.comp?l.a.createElement(cn,null):l.a.createElement(Xt,null))))))},sn={state:[],loading:!0,error:!1},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_ALLOWANCES":return{state:a.payload,loading:!1,error:!1};case"LOADING_ALLOWANCES":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},mn=function(e){var a=Object(n.useState)({place_name:"",place:[],level_place:"",level_1_error:"",level_2_error:"",level_3_error:"",process:"",error:"",disable:!1,loading:!1,success:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=function(e){var a=Ca(),t="level_1"===e?[].concat(Object(b.a)(c.place),[{id:a,name:c.level_place,level:"level_1"}]):"level_2"===e?[].concat(Object(b.a)(c.place),[{id:a,name:c.level_place,level:"level_2"}]):"level_3"===e?[].concat(Object(b.a)(c.place),[{id:a,name:c.level_place,level:"level_3"}]):[];c.place.find((function(e){return e.name===c.level_place}))?"level_1"===e?r(Object(E.a)({},c,{level_1_error:"Name already in the list"})):"level_2"===e?r(Object(E.a)({},c,{level_2_error:"Name already in the list"})):"level_3"===e&&r(Object(E.a)({},c,{level_3_error:"Name already in the list"})):""!==c.level_place&&r(Object(E.a)({},c,{place:t}))},o=c.place.filter((function(e){return"level_1"===e.level})),m=c.place.filter((function(e){return"level_2"===e.level})),d=c.place.filter((function(e){return"level_3"===e.level})),u=function(e){return r(Object(E.a)({},c,{place:c.place.filter((function(a){return a.id!==e}))}))},p=c.place.length?l.a.createElement("tr",null,l.a.createElement("td",null,c.place_name),l.a.createElement("td",null,o.length?o.map((function(e){return l.a.createElement("div",{key:e.id,onClick:function(){return u(e.id)}},e.name,l.a.createElement(f.a,{icon:g.Eb,className:"btn-outline-danger mx-2"}),",")})):l.a.createElement("p",{className:"text-center font-weight-bold"},"No places addes on level one allowance")),l.a.createElement("td",null,m.length?m.map((function(e){return l.a.createElement("div",{key:e.id,onClick:function(){return u(e.id)}},e.name,l.a.createElement(f.a,{icon:g.Eb,className:"btn-outline-danger mx-2"}),",")})):l.a.createElement("p",{className:"text-center font-weight-bold"},"No places added on level two allowance")),l.a.createElement("td",null,d.length?d.map((function(e){return l.a.createElement("div",{key:e.id,onClick:function(){return u(e.id)}},e.name,l.a.createElement(f.a,{icon:g.Eb,className:"btn-outline-danger mx-2"}),",")})):l.a.createElement("p",{className:"text-center font-weight-bold"},"No places added on level three allowance"))):l.a.createElement("tr",null,l.a.createElement("td",{className:"text-danger text-center font-weight-bold",colSpan:4},"No places added yet"));return l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:function(a){return function(a){var t,n,l,i;return S.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(a.preventDefault(),0!==c.place.length){s.next=5;break}r(Object(E.a)({},c,{error:"no places added",success:"",process:""})),s.next=19;break;case 5:return s.prev=5,r(Object(E.a)({},c,{},ka("initial","Saving please wait"))),t=Object(b.a)(c.place.map((function(e){return{general_name:c.place_name,name:e.name,level:e.level}}))),n=Object(T.encryptObject)(Object(E.a)({places:t},pt())),s.next=11,S.a.awrap(L.a.post(R.host+"/climatePlaces",{data:n}));case 11:l=s.sent,(i=Object(T.decrptObject)(l.data)).error?r(Object(E.a)({},c,{},ka("error",i.message))):!i.error&&i.created&&(r(Object(E.a)({},c,{},ka("success",i.message))),e.fetch()),s.next=19;break;case 16:s.prev=16,s.t0=s.catch(5),r(Object(E.a)({},c,{},ka("error","can not save place server error please try again later")));case 19:case"end":return s.stop()}}),null,null,[[5,16]])}(a)}},l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("p",{className:"font-weight-bold text-center"},"General place name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.V,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"General place name",onChange:function(e){return""===e.target.value?r(Object(E.a)({},c,{place_name:"",place:[],level_place:"",level_1_error:"",level_2_error:"",level_3_error:"",process:"",error:"",success:""})):r(Object(E.a)({},c,{place_name:e.target.value,process:"",error:"",success:""}))},required:!0})),""!==c.place_name?l.a.createElement("div",{className:""},l.a.createElement("p",{className:"font-weight-bold text-center"},"level one Allowance places"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.V,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"place name",onChange:function(e){return r(Object(E.a)({},c,{level_place:e.target.value,level_1_error:"",level_2_error:"",level_3_error:"",process:"",error:"",success:""}))}}),l.a.createElement("div",{className:"btn btn-outline-info my-auto",onClick:function(){return s("level_1")}},l.a.createElement(f.a,{icon:g.jb}),"Add")),l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.level_1_error),l.a.createElement("p",{className:"font-weight-bold text-center"},"level two Allowance places"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.V,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"place name",onChange:function(e){return r(Object(E.a)({},c,{level_place:e.target.value,level_2_error:"",level_1_error:"",level_3_error:"",process:"",error:"",success:""}))}}),l.a.createElement("div",{className:"btn btn-outline-info my-auto",onClick:function(){return s("level_2")}},l.a.createElement(f.a,{icon:g.jb}),"Add")),l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.level_2_error),l.a.createElement("p",{className:"font-weight-bold text-center text-center"},"level three Allowance places"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.V,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"place name",onChange:function(e){return r(Object(E.a)({},c,{level_place:e.target.value,level_3_error:"",level_1_error:"",level_2_error:"",process:"",error:"",success:""}))}}),l.a.createElement("div",{className:"btn btn-outline-info my-auto",onClick:function(){return s("level_3")}},l.a.createElement(f.a,{icon:g.jb}),"Add")),l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.level_3_error)):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-8"},l.a.createElement(xe.g,{hover:!0,bordered:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"General Place name"),l.a.createElement("th",null,"level 1 places"),l.a.createElement("th",null,"Level 2 places"),l.a.createElement("th",null,"Level 3 places"))),l.a.createElement(xe.h,null,p))),l.a.createElement("div",{className:"col-lg-4"}),l.a.createElement("div",{className:"col-lg-8"},""!==c.place_name?l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement("div",{className:"input-container"},l.a.createElement("button",{className:"btn btn-info mx-3",type:"reset",disabled:c.disable,onClick:function(){return r(Object(E.a)({},c,{place_name:"",place:[],level_place:"",level_1_error:"",level_2_error:"",level_3_error:"",process:"",error:"",success:""}))}},l.a.createElement(f.a,{icon:g.Fb}),"Reset"),l.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:c.disable},l.a.createElement(f.a,{icon:g.nb}),"save"))):l.a.createElement("p",null))))))},dn=function(e){var a=e.general_name,t=Object(n.useState)(Object(E.a)({name:"",level:""},ka("default"))),c=Object(i.a)(t,2),r=c[0],s=c[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("form",{onSubmit:function(e){return function(e){var t,n,l;return S.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),c.prev=1,s(Object(E.a)({},r,{},ka("initial","Adding place..."))),t=Object(T.encryptObject)(Object(E.a)({},pt(),{general_name:a,name:r.name,level:r.level})),c.next=6,S.a.awrap(L.a.post(R.host+"/addPlace",{data:t}));case 6:n=c.sent,(l=Object(T.decrptObject)(n.data)).error?s(Object(E.a)({},r,{},ka("error","Adding Failed please try again later"))):!l.error&&l.created&&s(Object(E.a)({},r,{},ka("success","Adding success"))),c.next=15;break;case 11:c.prev=11,c.t0=c.catch(1),console.log(c.t0),s(Object(E.a)({},r,{},ka("error","Adding Failed server is not active please try again later")));case 15:case"end":return c.stop()}}),null,null,[[1,11]])}(e)}},l.a.createElement("p",{className:"font-weight-bold text-center"},"place name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.V,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"place name",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{name:e.target.value}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center"},"climate Allowance level"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.sb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{level:e.target.value}))},required:!0},l.a.createElement("option",{value:""},"Add climate Place level"),l.a.createElement("option",{value:"level_1"},"level one"),l.a.createElement("option",{value:"level_2"},"level two"),l.a.createElement("option",{value:"level_3"},"level three"))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},r.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},r.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},r.process),r.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement("div",{className:"input-container"},l.a.createElement("button",{className:"btn btn-info mx-3",type:"reset",disabled:r.disable,onClick:function(){return s(Object(E.a)({},r,{},ka("default"),{name:"",level:""}))}},l.a.createElement(f.a,{icon:g.Fb}),"Reset"),l.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:r.disable},l.a.createElement(f.a,{icon:g.nb}),"save")))))))},un=function(e){var a=e.general_name,t=Object(n.useState)(Object(E.a)({general_name:""},ka("default"))),c=Object(i.a)(t,2),r=c[0],s=c[1];Object(n.useEffect)((function(){s(Object(E.a)({},r,{general_name:a}))}),[a]);return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("form",{onSubmit:function(e){return function(e){var t,n,l;return S.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),c.prev=1,s(Object(E.a)({},r,{},ka("initial","Updating..."))),t=Object(T.encryptObject)(Object(E.a)({},pt(),{gname:a,general_name:r.general_name})),c.next=6,S.a.awrap(L.a.put(R.host+"/climatePlaces",{data:t}));case 6:n=c.sent,(l=Object(T.decrptObject)(n.data)).error?s(Object(E.a)({},r,{},ka("error","Error while updating please try again later"))):!l.error&&l.updated&&s(Object(E.a)({},r,{},ka("success","updating success"))),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),s(Object(E.a)({},r,{},ka("error","Adding Failed server is not active please try again later")));case 14:case"end":return c.stop()}}),null,null,[[1,11]])}(e)}},l.a.createElement("p",{className:"font-weight-bold text-center"},"General place name"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.V,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"place name",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{general_name:e.target.value}))},required:!0,value:r.general_name})),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},r.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},r.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},r.process),r.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement("div",{className:"input-container"},l.a.createElement("button",{className:"btn btn-info mx-3",type:"reset",disabled:r.disable,onClick:function(){return s(Object(E.a)({},r,{general_name:""},ka("default")))}},l.a.createElement(f.a,{icon:g.Fb}),"Reset"),l.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:r.disable},l.a.createElement(f.a,{icon:g.fb}),"Update")))))))},pn=function(e){var a=e.level_1,t=e.level_2,c=e.level_3,r=Object(n.useState)(Object(E.a)({level_1:[],level_2:[],level_3:[],Deletelist:[]},ka())),s=Object(i.a)(r,2),o=s[0],m=s[1];Object(n.useEffect)((function(){m(Object(E.a)({},o,{level_1:a,level_2:t,level_3:c}))}),[a,t,c]);var d=function(e,a){return m(Object(E.a)({},o,{level_1:"level_1"===a?o.level_1.filter((function(a){return a._id!==e})):o.level_1,level_2:"level_2"===a?o.level_2.filter((function(a){return a._id!==e})):o.level_2,level_3:"level_3"===a?o.level_3.filter((function(a){return a._id!==e})):o.level_3,Deletelist:[].concat(Object(b.a)(o.Deletelist),[e])}))},u=l.a.createElement("tr",null,l.a.createElement("td",null,o.level_1.map((function(e){return l.a.createElement("div",{key:e._id,onClick:function(){return d(e._id,e.level)}},e.name,l.a.createElement(f.a,{icon:g.Eb,className:"btn-outline-danger mx-2"}),",")}))),l.a.createElement("td",null,o.level_2.map((function(e){return l.a.createElement("div",{key:e._id,onClick:function(){return d(e._id,e.level)}},e.name,l.a.createElement(f.a,{icon:g.Eb,className:"btn-outline-danger mx-2"}),",")}))),l.a.createElement("td",null,o.level_3.map((function(e){return l.a.createElement("div",{key:e._id,onClick:function(){return d(e._id,e.level)}},e.name,l.a.createElement(f.a,{icon:g.Eb,className:"btn-outline-danger mx-2"}),",")}))));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(xe.g,{hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"mx-2"}),"level 1 Allowance places"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"mx-2"}),"Level 2 Allowance places"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"mx-2"}),"Level 3 Allowance places"))),l.a.createElement(xe.h,null,u)),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},o.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},o.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},o.process),o.loading?l.a.createElement(fe,null):l.a.createElement("p",null),l.a.createElement("div",{className:"input-container"},l.a.createElement("button",{className:"btn btn-info mx-3",type:"reset",disabled:o.disable,onClick:function(){return m(Object(E.a)({},o,{level_1:a,level_2:t,level_3:c},ka("default")))}},l.a.createElement(f.a,{icon:g.Fb}),"Reset"),l.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:function(){return function(){var e,a,t;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m(Object(E.a)({},o,{},ka("initial","saving..."))),e=Object(T.encryptObject)(Object(E.a)({},pt(),{Places_id:o.Deletelist})),n.next=5,S.a.awrap(L.a.put(R.host+"/addPlace",{data:e}));case 5:a=n.sent,(t=Object(T.decrptObject)(a.data)).error?m(Object(E.a)({},o,{},ka("error","Saving failed please try again later"))):!t.error&&t.deleted&&m(Object(E.a)({},o,{},ka("success","Saved successfully"))),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),m(Object(E.a)({},o,{},ka("error","removing failed server is not active please try again later")));case 13:case"end":return n.stop()}}),null,null,[[0,10]])}()},disabled:o.disable},l.a.createElement(f.a,{icon:g.fb}),"save"))))))},En=function(e){var a=e.className,t=e.type,c=Object(n.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],m=function(){return o(!s)};return"create_place"===t?l.a.createElement("div",null,l.a.createElement(xe.b,{rounded:!0,onClick:m,color:"primary"},l.a.createElement(f.a,{icon:g.ib,className:"mx-2 fa-1x"}),"create climate allowance place"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"xl",className:a},l.a.createElement(ue.a,{toggle:m},l.a.createElement(f.a,{icon:g.sb,className:"mx-2"}),"New climate allowance Place"),l.a.createElement(pe.a,null,l.a.createElement(mn,{fetch:e.fetch})))):"add_place"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:"btn btn-outline-primary my-2"},l.a.createElement(f.a,{icon:g.ib,className:"mx-2 fa-1x text-warning"}),"Add Place"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.ib,className:"mx-2"}),e.general_name),l.a.createElement(pe.a,null,l.a.createElement(dn,{general_name:e.general_name})))):"edit_gname"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:"btn btn-outline-primary my-2"},l.a.createElement(f.a,{icon:g.fb,className:"mx-2 fa-1x"}),"Rename general place name"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a+" dialogue"},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.fb,className:"mx-2"}),"Edit"),l.a.createElement(pe.a,null,l.a.createElement(un,{general_name:e.general_name})))):"remove_places"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:"btn btn-outline-danger"},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fa-1x"}),"Remove places"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"lg",className:a},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement("p",{className:"text-danger"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 text-danger"}),"Remove places from ",e.general_name)),l.a.createElement(pe.a,null,l.a.createElement(pn,{level_1:e.level_1,level_2:e.level_2,level_3:e.level_3})))):void 0},fn=function(e){var a;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.awrap(ne());case 3:a=t.sent,e(le(a)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),e({type:"ERROR"});case 11:case"end":return t.stop()}}),null,null,[[0,7]])},gn=function(){var e=Object(n.useState)({collapse:"",places:[],general_name:[],found:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.climatePlaces,o=r.dispatchClimatePlaces,u=s.state,p=s.loading,_=s.error,v=new Mt(u),h=function(){return fn(o)},N=x(Object(b.a)(u.map((function(e){return{id:Ca(),general_name:e.general_name}}))),"general_name");Object(n.useEffect)((function(){fn(o),c(Object(E.a)({},t,{places:u,general_name:N}))}),[u.length,p,JSON.stringify(u)]);var y=p?l.a.createElement("tr",null,l.a.createElement("td",{className:"row text-center",colSpan:"5"},l.a.createElement(fe,null))):_?l.a.createElement("tr",null,l.a.createElement("td",{className:"text-danger text-danger",colSpan:"5"},"Loading  failed  because server is not active contact system admin to activate it")):t.places.length?t.general_name.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.general_name),l.a.createElement("td",{className:"text-center"},v.findGname_level_1(e.general_name).length?v.findGname_level_1(e.general_name).map((function(e){return l.a.createElement("p",{key:e._id},e.name,",")})):l.a.createElement("p",{className:"text-center font-weight-bold"},"No place added")),l.a.createElement("td",{className:"text-center"},v.findGname_level_2(e.general_name).length?v.findGname_level_2(e.general_name).map((function(e){return l.a.createElement("p",{key:e._id},e.name,",")})):l.a.createElement("p",{className:"text-center font-weight-bold"},"No place added")),l.a.createElement("td",{className:"text-center"},v.findGname_level_3(e.general_name).length?v.findGname_level_3(e.general_name).map((function(e){return l.a.createElement("p",{key:e._id},e.name,",")})):l.a.createElement("p",{className:"text-center font-weight-bold"},"No place added")),l.a.createElement("td",null,l.a.createElement(En,{type:"add_place",fetch:h,general_name:e.general_name,className:"my-2"}),l.a.createElement(En,{type:"edit_gname",fetch:h,general_name:e.general_name,className:"my-2"}),l.a.createElement(En,{type:"remove_places",fetch:h,general_name:e.general_name,level_1:v.findGname_level_1(e.general_name),level_2:v.findGname_level_2(e.general_name),level_3:v.findGname_level_3(e.general_name),className:"my-2"})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"5"},"No Places yet"));return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(A,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(oe,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"},l.a.createElement(En,{type:"create_place",fetch:h})),l.a.createElement("div",{className:"col-lg-3 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type name,region or place type",onChange:function(e){return function(e){var a=""===e?u:v.searchPlace(e),n=""!==e,l=x(Object(b.a)(a.map((function(e){return{id:Ca(),general_name:e.general_name}}))),"general_name");c(Object(E.a)({},t,{places:a,found:n,general_name:l}))}(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{class:"col-md-3 col-xl-3 col-lg-3"},l.a.createElement("div",{class:"card mb-3 widget-content bg-midnight-bloom"},l.a.createElement("div",{class:"widget-content-wrapper text-white"},l.a.createElement("div",{class:"widget-content-left"},l.a.createElement("div",{class:"widget-heading"},"General place name"),l.a.createElement("div",{class:"widget-subheading"},"Totall registered")),l.a.createElement("div",{class:"widget-content-right"},l.a.createElement("div",{class:"widget-numbers text-white"},l.a.createElement("span",null,N.length)))))),l.a.createElement("div",{class:"col-md-3 col-xl-3 col-lg-3"},l.a.createElement("div",{class:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{class:"widget-content-wrapper text-white"},l.a.createElement("div",{class:"widget-content-left"},l.a.createElement("div",{class:"widget-heading"},"Places"),l.a.createElement("div",{class:"widget-subheading"},"Totall registered")),l.a.createElement("div",{class:"widget-content-right"},l.a.createElement("div",{class:"widget-numbers text-white"},l.a.createElement("span",null,u.length)))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"main-card mb-3 card mt-2"},t.found?l.a.createElement("h5",{className:"text-center"},"places found:",t.places.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"mx-2"}),"General Place name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"mx-2"}),"level 1 Allowance places"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"mx-2"}),"Level 2 Allowance places"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"mx-2"}),"Level 3 Allowance places"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.db,className:"mx-2"}),"operation"))),l.a.createElement(xe.h,null,y))))))))))},bn={state:[],loading:!0,error:!1},_n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_PLACES":return{state:a.payload,loading:!1,error:!1};case"LOADING_PLACES":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},vn=function(e){function a(e,t,n,l){var c;return Object(_.a)(this,a),(c=Object(v.a)(this,Object(h.a)(a).call(this,t,n,l))).toDeduct=function(){return c.allCompleted().filter((function(e){return e.creater===c.getEmp_id()}))},c.isDeductionStarted=function(e){return!!c.deductions.find((function(a){return a.allowance_id===e}))},c.searchToDeduct=function(e){var a=e.toString().toLowerCase(),t=c.toDeduct().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),n=c.toDeduct().filter((function(e){return e.letter_id.toString().toLowerCase().includes(a,0)})),l=c.toDeduct().filter((function(e){return e.destination_place.toString().toLowerCase().includes(a,0)})),r=c.toDeduct().filter((function(e){return e.project_name.toString().toLowerCase().includes(a,0)}));return x([].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(l),Object(b.a)(r)),"_id")},c.durationMonths=function(e){var a=c.findAllowance(e),t=a?parseInt(Ha(a.initial_date).month):0,n=a?parseInt(Ha(a.destination_date).month):0;return a?Ma(a.initial_date,a.destination_date)<=365?Va(t,n):Va(1,13):[]},c.durationYears=function(e){var a=c.findAllowance(e),t=a?parseInt(Ha(a.initial_date).year):0,n=a?parseInt(Ha(a.destination_date).year):0;return Za(t,n)},c.findDeductions=function(e){return c.deductions.find((function(a){return a._id===e}))},c.findWithId=function(e){return c.deductions.find((function(a){return a.id===e}))},c.userDeductions=function(){return c.deductions.filter((function(e){return e.creater===c.getEmp_id()}))},c.userUnCompleted=function(){return c.userDeductions().filter((function(e){return!e.c_seen&&16!==c.Progress(e._id)}))},c.userNewCompleted=function(){return c.userDeductions().filter((function(e){return!e.c_seen&&16===c.Progress(e._id)}))},c.userSeenCompleted=function(){return c.userDeductions().filter((function(e){return e.c_seen&&16===c.Progress(e._id)}))},c.searchUserDeductions=function(e){var a=e.toString().toLowerCase(),t=c.userDeductions().filter((function(e){return(c.findAllowance(e.allowance_id)?c.findAllowance(e.allowance_id).id:"").toString().toLowerCase().includes(a,0)})),n=c.userDeductions().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),l=x([].concat(Object(b.a)(t),Object(b.a)(n)),"_id");return{unCompleted:l.filter((function(e){return!e.c_seen&&16!==c.Progress(e._id)})),completedSeen:l.filter((function(e){return e.c_seen&&16===c.Progress(e._id)})),completedUnseen:l.filter((function(e){return!e.c_seen&&16===c.Progress(e._id)}))}},c.Progress=function(e){var a=0,t=c.findDeductions(e);return a+=t?"waiting"===t.approval_manager.approve&&t.approval_manager.seen?3:c.rankProgress(t.approval_manager.approve):0,a+=t?"waiting"===t.f_tl_pending.approve&&t.f_tl_pending.seen?3:c.rankProgress(t.f_tl_pending.approve):0,a+=t?t.f_employee.seen&&!t.f_employee.calculated?3:t.f_employee.calculated?4:0:0,a+=t?"waiting"===t.f_tl_approve.approve&&t.f_tl_approve.seen?3:c.rankProgress(t.f_tl_approve.approve):0},c.tellDeductionProgress=function(e){return 0===c.Progress(e)?"Deduction is created":1===c.Progress(e)?"Your manager unApproved your Deduction":2===c.Progress(e)?"Your manager commented on your deduction.Please view the comment  ":3===c.Progress(e)?"Your manager is reviewing your deduction":4===c.Progress(e)?"Your manager approved your deduction":5===c.Progress(e)?"Your deduction is not accepted by finance please contact finance":6===c.Progress(e)?"Your deduction is commented by finance team leader please view the comment":7===c.Progress(e)?"Your deduction is being reviewed by finance team leader":8===c.Progress(e)?"Your deduction is accepted by finance team leader and is ready for calculation":11===c.Progress(e)?"Accountant is calculating your deduction":12===c.Progress(e)?"Your deduction is calculated and is ready for approval":13===c.Progress(e)?"Your deduction is calculated but it is dissaproved by finance team leader please contact for more information":14===c.Progress(e)?"Your deduction is calculated but it is commented by finance team leader to do the calculation again please wait the calculation is redoing":15===c.Progress(e)?"Your deduction is calculated and is being reviewed for approval":16===c.Progress(e)?"Your deduction is completed":""},c.deductionColor=function(e){return 1===c.Progress(e)||5===c.Progress(e)||13===c.Progress(e)?"danger":7===c.Progress(e)||3===c.Progress(e)||11===c.Progress(e)||15===c.Progress(e)?"info":4===c.Progress(e)||8===c.Progress(e)||12===c.Progress(e)?"primary":16===c.Progress(e)?"success":2===c.Progress(e)||6===c.Progress(e)||14===c.Progress(e)?"warning":""},c.progressTotall=function(e){return Math.round(c.Progress(e)/16*100)},c.MangerDeductions=function(){return c.deductions.filter((function(e){return e.approval_manager.emp_id===c.getEmp_id()&&"approve"===e.save_options}))},c.newManagerDeductions=function(){return c.MangerDeductions().filter((function(e){return!e.approval_manager.seen}))},c.seenManagerDeductions=function(){return c.MangerDeductions().filter((function(e){return e.approval_manager.seen}))},c.searchManager=function(e){var a=e.toString().toLowerCase(),t=c.MangerDeductions().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),n=c.MangerDeductions().filter((function(e){return(c.findAllowance(e.allowance_id)?c.findAllowance(e.allowance_id).id:"").toString().toLowerCase().includes(a,0)})),l=c.MangerDeductions().filter((function(e){return e.creater.toString().toLowerCase().includes(a,0)})),r=c.MangerDeductions().filter((function(e){return e.approval_manager.approve.toString().toLowerCase().includes(a,0)})),i=c.MangerDeductions().filter((function(e){return c.Name(e.creater).toString().toLowerCase().includes(a,0)})),s=x([].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(l),Object(b.a)(r),Object(b.a)(i)),"_id");return{new:s.filter((function(e){return!e.approval_manager.seen})),seen:s.filter((function(e){return e.approval_manager.seen}))}},c.ftl_IncomingDeductions=function(){return c.deductions.filter((function(e){return"f_team_leader"===c.UserRole(c.getEmp_id())&&"Approved"===e.approval_manager.approve}))},c.ftl_newIncomingDeductions=function(){return c.ftl_IncomingDeductions().filter((function(e){return!e.f_tl_pending.seen}))},c.ftl_seenIncomingDeductions=function(){return c.ftl_IncomingDeductions().filter((function(e){return e.f_tl_pending.seen}))},c.searchFtlIncoming=function(e){var a=e.toString().toLowerCase(),t=c.ftl_IncomingDeductions().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),n=c.ftl_IncomingDeductions().filter((function(e){return(c.findAllowance(e.allowance_id)?c.findAllowance(e.allowance_id).id:"").toString().toLowerCase().includes(a,0)})),l=c.ftl_IncomingDeductions().filter((function(e){return e.creater.toString().toLowerCase().includes(a,0)})),r=c.ftl_IncomingDeductions().filter((function(e){return e.f_tl_pending.approve.toString().toLowerCase().includes(a,0)})),i=c.ftl_IncomingDeductions().filter((function(e){return c.Name(e.creater).toString().toLowerCase().includes(a,0)})),s=x([].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(l),Object(b.a)(r),Object(b.a)(i)),"_id");return{new:s.filter((function(e){return!e.f_tl_pending.seen})),seen:s.filter((function(e){return e.f_tl_pending.seen}))}},c.fEmployeeDeductions=function(){return c.deductions.filter((function(e){return"Approved"===e.f_tl_pending.approve&&e.f_employee.emp_id===c.getEmp_id()}))},c.fNewEmployeeDeductions=function(){return c.fEmployeeDeductions().filter((function(e){return!e.f_employee.seen}))},c.fSeenEmployeeDeductions=function(){return c.fEmployeeDeductions().filter((function(e){return e.f_employee.seen&&!e.f_tl_approve.redone}))},c.fe_RedoneDeductions=function(){return c.fEmployeeDeductions().filter((function(e){return e.f_employee.seen&&e.f_tl_approve.redone}))},c.searchFemployee=function(e){var a=e.toString().toLowerCase(),t=c.fEmployeeDeductions().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),n=c.fEmployeeDeductions().filter((function(e){return(c.findAllowance(e.allowance_id)?c.findAllowance(e.allowance_id).id:"").toString().toLowerCase().includes(a,0)})),l=c.fEmployeeDeductions().filter((function(e){return e.creater.toString().toLowerCase().includes(a,0)})),r=c.fEmployeeDeductions().filter((function(e){return c.Name(e.creater).toString().toLowerCase().includes(a,0)})),i=x([].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(l),Object(b.a)(r)),"_id");return{new:i.filter((function(e){return!e.f_employee.seen})),seen:i.filter((function(e){return e.f_employee.seen&&!e.f_tl_approve.redone})),redone:i.filter((function(e){return e.f_employee.seen&&e.f_tl_approve.redone}))}},c.spendingDays=function(e){return c.findDeductions(e)?c.findDeductions(e).spending_days:[]},c.findSpendingDay=function(e,a){return c.spendingDays(e).find((function(e){return e._id===a}))},c.sDuration=function(e,a){return c.findSpendingDay(e,a)?Ma(c.findSpendingDay(e,a).from_date,c.findSpendingDay(e,a).upto_date)+1:0},c.sFromDate=function(e,a){return c.findSpendingDay(e,a)?c.findSpendingDay(e,a).from_date:""},c.sUptoDate=function(e,a){return c.findSpendingDay(e,a)?c.findSpendingDay(e,a).upto_date:""},c.ftl_Calulated=function(){return c.ftl_IncomingDeductions().filter((function(e){return e.f_tl_pending.emp_id===c.getEmp_id()&&e.f_employee.calculated&&("Approve"===e.f_employee.save_options||"approve"===e.f_employee.save_options)}))},c.ftl_newCalculated=function(){return c.ftl_Calulated().filter((function(e){return!e.f_tl_approve.seen}))},c.ftl_Redone=function(){return c.ftl_Calulated().filter((function(e){return e.f_employee.redone&&e.f_tl_approve.seen}))},c.ftl_CalulatedSeen=function(){return c.ftl_Calulated().filter((function(e){return!e.f_employee.redone&&e.f_tl_approve.seen}))},c.ftlSeacrchCalulated=function(e){var a=e.toString().toLowerCase(),t=c.ftl_Calulated().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),n=c.ftl_Calulated().filter((function(e){return(c.findAllowance(e.allowance_id)?c.findAllowance(e.allowance_id).id:"").toString().toLowerCase().includes(a,0)})),l=c.ftl_Calulated().filter((function(e){return e.creater.toString().toLowerCase().includes(a,0)})),r=c.ftl_Calulated().filter((function(e){return e.f_tl_approve.approve.toString().toLowerCase().includes(a,0)})),i=c.ftl_Calulated().filter((function(e){return c.Name(e.creater).toString().toLowerCase().includes(a,0)})),s=x([].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(l),Object(b.a)(r),Object(b.a)(i)),"_id");return{new:s.filter((function(e){return!e.f_tl_approve.seen})),seen:s.filter((function(e){return!e.f_employee.redone&&e.f_tl_approve.seen})),redone:s.filter((function(e){return e.f_employee.redone&&e.f_tl_approve.seen}))}},c.completedDeductions=function(){return c.deductions.filter((function(e){return 16===c.Progress(e._id)}))},c.searchCompleted=function(e){var a=e.toString().toLowerCase(),t=c.completedDeductions().filter((function(e){return e.id.toString().toLowerCase().includes(a,0)})),n=c.completedDeductions().filter((function(e){return(c.findAllowance(e.allowance_id)?c.findAllowance(e.allowance_id).id:"").toString().toLowerCase().includes(a,0)})),l=c.completedDeductions().filter((function(e){return e.creater.toString().toLowerCase().includes(a,0)})),r=c.completedDeductions().filter((function(e){return c.Name(e.creater).toString().toLowerCase().includes(a,0)})),i=c.completedDeductions().filter((function(e){return c.Department(e.creater).toString().toLowerCase().includes(a,0)}));return x([].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(l),Object(b.a)(r),Object(b.a)(i)),"_id")},c.deductions=e,c}return Object(N.a)(a,e),a}(O),hn=function(e){var a=e.allowance,t=Object(n.useState)(Object(E.a)({initial_time:{hour:12,min:0},initial_day:{breakfast:"",lunch:"",dinner:"",bed:""},return_time:{hour:12,min:0},return_day:{breakfast:"",lunch:"",dinner:""},spending_days:[],spending_day:{breakfast:"",lunch:"",dinner:"",bed:""},spending_from:{day:"",month:"",year:""},spending_upto:{day:"",month:"",year:""},initial_date:{day:"",month:"",year:""},return_date:{day:"",month:"",year:""},spending_error:"",maintainance:0,petrol:0,other:0,save_options:"approve",approval_manager:{emp_id:""}},ka("default"))),c=Object(i.a)(t,2),r=c[0],s=c[1];Object(n.useEffect)((function(){s(Object(E.a)({},r,{initial_date:Object(E.a)({},r.initial_date,{day:Ha(a.initial_date).date,month:Ha(a.initial_date).month,year:Ha(a.initial_date).year}),return_date:Object(E.a)({},r.return_date,{day:0!==Ma(a.initial_date,a.destination_date)?Ha(a.destination_date).date:"",month:0!==Ma(a.initial_date,a.destination_date)?Ha(a.destination_date).month:"",year:0!==Ma(a.initial_date,a.destination_date)?Ha(a.destination_date).year:""})}))}),[a]);var o=Object(n.useContext)(d),m=o.allowances,u=o.employees,p=o.users,_=m.state,v=(m.loading,u.state),h=p.state,N=new vn([],_,v,h),x=N.durationMonths(a._id),y=N.durationYears(a._id),w=N.getEmp_id(),O=N.Department(w),j=N.avaliableManager(O),k=function(){var e=r.spending_from,a=e.day,t=e.month,n=e.year,l=r.spending_upto,c=l.day,i=l.month,o=l.year,m=r.initial_date,d=m.day,u=m.month,p=m.year,f=r.return_date,g=f.day,b=f.month,_=f.year;try{return{fromDate:za(a,t,n),uptoDate:za(c,i,o),initial_date:za(d,u,p),return_date:za(g,b,_)}}catch(v){return s(Object(E.a)({},r,{spending_error:"You entered invalid date please Enter date carefully"})),{fromDate:null,uptoDate:null,initial_date:null,return_date:null}}},C=function(){var e=k(),a=(e.fromDate,e.uptoDate,e.initial_date),t=e.return_date,n=0;r.spending_days.map((function(e){n+=Ma(e.fromDate,e.uptoDate)+1}));var l=Ma(a,t)+1,c=l-n-(1===l?1:2);return{days:c,check:0!==c}},A=function(){var e=k(),a=e.fromDate,t=e.uptoDate,n=e.initial_date,l=e.return_date,c=r.spending_day,i=c.breakfast,o=c.lunch,m=c.dinner,d=c.bed;""===i?s(Object(E.a)({},r,{spending_error:"please enter breakfast place"})):""===o?s(Object(E.a)({},r,{spending_error:"please enter lunch place"})):""===m?s(Object(E.a)({},r,{spending_error:"please enter Dinner place"})):""===d?s(Object(E.a)({},r,{spending_error:"please enter sleeping place"})):Ua(a,t)?0===Ma(n,a)?s(Object(E.a)({},r,{spending_error:Wa(a)+" is the initial date. Initial date information is saved in the above input box please fill out the information accordingly"})):0===Ma(t,l)&&s(Object(E.a)({},r,{spending_error:Wa(t)+" is the return date. Return date information is saved in the below input box please fill out the information accordingly"})):s(Object(E.a)({},r,{spending_error:"Invalid duration between from date and upto date"})),!!(Ua(a,t)&&function(){var e=k(),a=e.fromDate,t=e.uptoDate,n=e.initial_date,l=e.return_date;return Ua(n,a)?Ua(t,l)||s(Object(E.a)({},r,{spending_error:"Invalid date duration please insert Upto date properly"})):s(Object(E.a)({},r,{spending_error:"Invalid date duration please insert From date properly"})),!!Ua(n,a)&&!!Ua(t,l)}()&&function(){var e=k().fromDate;return r.spending_days.map((function(a){Ma(a.fromDate,a.uptoDate)>=Ma(a.fromDate,e)&&s(Object(E.a)({},r,{spending_error:"Invalid date the date you entered is between two dates you previously entered please enter date again"}))})),!r.spending_days.find((function(a){return Ma(a.fromDate,a.uptoDate)>=Ma(a.fromDate,e)}))}()&&0!==Ma(n,a)&&0!==Ma(t,l))&&(""!==i&&""!==o&&""!==m)&&a&&t&&s((function(e){return Object(E.a)({},e,{spending_error:"",spending_days:[].concat(Object(b.a)(e.spending_days),[{id:Ca(),fromDate:a,uptoDate:t,breakfast:i,lunch:o,dinner:m,bed:d}])})}))},D=r.spending_days.length?r.spending_days.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",{className:"text-center"},Wa(e.fromDate)),l.a.createElement("td",{className:"text-center"},Wa(e.uptoDate)),l.a.createElement("td",{className:"text-center"},Ma(e.fromDate,e.uptoDate)+1),l.a.createElement("td",{className:"text-center"},e.breakfast),l.a.createElement("td",{className:"text-center"},e.lunch),l.a.createElement("td",{className:"text-center"},e.dinner),l.a.createElement("td",null,e.bed),l.a.createElement("td",{className:"text-center",onClick:function(){return a=e.id,s((function(e){return Object(E.a)({},e,{spending_days:Object(b.a)(e.spending_days.filter((function(e){return e.id!==a})))})}));var a}},l.a.createElement(f.a,{icon:g.Eb,className:"text-danger fa-2x"})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:8},l.a.createElement("p",{className:"text-center text-danger font-weight-bold"},"No spending days added yet")));return l.a.createElement("form",{onSubmit:function(e){return function(e){var t,n,l,c,i,o,m,d,u,p,f,g,_,v,h,x,y,w;return S.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:return e.preventDefault(),s(Object(E.a)({},r,{},ka("initial","Saving please wait..."))),O.next=4,S.a.awrap(qa());case 4:if(O.sent,t=Object(b.a)(r.spending_days.map((function(e){return{from_date:e.fromDate,upto_date:e.uptoDate,breakfast:e.breakfast,lunch:e.lunch,dinner:e.dinner,bed:e.bed}}))),n=a._id,l=r.initial_time,c=r.initial_day,i=r.return_time,o=r.petrol,m=r.maintainance,d=r.other,u=r.save_options,p=r.approval_manager,f=r.return_day,g=k(),_=g.initial_date,v=g.return_date,null!==_&&null!==v){O.next=13;break}s(Object(E.a)({},r,{},ka("error","Invalid return or initial date"))),O.next=34;break;case 13:if(Ua(_,v)){O.next=17;break}s(Object(E.a)({},r,{},ka("error","Invalid date duration between initial date and return date"))),O.next=34;break;case 17:if(!C().check){O.next=21;break}s(Object(E.a)({},r,{},ka("error","Missing "+C().days+" days of deduction.Please add days to deduct"))),O.next=34;break;case 21:return h=Object(E.a)({allowance_id:n,initial_time:l,initial_day:c,initial_date:_,spending_days:t,return_time:i,return_date:v,petrol:o,maintainace:m,other:d,save_options:u,approval_manager:p,creater:N.getEmp_id()},pt(),{return_day:f}),O.prev=22,x=Object(T.encryptObject)(h),O.next=26,S.a.awrap(L.a.post(R.host+"/deductions",{data:x}));case 26:y=O.sent,(w=Object(T.decrptObject)(y.data)).error?s(Object(E.a)({},r,{},ka("error","Error while saving... Internal server error please try again later"))):!w.error&&w.created&&s(Object(E.a)({},r,{},ka("success","deduction created successfully"))),O.next=34;break;case 31:O.prev=31,O.t0=O.catch(22),s(Object(E.a)({},r,{},ka("error","Error while saving... server is not active or responding please contact admin")));case 34:case"end":return O.stop()}}),null,null,[[22,31]])}(e)}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"font-weight-bold text-center mx-2"},"Initial Day inforamtion"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"card"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Initial day"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_date:Object(E.a)({},r.initial_date,{day:parseInt(e.target.value)})}))},value:r.initial_date.day,required:!0}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_date:Object(E.a)({},r.initial_date,{month:parseInt(e.target.value)})}))},value:r.initial_date.month,required:!0},l.a.createElement("option",{value:""},"Enter month"),x.map((function(e){return l.a.createElement("option",{value:e.number,key:e.number},e.month)}))),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_date:Object(E.a)({},r.initial_date,{year:parseInt(e.target.value)})}))},value:r.initial_date.year,required:!0},l.a.createElement("option",{value:""},"Enter year"),y.map((function(e){return l.a.createElement("option",{value:e,key:e},e)}))),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Initial time"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"hr",min:1,max:12,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{initial_time:Object(E.a)({},r.initial_time,{hour:e.target.value})}))},required:!0}),l.a.createElement("h4",{className:"text-center font-weight-bold my-auto mx-2"},":"),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"min",min:0,max:60,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_time:Object(E.a)({},r.initial_time,{min:e.target.value})}))},required:!0})))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"card"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Breakfast place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.w,className:"text-info fa-2x mx-2 my-auto"}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_day:Object(E.a)({},r.initial_day,{breakfast:e.target.value})}))},required:!!r.spending_days.length})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Lunch place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.hb,className:"text-info fa-2x mx-2 my-auto"}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_day:Object(E.a)({},r.initial_day,{lunch:e.target.value})}))},required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Dinner place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Hb,className:"text-info fa-2x mx-2 my-auto"}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_day:Object(E.a)({},r.initial_day,{dinner:e.target.value})}))},required:!!r.spending_days.length})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"sleeping place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.lb,className:"text-info fa-2x mx-2 my-auto"}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_day:Object(E.a)({},r.initial_day,{bed:e.target.value})}))},required:!!r.spending_days.length})))))),l.a.createElement("div",{className:"col-lg-12 mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"font-weight-bold text-center mx-2"},"spending day info"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"From day"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,onChange:function(e){return parseInt(e.target.value)>30&&parseInt(e.target.value)<0?s(Object(E.a)({},r,{spending_error:"Invalid date duration"})):s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_from:Object(E.a)({},r.spending_from,{day:parseInt(e.target.value)})}))}}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_from:Object(E.a)({},r.spending_from,{month:parseInt(e.target.value)})}))}},l.a.createElement("option",{value:""},"Enter month"),x.map((function(e){return l.a.createElement("option",{value:e.number,key:e.number},e.month)}))),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_from:Object(E.a)({},r.spending_from,{year:parseInt(e.target.value)})}))}},l.a.createElement("option",{value:""},"Enter year"),y.map((function(e){return l.a.createElement("option",{value:e,key:e},e)}))),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),l.a.createElement("p",{className:"font-weight-bold my-2  text-center"},"Upto day"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,onChange:function(e){return parseInt(e.target.value)>30&&parseInt(e.target.value)<0?s(Object(E.a)({},r,{spending_error:"Invalid date duration"})):s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_upto:Object(E.a)({},r.spending_upto,{day:parseInt(e.target.value)})}))}}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_upto:Object(E.a)({},r.spending_upto,{month:parseInt(e.target.value)})}))}},l.a.createElement("option",{value:""},"Enter month"),x.map((function(e){return l.a.createElement("option",{value:e.number,key:e.number},e.month)}))),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_upto:Object(E.a)({},r.spending_upto,{year:parseInt(e.target.value)})}))}},l.a.createElement("option",{value:""},"Enter year"),y.map((function(e){return l.a.createElement("option",{value:e,key:e},e)}))),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C"))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Breakfast place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.w,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_day:Object(E.a)({},r.spending_day,{breakfast:e.target.value})}))}})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Lunch place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.hb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_day:Object(E.a)({},r.spending_day,{lunch:e.target.value})}))}})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Dinner place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Hb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_day:Object(E.a)({},r.spending_day,{dinner:e.target.value})}))}})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"sleeping place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.lb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_day:Object(E.a)({},r.spending_day,{bed:e.target.value})}))}})))),l.a.createElement("p",{className:"text-center text-danger font-weight-bold"},r.spending_error),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 mt-3"},l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"From-date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"Upto-date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.n,className:"mx-2"}),"Duration"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.w,className:"mx-2"}),"Breakfast"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.hb,className:"mx-2"}),"Lunch"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Gb,className:"mx-2"}),"Dinner"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.lb,className:"mx-2"}),"Bed"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.tb,className:"mx-2"}),"Remove"))),l.a.createElement(xe.h,null,D))),l.a.createElement("div",{className:"col-lg-4"}),l.a.createElement("div",{className:"col-lg-4 mb-3"},l.a.createElement("div",{className:"btn btn-info",onClick:function(){return A()}},l.a.createElement(f.a,{icon:g.ib,className:"mx-2 fa-2x"}),"Add to deduct"))))),l.a.createElement("div",{className:"col-lg-12 mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"font-weight-bold text-center mx-2"},"Return Day inforamtion"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Return Date"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_date:Object(E.a)({},r.return_date,{day:parseInt(e.target.value)})}))},value:r.return_date.day,required:!0}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_date:Object(E.a)({},r.return_date,{month:parseInt(e.target.value)})}))},value:r.return_date.month,required:!0},l.a.createElement("option",{value:""},"Enter month"),x.map((function(e){return l.a.createElement("option",{value:e.number,key:e.number},e.month)}))),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_date:Object(E.a)({},r.return_date,{year:parseInt(e.target.value)})}))},value:r.return_date.year,required:!0},l.a.createElement("option",{value:""},"Enter year"),y.map((function(e){return l.a.createElement("option",{value:e,key:e},e)}))),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Return time"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"hr",min:1,max:12,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_time:Object(E.a)({},r.return_time,{hour:e.target.value})}))},required:!0}),l.a.createElement("h4",{className:"text-center font-weight-bold my-auto mx-2"},":"),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"min",min:0,max:60,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_time:Object(E.a)({},r.return_time,{min:e.target.value})}))},required:!0}))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Breakfast place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.w,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_day:Object(E.a)({},r.return_day,{breakfast:e.target.value})}))}})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Lunch place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.hb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_day:Object(E.a)({},r.return_day,{lunch:e.target.value})}))}})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Dinner place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Gb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_day:Object(E.a)({},r.return_day,{dinner:e.target.value})}))}})))))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Maintainance and repair amount"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Ib,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input amount",min:0,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{maintainance:e.target.value}))}})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Oil and petrol spendings"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.K,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input amount",min:0,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{petrol:e.target.value}))}})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Other spendings"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input amount",min:0,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{other:e.target.value}))}}))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},r.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},r.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},r.process),r.loading?l.a.createElement(fe,null):l.a.createElement("p",null))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("p",{className:"text-center font-weight-bold"},"Save options"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.nb,className:" fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return"draft"===e.target.value?s(Object(E.a)({},r,{save_options:e.target.value,approval_manager:{emp_id:""}})):s(Object(E.a)({},r,{save_options:e.target.value}))}},l.a.createElement("option",{value:"approve"},"Save and start approving"),l.a.createElement("option",{value:"draft"},"Save as draft")))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Approve to manager"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.rb,className:" fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{approval_manager:{emp_id:e.target.value}},ka("default")))},required:!0},l.a.createElement("option",{value:""},"Enter Approving Manager"),j.length?j.map((function(e){return l.a.createElement("option",{value:e.emp_id,key:e._id},N.Name(e.emp_id)," (",N.UserRole(e.emp_id),")")})):l.a.createElement("option",{value:"",className:"text-danger font-weight-bold"},"No available Manager registered")))),l.a.createElement("div",{className:"col-lg-4"},"draft"===r.save_options?l.a.createElement("button",{type:"submit",className:"btn btn-large btn-outline-primary ml-4 my-auto",disabled:r.disable},"Save as Draft"):"approve"===r.save_options?l.a.createElement("button",{type:"submit",className:"btn btn-large btn-outline-primary ml-4 mx-2 my-auto",disabled:r.disable},"Save and start approving"):l.a.createElement("p",null)))))},Nn=function(e){var a=e.deduction,t=e.am,c=e.ftli,r=e.fe,i=Object(n.useContext)(d),s=i.allowances,o=i.employees,m=i.users,u=i.deductions,p=s.state,b=(s.loading,o.state),_=m.state,v=u.state,h=new vn(v,p,b,_);Object(n.useEffect)((function(){!a.approval_manager.seen&&t&&function(){var e;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(qa());case 2:return e=t.sent,t.next=5,S.a.awrap(L.a.put(R.host+"/deductions",{data:Object(T.encryptObject)(Object(E.a)({},a,{approval_manager:Object(E.a)({},a.approval_manager,{seen:!0,seen_date:e})},pt()))}));case 5:t.sent;case 6:case"end":return t.stop()}}))}(),!a.f_tl_pending.seen&&c&&function(){var e;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(qa());case 2:return e=t.sent,t.next=5,S.a.awrap(L.a.put(R.host+"/deductions",{data:Object(T.encryptObject)(Object(E.a)({},a,{f_tl_pending:Object(E.a)({},a.f_tl_pending,{seen:!0,seen_date:e})},pt()))}));case 5:t.sent;case 6:case"end":return t.stop()}}))}(),!a.f_employee.seen&&r&&function(){var e;S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(qa());case 2:return e=t.sent,t.next=5,S.a.awrap(L.a.put(R.host+"/deductions",{data:Object(T.encryptObject)(Object(E.a)({},a,{f_employee:Object(E.a)({},a.f_employee,{seen:!0,seen_date:e})},pt()))}));case 5:t.sent;case 6:case"end":return t.stop()}}))}()}),[]);var N=a.spending_days.length?a.spending_days.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},Wa(e.from_date)),l.a.createElement("td",{className:"text-center"},Wa(e.upto_date)),l.a.createElement("td",{className:"text-center"},Ma(e.from_date,e.upto_date)+1),l.a.createElement("td",{className:"text-center"},e.breakfast),l.a.createElement("td",{className:"text-center"},e.lunch),l.a.createElement("td",{className:"text-center"},e.dinner),l.a.createElement("td",null,e.bed))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:8},l.a.createElement("p",{className:"text-center text-danger font-weight-bold"},"No spending days added yet")));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"text-center font-weight-bold"},"From- ",h.Name(a.creater),"  ",l.a.createElement("br",null),"Department-",h.Department(a.creater))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"text-center font-italic"},"# Deduction id:",a.id," ",l.a.createElement("br",null),"# Allowance id:",h.findAllowance(a.allowance_id)?h.findAllowance(a.allowance_id).id:""," ",l.a.createElement("br",null),"created-",Ga(a.created_date)," ",l.a.createElement("br",null),Ya(a.created_date))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h5",{className:"text-center font-weight-bold"},"Initial day"),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"Initial day"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.o,className:"mx-2"}),"Initial time"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.w,className:"mx-2"}),"Breakfast"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.hb,className:"mx-2"}),"Lunch"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Gb,className:"mx-2"}),"Dinner"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.lb,className:"mx-2"}),"Bed"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",{className:"text-center"},Wa(a.initial_date)),l.a.createElement("td",null,a.initial_time.hour," : ",a.initial_time.min<10?"0"+a.initial_time.min:a.initial_time.min),l.a.createElement("td",null,a.initial_day.breakfast),l.a.createElement("td",null,a.initial_day.lunch),l.a.createElement("td",null,a.initial_day.dinner),l.a.createElement("td",null,a.initial_day.bed)))),l.a.createElement("h5",{className:"text-center font-weight-bold my-2"},"spending days"),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"From-date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"Upto-date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.n,className:"mx-2"}),"Duration"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.w,className:"mx-2"}),"Breakfast"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.hb,className:"mx-2"}),"Lunch"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Gb,className:"mx-2"}),"Dinner"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.lb,className:"mx-2"}),"Bed"))),l.a.createElement(xe.h,null,N)),l.a.createElement("h5",{className:"text-center font-weight-bold"},"Return day"),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"Return date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.o,className:"mx-2"}),"Return time"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.w,className:"mx-2"}),"Breakfast"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.hb,className:"mx-2"}),"Lunch"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Gb,className:"mx-2"}),"Dinner"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.lb,className:"mx-2"}),"Bed"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",{className:"text-center"},Wa(a.return_date)),l.a.createElement("td",null,a.return_time.hour," : ",a.return_time.min<10?"0"+a.return_time.min:a.return_time.min),l.a.createElement("td",null,a.return_day.breakfast),l.a.createElement("td",null,a.return_day.lunch),l.a.createElement("td",null,a.return_day.dinner),l.a.createElement("td",null,a.return_day.bed)))),l.a.createElement("h5",{className:"text-center font-weight-bold"},"petrol and gas spending:",a.petrol," ",l.a.createElement("br",null),"maintainance and repair spending:",a.maintainace," ",l.a.createElement("br",null),"other spendings :",a.other))))},xn=function(e){var a=e.deduction,t=Object(n.useContext)(d),c=t.allowances,r=t.employees,i=t.users,s=t.dispatchDeductions,o=t.deductions,m=c.state,u=r.state,p=i.state,E=o.state,b=o.loading,_=new vn(E,m,u,p),v=a._id,h=_.Progress(v),N=_.tellDeductionProgress(v),x=_.deductionColor(v);_.progressTotall(v);Object(n.useEffect)((function(){ie(s)}),[b,a,JSON.stringify(E)]);var y=function(e){return"danger"===e?l.a.createElement(f.a,{icon:g.Eb,className:"fa-2x mx-2 text-danger"}):"warning"===e?l.a.createElement(f.a,{icon:g.y,className:"fa-2x mx-2 text-warning"}):"primary"===e||"success"===e?l.a.createElement(f.a,{icon:g.r,className:"fa-2x mx-2 text-primary"}):"info"===e?l.a.createElement(f.a,{icon:g.H,className:"fa-2x mx-2 text-info"}):l.a.createElement(f.a,{icon:g.r,className:"fa-2x mx-2 text-light"})};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("h4",{className:"font-weight-bold text-center"},"Totall progress made"),l.a.createElement("p",{className:"font-weight-bold"},l.a.createElement(f.a,{icon:g.r,className:"fa-2x mx-2 text-info"}),"Deduction is created"),h>0&&h<5?l.a.createElement("p",null,y(x),"Deduction has reviewed and approved by your manager"):0===h?l.a.createElement("p",null,y(""),"Deduction has reviewed and approved by your manager"):l.a.createElement("p",{className:"font-weight-bold"},l.a.createElement(f.a,{icon:g.r,className:"fa-2x mx-2 text-info"}),"Deduction has reviewed and approved by your manager"),h>4&&h<9?l.a.createElement("p",null,y(x),"Deduction is accepted by finance"):h<5?l.a.createElement("p",null,y(""),"Deduction is accepted by finance"):l.a.createElement("p",{className:"font-weight-bold"},l.a.createElement(f.a,{icon:g.r,className:"fa-2x mx-2 text-info"}),"Deduction is accepted by finance"),h>10&&h<13?l.a.createElement("p",null,y(x),"Deduction is calculating"):h<11?l.a.createElement("p",null,y(""),"Deduction is calculating"):l.a.createElement("p",{className:"font-weight-bold"},l.a.createElement(f.a,{icon:g.r,className:"fa-2x mx-2 text-info"}),"Deduction is calculating"),h>12&&h<16?l.a.createElement("p",null,y(x),"Deduction has calculated and has approved"):h<13?l.a.createElement("p",null,y(""),"Deduction has calculated and has approved"):l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.r,className:"fa-2x mx-2 text-info"}),"Deduction has calculated and has approved")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"mb-3 widget-chart widget-chart2 text-left card card-shadow-"+x},l.a.createElement("div",{className:"widget-content"},l.a.createElement("div",{className:"widget-content-outer"},l.a.createElement("div",{className:"widget-content-wrapper"},l.a.createElement("div",{className:"widget-content-left pr-2 fsize-1"},l.a.createElement("div",{className:"widget-numbers mt-0 fsize-3 text-"+x},_.progressTotall(v),"%")),l.a.createElement("div",{className:"widget-content-right w-100"},l.a.createElement("div",{className:"progress-bar-xs progress"},l.a.createElement("div",{className:"progress-bar bg-"+x,role:"progressbar","aria-valuenow":_.progressTotall(v),"aria-valuemin":0,"aria-valuemax":100,style:{width:_.progressTotall(v)+"%"}})))),l.a.createElement("div",{className:"widget-content-left fsize-1"},l.a.createElement("div",{className:"text-muted opacity-6"},"Totall progress made"))))),l.a.createElement("h5",{className:"text-center font-weight-bold mt-2 text-"+x},N),2===h||1===h?l.a.createElement("div",{className:"text-center font-weight-bold mt-2 font-italic text-warning"},"comment- ",a.approval_manager.comment," ",l.a.createElement("br",null),l.a.createElement("p",{className:"float-right font-italic"},"from -",_.Name(a.approval_manager.emp_id))):6===h||5===h?l.a.createElement("div",{className:"text-center font-weight-bold mt-2 font-italic text-warning"},"comment- ",a.f_tl_pending.comment," ",l.a.createElement("br",null),l.a.createElement("p",{className:"float-right font-italic"},"from -",_.Name(a.f_tl_pending.emp_id))):l.a.createElement("p",null))))},yn=function(e){var a=e.deduction,t=Object(n.useState)(Object(E.a)({initial_time:{hour:12,min:0},initial_day:{breakfast:"",lunch:"",dinner:"",bed:""},return_time:{hour:12,min:0},return_day:{breakfast:"",lunch:"",dinner:""},spending_days:[],spending_day:{breakfast:"",lunch:"",dinner:"",bed:""},spending_from:{day:1,month:1,year:2013},spending_upto:{day:1,month:1,year:2013},initial_date:{day:"",month:"",year:""},return_date:{day:"",month:"",year:""},spending_error:"",maintainace:0,petrol:0,other:0,save_options:"approve",approval_manager:{emp__id:""}},ka("default"))),c=Object(i.a)(t,2),r=c[0],s=c[1];Object(n.useEffect)((function(){s(Object(E.a)({},r,{},a,{initial_date:Object(E.a)({},r.initial_date,{day:Ha(a.initial_date).date,month:Ha(a.initial_date).month,year:Ha(a.initial_date).year}),return_date:{day:0!==Ma(a.initial_date,a.return_date)?Ha(a.return_date).date:"",month:0!==Ma(a.initial_date,a.return_date)?Ha(a.return_date).month:"",year:0!==Ma(a.initial_date,a.return_date)?Ha(a.return_date).year:""}}))}),[]);var o=Object(n.useContext)(d),m=o.allowances,u=(o.dispatchDeductions,o.deductions),p=o.employees,_=o.users,v=m.state,h=(m.loading,m.error,p.state),N=(p.loading,p.error,_.state),x=(_.loading,_.error,u.state),y=(u.loading,u.error,new vn(x,v,h,N)),w=y.durationMonths(a.allowance_id),O=y.durationYears(a.allowance_id),j=y.avaliableManager(y.Department(y.getEmp_id())),k=function(){var e=r.spending_from,a=e.day,t=e.month,n=e.year,l=r.spending_upto,c=l.day,i=l.month,o=l.year,m=r.initial_date,d=m.day,u=m.month,p=m.year,f=r.return_date,g=f.day,b=f.month,_=f.year;try{return console.log(a,t,n,c,i,o),{from_date:za(a,t,n),upto_date:za(c,i,o),initial_date:za(d,u,p),return_date:za(g,b,_)}}catch(v){return console.log(v),s(Object(E.a)({},r,{spending_error:"You entered invalid date please Enter date carefully"})),{from_date:null,upto_date:null,initial_date:null,return_date:null}}},C=function(){var e=k(),a=e.initial_date,t=e.return_date,n=0;r.spending_days.map((function(e){n+=Ma(e.from_date,e.upto_date)+1}));var l=Ma(a,t)+1,c=l-n-(1===l?1:2);return console.log(l,n,c),{days:c,check:0!==c}},A=function(){var e=k(),a=e.from_date,t=e.upto_date,n=e.initial_date,l=e.return_date,c=r.spending_day,i=c.breakfast,o=c.lunch,m=c.dinner,d=c.bed;""===i?s(Object(E.a)({},r,{spending_error:"please enter breakfast place"})):""===o?s(Object(E.a)({},r,{spending_error:"please enter lunch place"})):""===m?s(Object(E.a)({},r,{spending_error:"please enter Dinner place"})):""===d?s(Object(E.a)({},r,{spending_error:"please enter sleeping place"})):Ua(a,t)?0===Ma(n,a)?s(Object(E.a)({},r,{spending_error:Wa(a)+" is the initial date. Initial date information is saved in the above input box please fill out the information accordingly"})):0===Ma(t,l)&&s(Object(E.a)({},r,{spending_error:Wa(t)+" is the return date. Return date information is saved in the below input box please fill out the information accordingly"})):s(Object(E.a)({},r,{spending_error:"Invalid duration between from date and upto date"})),!!(Ua(a,t)&&function(){var e=k(),a=e.from_date,t=e.upto_date,n=e.initial_date,l=e.return_date;return Ua(n,a)?Ua(t,l)||s(Object(E.a)({},r,{spending_error:"Invalid date duration please insert Upto date properly"})):s(Object(E.a)({},r,{spending_error:"Invalid date duration please insert From date properly"})),!!Ua(n,a)&&!!Ua(t,l)}()&&function(){var e=k().from_date;return r.spending_days.map((function(a){Ma(a.from_date,a.upto_date)>=Ma(a.from_date,e)&&s(Object(E.a)({},r,{spending_error:"Invalid date the date you entered is between two dates you previously entered please enter date again"}))})),!r.spending_days.find((function(a){return Ma(a.from_date,a.upto_date)>=Ma(a.from_date,e)}))}()&&0!==Ma(n,a)&&0!==Ma(t,l))&&(""!==i&&""!==o&&""!==m)&&a&&t&&s((function(e){return Object(E.a)({},e,{spending_error:"",spending_days:[].concat(Object(b.a)(e.spending_days),[{_id:Ca(),from_date:a,upto_date:t,breakfast:i,lunch:o,dinner:m,bed:d}])})}))},D=r.spending_days.length?r.spending_days.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},Wa(e.from_date)),l.a.createElement("td",{className:"text-center"},Wa(e.upto_date)),l.a.createElement("td",{className:"text-center"},Ma(e.from_date,e.upto_date)+1),l.a.createElement("td",{className:"text-center"},e.breakfast),l.a.createElement("td",{className:"text-center"},e.lunch),l.a.createElement("td",{className:"text-center"},e.dinner),l.a.createElement("td",null,e.bed),l.a.createElement("td",{className:"text-center",onClick:function(){return a=e._id,s((function(e){return Object(E.a)({},e,{spending_days:Object(b.a)(e.spending_days.filter((function(e){return e._id!==a})))})}));var a}},l.a.createElement(f.a,{icon:g.Eb,className:"text-danger fa-2x"})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:8},l.a.createElement("p",{className:"text-center text-danger font-weight-bold"},"No spending days added yet")));return l.a.createElement("form",{onSubmit:function(e){return function(e){var t,n,l,c,i,o,m,d,u,p,f,g,_,v,h,N,x,y;return S.a.async((function(w){for(;;)switch(w.prev=w.next){case 0:return e.preventDefault(),s(Object(E.a)({},r,{},ka("initial","updating... please wait"))),w.next=4,S.a.awrap(qa());case 4:if(w.sent,t=Object(b.a)(r.spending_days.map((function(e){return{from_date:e.from_date,upto_date:e.upto_date,breakfast:e.breakfast,lunch:e.lunch,dinner:e.dinner,bed:e.bed}}))),n=a._id,l=r.initial_time,c=r.initial_day,i=r.return_time,o=r.petrol,m=r.maintainace,d=r.other,u=r.save_options,p=r.approval_manager,f=r.return_day,g=k(),_=g.initial_date,v=g.return_date,null!==_&&null!==v){w.next=13;break}s(Object(E.a)({},r,{},ka("error","Invalid return or initial date"))),w.next=34;break;case 13:if(Ua(_,v)){w.next=17;break}s(Object(E.a)({},r,{},ka("error","Invalid date duration between initial date and return date"))),w.next=34;break;case 17:if(!C().check){w.next=21;break}s(Object(E.a)({},r,{},ka("error","Missing "+C().days+" days of deduction.Please add days to deduct"))),w.next=34;break;case 21:return h=Object(E.a)({},a,{_id:n,initial_time:l,initial_day:c,initial_date:_,spending_days:t,return_time:i,return_date:v,petrol:o,maintainace:m,other:d,save_options:u,approval_manager:p},pt(),{return_day:f}),w.prev=22,N=Object(T.encryptObject)(h),w.next=26,S.a.awrap(L.a.put(R.host+"/deductions",{data:N}));case 26:x=w.sent,(y=Object(T.decrptObject)(x.data)).error?s(Object(E.a)({},r,{},ka("error","Error while saving... Internal server error please try again later"))):!y.error&&y.updated&&s(Object(E.a)({},r,{},ka("success","deduction updated successfully"))),w.next=34;break;case 31:w.prev=31,w.t0=w.catch(22),s(Object(E.a)({},r,{},ka("error","Error while saving... server is not active or responding please contact admin")));case 34:case"end":return w.stop()}}),null,null,[[22,31]])}(e)}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 card"},l.a.createElement("h5",{className:"text-center font-weight-bold"},"Initial day"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Initial date"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_date:Object(E.a)({},r.initial_date,{day:parseInt(e.target.value)})}))},value:r.initial_date.day,required:!0}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_date:Object(E.a)({},r.initial_date,{month:parseInt(e.target.value)})}))},value:r.initial_date.month,required:!0},l.a.createElement("option",{value:""},"Enter month"),w.map((function(e){return l.a.createElement("option",{value:e.number,key:e.number},e.month)}))),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_date:Object(E.a)({},r.initial_date,{year:parseInt(e.target.value)})}))},value:r.initial_date.year,required:!0},l.a.createElement("option",{value:""},"Enter year"),O.map((function(e){return l.a.createElement("option",{value:e,key:e},e)}))),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Initial time"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"hr",min:1,max:12,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{initial_time:Object(E.a)({},r.initial_time,{hour:e.target.value})}))},required:!0,value:r.initial_time.hour}),l.a.createElement("h4",{className:"text-center font-weight-bold my-auto mx-2"},":"),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"min",min:0,max:60,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_time:Object(E.a)({},r.initial_time,{min:e.target.value})}))},required:!0,value:r.initial_time.min}))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Breakfast place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.w,className:"text-info fa-2x mx-2 my-auto"}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_day:Object(E.a)({},r.initial_day,{breakfast:e.target.value})}))},value:r.initial_day.breakfast,required:!!r.spending_days.length})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Lunch place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.hb,className:"text-info fa-2x mx-2 my-auto"}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_day:Object(E.a)({},r.initial_day,{lunch:e.target.value})}))},value:r.initial_day.lunch,required:!0})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Dinner place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Hb,className:"text-info fa-2x mx-2 my-auto"}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_day:Object(E.a)({},r.initial_day,{dinner:e.target.value})}))},value:r.initial_day.dinner,required:!!r.spending_days.length})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"sleeping place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.lb,className:"text-info fa-2x mx-2 my-auto"}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",initial_day:Object(E.a)({},r.initial_day,{bed:e.target.value})}))},value:r.initial_day.bed,required:!!r.spending_days.length}))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h5",{className:"text-center font-weight-bold"},"Spending days"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"From day"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,onChange:function(e){return parseInt(e.target.value)>30&&parseInt(e.target.value)<0?s(Object(E.a)({},r,{spending_error:"Invalid date duration"})):s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_from:Object(E.a)({},r.spending_from,{day:parseInt(e.target.value)})}))}}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_from:Object(E.a)({},r.spending_from,{month:parseInt(e.target.value)})}))}},l.a.createElement("option",{value:""},"Enter month"),w.map((function(e){return l.a.createElement("option",{value:e.number,key:e.number},e.month)}))),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_from:Object(E.a)({},r.spending_from,{year:parseInt(e.target.value)})}))}},l.a.createElement("option",{value:""},"Enter year"),O.map((function(e){return l.a.createElement("option",{value:e,key:e},e)}))),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),l.a.createElement("p",{className:"font-weight-bold my-2  text-center"},"Upto day"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,onChange:function(e){return parseInt(e.target.value)>30&&parseInt(e.target.value)<0?s(Object(E.a)({},r,{spending_error:"Invalid date duration"})):s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_upto:Object(E.a)({},r.spending_upto,{day:parseInt(e.target.value)})}))}}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_upto:Object(E.a)({},r.spending_upto,{month:parseInt(e.target.value)})}))}},l.a.createElement("option",{value:""},"Enter month"),w.map((function(e){return l.a.createElement("option",{value:e.number,key:e.number},e.month)}))),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_upto:Object(E.a)({},r.spending_upto,{year:parseInt(e.target.value)})}))}},l.a.createElement("option",{value:""},"Enter year"),O.map((function(e){return l.a.createElement("option",{value:e,key:e},e)}))),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C"))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Breakfast place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.w,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_day:Object(E.a)({},r.spending_day,{breakfast:e.target.value})}))}})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Lunch place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.hb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_day:Object(E.a)({},r.spending_day,{lunch:e.target.value})}))}})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Dinner place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Hb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_day:Object(E.a)({},r.spending_day,{dinner:e.target.value})}))}})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"sleeping place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.lb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",spending_day:Object(E.a)({},r.spending_day,{bed:e.target.value})}))}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 mt-3"},l.a.createElement("p",{className:"text-center text-danger font-weight-bold"},r.spending_error),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"From-date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"Upto-date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.n,className:"mx-2"}),"Duration"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.w,className:"mx-2"}),"Breakfast"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.hb,className:"mx-2"}),"Lunch"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Gb,className:"mx-2"}),"Dinner"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.lb,className:"mx-2"}),"Bed"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.tb,className:"mx-2"}),"Remove"))),l.a.createElement(xe.h,null,D))),l.a.createElement("div",{className:"col-lg-4"}),l.a.createElement("div",{className:"col-lg-4 mb-3"},l.a.createElement("div",{className:"btn btn-info",onClick:function(){return A()}},l.a.createElement(f.a,{icon:g.ib,className:"mx-2 fa-2x"}),"Add to deduct")),l.a.createElement("div",{className:"col-lg-4 mb-3"},l.a.createElement("div",{className:"btn btn-info",onClick:function(){return s(Object(E.a)({},r,{spending_error:"",spending_days:a.spending_days}))}},"Reset data")),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h5",{className:"text-center font-weight-bold"},"Return Day")),l.a.createElement("div",{className:"col-lg-6 mt-3"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Return Date"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_date:Object(E.a)({},r.return_date,{day:parseInt(e.target.value)})}))},value:r.return_date.day,required:!0}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_date:Object(E.a)({},r.return_date,{month:parseInt(e.target.value)})}))},value:r.return_date.month,required:!0},l.a.createElement("option",{value:""},"Enter month"),w.map((function(e){return l.a.createElement("option",{value:e.number,key:e.number},e.month)}))),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_date:Object(E.a)({},r.return_date,{year:parseInt(e.target.value)})}))},value:r.return_date.year,required:!0},l.a.createElement("option",{value:""},"Enter year"),O.map((function(e){return l.a.createElement("option",{value:e,key:e},e)}))),l.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Return time"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.m,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"hr",min:1,max:12,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_time:Object(E.a)({},r.return_time,{hour:e.target.value})}))},required:!0,value:r.return_time.hour}),l.a.createElement("h4",{className:"text-center font-weight-bold my-auto mx-2"},":"),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"min",min:0,max:60,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_time:Object(E.a)({},r.return_time,{min:e.target.value})}))},required:!0,value:r.return_time.min}))),l.a.createElement("div",{className:"col-lg-6 mt-3"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Breakfast place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.w,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_day:Object(E.a)({},r.return_day,{breakfast:e.target.value})}))},value:r.return_day.breakfast})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Lunch place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.hb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_day:Object(E.a)({},r.return_day,{lunch:e.target.value})}))},value:r.return_day.lunch})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Dinner place"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Gb,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"input place",onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{spending_error:"",return_day:Object(E.a)({},r.return_day,{dinner:e.target.value})}))},value:r.return_day.dinner}))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"maintainace and repair amount"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Ib,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input amount",min:0,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{maintainace:e.target.value}))},value:r.maintainace})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Oil and petrol spendings"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.K,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input amount",min:0,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{petrol:e.target.value}))},value:r.petrol})),l.a.createElement("p",{className:"font-weight-bold text-center mx-2"},"Other spendings"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.W,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"input amount",min:0,onChange:function(e){return s(Object(E.a)({},r,{},ka("default"),{other:e.target.value}))},value:r.other}))),l.a.createElement("div",{className:"col-lg-6"}),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},r.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},r.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},r.process),r.loading?l.a.createElement(fe,null):l.a.createElement("p",null))),l.a.createElement("div",{className:"col-lg-4"},0===y.progressTotall(a._id)?l.a.createElement("p",{className:"font-weight-bold text-center"},"Approve to manager"):l.a.createElement("p",null),0===y.progressTotall(a._id)?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.rb,className:" fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return s(Object(E.a)({},r,{approval_manager:Object(E.a)({},r.approval_manager,{emp_id:e.target.value})},ka("default")))},required:!0,value:r.approval_manager.emp_id},l.a.createElement("option",{value:""},"Enter Approving Manager"),j.length?j.map((function(e){return l.a.createElement("option",{value:e.emp_id,key:e._id},y.Name(e.emp_id)," (",y.UserRole(e.emp_id),")")})):l.a.createElement("option",{value:"",className:"text-danger font-weight-bold"},"No available Manager registered"))):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("p",{className:"text-center font-weight-bold"},"Save options"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.nb,className:" fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",value:r.save_options,onChange:function(e){return"draft"===e.target.value?s(Object(E.a)({},r,{save_options:e.target.value,approval_manager:{emp_id:""}})):s(Object(E.a)({},r,{save_options:e.target.value}))}},l.a.createElement("option",{value:"approve"},"Save and start approving"),l.a.createElement("option",{value:"draft"},"Save as draft")))),l.a.createElement("div",{className:"col-lg-4"},"draft"===r.save_options&&0===y.progress(a._id)?l.a.createElement("button",{type:"submit",className:"btn btn-large btn-primary ml-4 my-auto",disabled:r.disable},"update"):l.a.createElement("button",{type:"submit",className:"btn btn-large btn-primary ml-4 mx-2 my-auto",disabled:r.disable},"update"))))))))))},wn=function(e){var a=Object(n.useState)({progress:"",disable:!1,loading:!1,deleted:!1}),t=Object(i.a)(a,2),c=t[0],r=t[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},c.deleted?l.a.createElement("h5",{className:"text-center text-success"},l.a.createElement(f.a,{icon:g.r})," Deleted"):l.a.createElement("h5",{className:"text-center text-info"},c.progress),l.a.createElement("p",{className:"text-center"},c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)))),l.a.createElement("div",{className:"row float-right"},c.deleted?l.a.createElement("button",{className:"btn btn-info float-right mx-2",onClick:function(){return e.fetch()},disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Close"):l.a.createElement("button",{className:"btn btn-info float-right",onClick:function(){return e.close()},disabled:c.disable},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fx-2"}),"Cancel"),c.deleted?l.a.createElement("p",null):l.a.createElement("button",{className:"btn btn-primary float-right mx-2",onClick:function(){return function(){var a,t,n,l;return S.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return r(Object(E.a)({},c,{progress:"Deleting",disable:!0,loading:!0})),a=e.deduction._id,t=Object(T.encryptObject)(Object(E.a)({_id:a},pt())),i.next=5,S.a.awrap(L.a.put(R.host+"/delDeduction",{data:t}));case 5:n=i.sent,l=Object(T.decrptObject)(n.data);try{l.error?r(Object(E.a)({},c,{progress:"unable to delete try again",disable:!1,loading:!1})):l.deleted&&!l.error&&r(Object(E.a)({},c,{progress:"Delteted sucessfully",disable:!1,loading:!1,deleted:!0,cancel:"close"}))}catch(s){r(Object(E.a)({},c,{progress:"Editing failed server is not active try again later or contact system admin to activate the server",disable:!1,loading:!1}))}case 8:case"end":return i.stop()}}))}()},disabled:c.disable},l.a.createElement(f.a,{icon:g.r,className:"mx-2 fx-2"}),"Yes")))},On=function(e){var a=e.deduction,t=Object(n.useState)({approved:"",comment:"",check:{Approved:!1,unApproved:!1,comment:!1},process:"",error:"",disable:!1,loading:!1,success:""}),c=Object(i.a)(t,2),r=c[0],s=c[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 text-center"},l.a.createElement("div",{className:"card"},l.a.createElement("form",{onSubmit:function(e){return function(e){var t,n,l,c;return S.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e.preventDefault(),i.next=3,S.a.awrap(qa());case 3:return t=i.sent,i.prev=4,s(Object(E.a)({},r,{error:"",process:"Taking action please wait",loading:!0,success:"",disable:!0})),n=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id},a,{approval_manager:Object(E.a)({},a.approval_manager,{comment:r.comment,approve:r.approved,approved_date:t})})),i.next=9,S.a.awrap(L.a.put(R.host+"/deductions",{data:n}));case 9:l=i.sent,(c=Object(T.decrptObject)(l.data)).error?s(Object(E.a)({},r,{error:"unable to take action try again later",process:"",loading:!1,success:"",disable:!1})):!c.error&&c.updated&&s(Object(E.a)({},r,{error:"",success:"Action made successfully",process:"",loading:!1,disable:!1})),i.next=18;break;case 14:i.prev=14,i.t0=i.catch(4),console.log(i.t0),s(Object(E.a)({},r,{error:"error while taking action server is not responding",success:"",process:"",loading:!1,disable:!1}));case 18:case"end":return i.stop()}}),null,null,[[4,14]])}(e)}},l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.r,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:r.check.Approved,className:"my-auto mx-3",onChange:function(e){return s((function(e){return Object(E.a)({},r,{approved:"Approved"===e.approved?"":"Approved",check:{Approved:!e.check.Approved,unApproved:!1,comment:!1}})}))}}),"Approve"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:r.check.comment,className:"my-auto mx-3",onChange:function(e){return s((function(e){return Object(E.a)({},r,{approved:"commented"===e.approved?"":"commented",check:{Approved:!1,unApproved:!1,comment:!e.check.comment}})}))}}),"Comment"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Eb,className:"text-danger fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:r.check.unApproved,className:"my-auto mx-3",onChange:function(e){return s((function(e){return Object(E.a)({},r,{approved:"unApproved"===e.approved?"":"unApproved",check:{Approved:!1,unApproved:!e.check.unApproved,comment:!1}})}))}}),"un Approve"),r.check.comment&&"commented"===r.approved||r.check.unApproved&&"unApproved"===r.approved?l.a.createElement("p",{className:"font-weight-bold text-center"},"please write a comment"):l.a.createElement("p",null),r.check.comment&&"commented"===r.approved||r.check.unApproved&&"unApproved"===r.approved?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("textarea",{className:"input-field form-control my-auto",type:"text",placeholder:"write comment",onChange:function(e){s(Object(E.a)({},r,{comment:e.target.value}))},required:!0,cols:"20",rows:"5"})):l.a.createElement("p",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},r.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},r.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},r.process),r.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),r.check.Approved||r.check.comment||r.check.unApproved?l.a.createElement("button",{type:"submit",className:"float-right btn btn-info",disabled:r.disable},"Done"):l.a.createElement("p",null))))))},jn=function(e){var a=Object(n.useState)(Object(E.a)({approved:"",comment:"",check:{Approved:!1,unApproved:!1,comment:!1},f_employee:""},ka("default"))),t=Object(i.a)(a,2),c=t[0],r=t[1],s=Object(n.useContext)(d),o=s.allowances,m=(s.dispatchDeductions,s.deductions),u=s.employees,p=s.users,b=o.state,_=(o.loading,o.error,u.state),v=(u.loading,u.error,p.state),h=(p.loading,p.error,m.state),N=(m.loading,m.error,new vn(h,b,_,v)),x=new w(v,_),y=N.getEmp_id(),O=e.deduction;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 text-center"},l.a.createElement("div",{className:"card"},l.a.createElement("form",{onSubmit:function(e){return function(e){var a,t,n,l;return S.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e.preventDefault(),i.next=3,S.a.awrap(qa());case 3:return a=i.sent,i.prev=4,r(Object(E.a)({},c,{error:"",process:"Forwarding please wait...",loading:!0,success:"",disable:!0})),t=Object(T.encryptObject)(Object(E.a)({},pt(),{},O,{_id:O._id,f_tl_pending:Object(E.a)({},O.f_tl_pending,{emp_id:y,approve:c.approved,comment:c.comment,approved_date:a}),f_employee:Object(E.a)({},O.f_employee,{emp_id:c.f_employee,accepted_date:a})})),i.next=9,S.a.awrap(L.a.put(R.host+"/deductions",{data:t}));case 9:n=i.sent,l=Object(T.decrptObject)(n.data),console.log(l),l.error?r(Object(E.a)({},c,{error:"unable to take action try again later",process:"",loading:!1,success:"",disable:!1})):!l.error&&l.updated&&r(Object(E.a)({},c,{error:"",success:"Action made successfully",process:"",loading:!1,disable:!1})),i.next=19;break;case 15:i.prev=15,i.t0=i.catch(4),console.log(i.t0),r(Object(E.a)({},c,{error:"error while taking action server is not responding",success:"",process:"",loading:!1,disable:!1}));case 19:case"end":return i.stop()}}),null,null,[[4,15]])}(e)}},l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.r,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:c.check.Approved,className:"my-auto mx-3",onChange:function(e){return r((function(e){return Object(E.a)({},c,{approved:"Approved"===e.approved?"":"Approved",check:{Approved:!e.check.Approved,unApproved:!1,comment:!1}})}))}}),"Approve"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:c.check.comment,className:"my-auto mx-3",onChange:function(e){return r((function(e){return Object(E.a)({},c,{approved:"commented"===e.approved?"":"commented",check:{Approved:!1,unApproved:!1,comment:!e.check.comment}})}))}}),"Comment"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Eb,className:"text-danger fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:c.check.unApproved,className:"my-auto mx-3",onChange:function(e){return r((function(e){return Object(E.a)({},c,{approved:"unApproved"===e.approved?"":"unApproved",check:{Approved:!1,unApproved:!e.check.unApproved,comment:!1}})}))}}),"un Approve"),c.check.comment&&"commented"===c.approved||c.check.unApproved&&"unApproved"===c.approved?l.a.createElement("p",{className:"font-weight-bold text-center"},"please write a comment"):l.a.createElement("p",null),c.check.comment&&"commented"===c.approved||c.check.unApproved&&"unApproved"===c.approved?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("textarea",{className:"input-field form-control my-auto",type:"text",placeholder:"write comment",onChange:function(e){r(Object(E.a)({},c,{comment:e.target.value}))},required:!0,cols:"20",rows:"5"})):l.a.createElement("p",null),c.check.Approved&&"Approved"===c.approved?l.a.createElement("div",null,l.a.createElement("p",{className:"font-weight-bold text-center"},"please Select Employee to do the calculation"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.J,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return r(Object(E.a)({},c,{f_employee:e.target.value}))},required:!0},l.a.createElement("option",{value:""},"Select Employee"),x.F_Employee().length?x.F_Employee().map((function(e){return l.a.createElement("option",{value:e.emp_id,key:e._id},x.Name(e.emp_id))})):l.a.createElement("option",{value:"",className:"text-danger"},"No finance employee availiable")))):l.a.createElement("p",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},c.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},c.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},c.process),c.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),l.a.createElement("button",{type:"submit",className:"float-right btn btn-info",disabled:c.disable},"Done"))))))},kn=t(679),Cn=t(102),An=(t(147),function(e){function a(e,t,n,l,c,r,i){var s;return Object(_.a)(this,a),(s=Object(v.a)(this,Object(h.a)(a).call(this,e,t,n,l))).scale=function(e,a){return Da(s.Calculation.scale(e,a))},s.singleBreakfast=function(e){return Da(s.Calculation.breakfastAmount(1,e))},s.singleLunch=function(e){return Da(s.Calculation.lunchAmount(1,e))},s.singleDinner=function(e){return Da(s.Calculation.dinnerAmount(1,e))},s.singleBed=function(e){return Da(s.Calculation.bedAmount(1,e))},s.climateLevel=function(e){return s.Calculation.climateAllowanceLevel(e)},s.breakFastClimate=function(e,a){return Da(parseFloat(s.climateLevel(e)/100*s.singleBreakfast(a)))},s.lunchClimate=function(e,a){return Da(parseFloat(s.climateLevel(e)/100*s.singleLunch(a)))},s.bedClimate=function(e,a){return Da(parseFloat(s.climateLevel(e)/100*s.singleBed(a)))},s.dinnerClimate=function(e,a){return Da(parseFloat(s.climateLevel(e)/100*s.singleDinner(a)))},s.spendingBreakfast=function(e,a,t){return Da(s.Calculation.breakfastAmount(s.sDuration(e,a),t))},s.spendingLunch=function(e,a,t){return Da(s.Calculation.lunchAmount(s.sDuration(e,a),t))},s.spendingDinner=function(e,a,t){return Da(s.Calculation.dinnerAmount(s.sDuration(e,a),t))},s.spendingBed=function(e,a,t){return Da(s.Calculation.bedAmount(s.sDuration(e,a),t))},s.sBreakFastClimate=function(e,a,t,n){return Da(parseFloat(s.climateLevel(a)/100*s.spendingBreakfast(e,t,n)))},s.sLunchClimate=function(e,a,t,n){return Da(parseFloat(s.climateLevel(a)/100*s.spendingLunch(e,t,n)))},s.sDinnerClimate=function(e,a,t,n){return Da(parseFloat(s.climateLevel(a)/100*s.spendingDinner(e,t,n)))},s.sBedClimate=function(e,a,t,n){return Da(parseFloat(s.climateLevel(a)/100*s.spendingBed(e,t,n)))},s.places=c,s.climatePlaces=r,s.config=i,s.Calculation=new Gt(c,t,n,l,i,r),s}return Object(N.a)(a,e),a}(vn)),Dn=function(e,a,t,n){return{breakfast:"breakfast"===a?Object(E.a)({},n.breakfast,{place_id:"",project_allowance:e,scale:t}):n.breakfast,lunch:"lunch"===a?Object(E.a)({},n.lunch,{place_id:"",project_allowance:e,scale:t}):n.lunch,dinner:"dinner"===a?Object(E.a)({},n.dinner,{place_id:"",project_allowance:e,scale:t}):n.dinner,bed:"bed"===a?Object(E.a)({},n.bed,{place_id:"",project_allowance:e,scale:t}):n.bed}},Sn=function(e,a,t){return{breakfast:"breakfast"===a?Object(E.a)({},t.breakfast,{climate_place:e}):t.breakfast,lunch:"lunch"===a?Object(E.a)({},t.lunch,{climate_place:e}):t.lunch,dinner:"dinner"===a?Object(E.a)({},t.dinner,{climate_place:e}):t.dinner,bed:"bed"===a?Object(E.a)({},t.bed,{climate_place:e}):t.bed}},Pn=function(e,a){return{breakfast:"breakfast"===e?Object(E.a)({},a.breakfast,{place_id:"",project_allowance:"",scale:0}):a.breakfast,lunch:"lunch"===e?Object(E.a)({},a.lunch,{place_id:"",project_allowance:"",scale:0}):a.lunch,dinner:"dinner"===e?Object(E.a)({},a.dinner,{place_id:"",project_allowance:"",scale:0}):a.dinner,bed:"bed"===e?Object(E.a)({},a.bed,{place_id:"",project_allowance:"",scale:0}):a.bed}},Ln=function(e,a){return{breakfast:"breakfast"===e?Object(E.a)({},a.breakfast,{climate_place:""}):a.breakfast,lunch:"lunch"===e?Object(E.a)({},a.lunch,{climate_place:""}):a.lunch,dinner:"dinner"===e?Object(E.a)({},a.dinner,{climate_place:""}):a.dinner,bed:"bed"===e?Object(E.a)({},a.bed,{climate_place:""}):a.bed}},Rn=function(e,a,t,n){return{breakfast:"breakfast"===a?Object(E.a)({},n.breakfast,{place_id:e,project_allowance:"",scale:t}):n.breakfast,lunch:"lunch"===a?Object(E.a)({},n.lunch,{place_id:e,project_allowance:"",scale:t}):n.lunch,dinner:"dinner"===a?Object(E.a)({},n.dinner,{place_id:e,project_allowance:"",scale:t}):n.dinner,bed:"bed"===a?Object(E.a)({},n.bed,{place_id:e,project_allowance:"",scale:t}):n.bed}},Tn=function(e,a,t){var n=t.filter((function(t){return t._id!==e&&t.type!==a||t._id===e&&t.type!==a||t._id!==e&&t.type===a})),l=t.find((function(t){return t._id===e&&t.type===a}));return{spending_day:l||{_id:"",type:"",duration:"",place_id:"",climate_place:"",project_allowance:"",scale:0},spending_days:n}},In=function(e,a,t,n,l){var c=Tn(e,t,l),r=c.spending_day,i=c.spending_days;return[].concat(Object(b.a)(i),[{_id:e,type:t,duration:r.duration,place_id:"",climate_place:r.climate_place,project_allowance:a,scale:n}])},Fn=function(e,a,t,n,l){var c=Tn(e,t,l),r=c.spending_day,i=c.spending_days;return[].concat(Object(b.a)(i),[{_id:e,type:t,duration:r.duration,place_id:a,climate_place:r.climate_place,project_allowance:"",scale:n}])},Bn=function(e,a,t,n){var l=Tn(e,t,n),c=l.spending_day,r=l.spending_days;return[].concat(Object(b.a)(r),[{_id:e,type:t,duration:c.duration,place_id:c.place_id,climate_place:a,project_allowance:c.project_allowance,scale:c.scale}])},qn=function(e,a,t){var n=Tn(e,a,t),l=n.spending_day,c=n.spending_days;return[].concat(Object(b.a)(c),[{_id:e,type:a,duration:l.duration,place_id:"",climate_place:l.climate_place,project_allowance:"",scale:0}])},Mn=function(e,a,t){var n=Tn(e,a,t),l=n.spending_day,c=n.spending_days;return[].concat(Object(b.a)(c),[{_id:e,type:a,duration:l.duration,place_id:l.place_id,climate_place:"",project_allowance:l.project_allowance,scale:l.scale}])},Un=Object(o.withRouter)((function(e){var a=e._id,t=Object(n.useState)(Object(E.a)({places:[],official_places:[],check:{inAA:!1,outAA:!0},place_id:"",place_type:"",region:"",climate_places:[],c_initial_day:{breakfast:{place_id:"",climate_place:"",project_allowance:"",scale:0},lunch:{place_id:"",climate_place:"",project_allowance:"",scale:0},dinner:{place_id:"",climate_place:"",project_allowance:"",scale:0},bed:{place_id:"",climate_place:"",project_allowance:"",scale:0}},c_spending_days:[],c_return_day:{breakfast:{place_id:"",climate_place:"",project_allowance:"",scale:0},lunch:{place_id:"",climate_place:"",project_allowance:"",scale:0},dinner:{place_id:"",climate_place:"",project_allowance:"",scale:0}},save_options:"Approve"},ka("default"),{day_Places:[],Climate_Places:[]})),c=Object(i.a)(t,2),r=c[0],o=c[1],m=r.c_initial_day,p=m.breakfast,_=m.lunch,v=m.dinner,h=m.bed,N=r.c_return_day,x=N.breakfast,y=N.lunch,O=N.dinner,j=Object(n.useContext)(d),k=j.allowances,C=j.deductions,A=j.employees,D=j.users,P=j.place,I=j.fieldEmployees,F=j.climatePlaces,B=j.config,q=j.dispatchDeductions,M=k.state,U=k.loading,G=k.error,Y=A.state,z=A.loading,W=A.error,H=D.state,J=D.loading,V=D.error,Z=B.loading,K=C.state,Q=C.loading,X=C.error,$=new An(K,M,Y,H,P.state,F.state,B.length||!Z?B.state[0]:{breakfast:0,lunch:0,dinner:0,bed:0}),ee=new Yt(I.state),ae=new Ut(P.state),te=new Mt(F.state),ne=$.findDeductions(a)?$.findDeductions(a):{creater:"",spending_days:[],initial_day:{breakfast:"",lunch:"",dinner:"",bed:""},return_day:{breakfast:"",lunch:"",dinner:""},initial_time:{min:0,hour:0},return_time:{min:0,hour:0}},le=ne.creater,ce=$.isOfficial(le),re=$.Salary(le),se=ee.faCheck(le),oe=(ee.faIn_A_A(le),ee.faOut_A_A(le),r.check.inAA?ee.faIn_A_A(le):r.check.outAA?ee.faOut_A_A(le):0),me=(ce?ae.officialPlaces():ae.employeePlaces(),function(e){return se?"":ce?ae.findByName(e,"official")?ae.findByName(e,"official")._id:"":ae.findByName(e,"employee")?ae.findByName(e,"employee")._id:""}),de=function(e){return se?""!==e?ee.faOut_A_A(le):0:ce?ae.findByName(e,"official")?$.scale(le,ae.findByName(e,"official")._id):0:ae.findByName(e,"employee")?$.scale(le,ae.findByName(e,"employee")._id):0},ue=function(e){return se&&""!==e?"Outside":""},pe=function(e){return te.findSinglePlace(e)?te.findSinglePlace(e)._id:""},Ee=new w(H,Y);Object(n.useEffect)((function(){Q?Aa():(Ee.isFinanceEmployee(),Aa()),ie(q),document.title="Do deduction";var e=[];ne.spending_days.map((function(t){e.push({_id:t._id,type:"breakfast",duration:$.sDuration(a,t._id),place_id:me(t.breakfast),climate_place:pe(t.breakfast),project_allowance:ue(t.breakfast),scale:de(t.breakfast)},{_id:t._id,type:"lunch",duration:$.sDuration(a,t._id),place_id:me(t.lunch),climate_place:pe(t.lunch),project_allowance:ue(t.lunch),scale:de(t.lunch)},{_id:t._id,type:"dinner",duration:$.sDuration(a,t._id),place_id:me(t.dinner),climate_place:pe(t.dinner),project_allowance:ue(t.dinner),scale:de(t.dinner)},{_id:t._id,type:"bed",duration:$.sDuration(a,t._id),place_id:me(t.bed),climate_place:pe(t.bed),project_allowance:ue(t.bed),scale:de(t.bed)})}));var t={breakfast:{place_id:me(ne.initial_day.breakfast),climate_place:pe(ne.initial_day.breakfast),project_allowance:ue(ne.initial_day.breakfast),scale:de(ne.initial_day.breakfast)},lunch:{place_id:me(ne.initial_day.lunch),climate_place:pe(ne.initial_day.lunch),project_allowance:ue(ne.initial_day.lunch),scale:de(ne.initial_day.lunch)},dinner:{place_id:me(ne.initial_day.dinner),climate_place:pe(ne.initial_day.dinner),project_allowance:ue(ne.initial_day.dinner),scale:de(ne.initial_day.dinner)},bed:{place_id:me(ne.initial_day.bed),climate_place:pe(ne.initial_day.bed),project_allowance:ue(ne.initial_day.bed),scale:de(ne.initial_day.bed)}},n={breakfast:{place_id:me(ne.return_day.breakfast),climate_place:pe(ne.return_day.breakfast),project_allowance:ue(ne.return_day.breakfast),scale:de(ne.return_day.breakfast)},lunch:{place_id:me(ne.return_day.lunch),climate_place:pe(ne.return_day.lunch),project_allowance:ue(ne.return_day.lunch),scale:de(ne.return_day.lunch)},dinner:{place_id:me(ne.return_day.dinner),climate_place:pe(ne.return_day.dinner),project_allowance:ue(ne.return_day.dinner),scale:de(ne.return_day.dinner)}};o(Object(E.a)({},r,{c_spending_days:e,c_initial_day:t,c_return_day:n}))}),[Q,P.loading,F.loading]);var ge=function(e,a){if(("rural_kebele"===a||"rural_kebele"===r.place_type)&&"region"===e||"rural_kebele"===a)o((function(t){return Object(E.a)({},r,{scale:100,place_type:"rural_kebele",place_id:"",region:"region"===e?a:t.region},ka("default"))}));else if("region"===e){var t=ae.findByRegionAndType(a,r.place_type),n=t?$.scale(le,t._id):0;o(Object(E.a)({},r,{scale:n,region:a,place_id:t?t._id:"",Place_Name:t?t.name:"",error:"",success:"",process:""}))}else if("place_type"===e){var l=ae.findByRegionAndType(r.region,a),c=l?$.scale(le,l._id):0;o(Object(E.a)({},r,{scale:c,place_type:a,Place_Name:l?l.name:"",place_id:l?l._id:""},ka("default")))}},be=r.climate_places.length?r.climate_places.map((function(e){return l.a.createElement("tr",{place:e,key:e._id},l.a.createElement("td",null,e.general_name),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.level),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-info",onClick:function(){return la(e._id)}},l.a.createElement(f.a,{icon:g.ib}),"set")))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:3,className:"text-danger font-weight-bold text-center"},"No climate allowance places found")),_e=r.official_places.length?r.official_places.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.region),l.a.createElement("td",null,e.type),l.a.createElement("td",null,$.scale(le,e._id)),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-info",onClick:function(){return na(e._id,$.scale(le,e._id))}},l.a.createElement(f.a,{icon:g.ib}),"set")))})):l.a.createElement("td",{colSpan:4,className:"text-danger font-weight-bold text-center"},"No official places found"),ve=function(e){return o(Object(E.a)({},r,{c_initial_day:Pn(e,r.c_initial_day)},ka("default")))},he=function(e){return o(Object(E.a)({},r,{c_initial_day:Ln(e,r.c_initial_day)},ka("default")))},Ne=function(e,a){return r.c_spending_days.find((function(t){return t._id===e&&t.type===a}))},ye=function(e,a){return o(Object(E.a)({},r,{c_spending_days:qn(e,a,r.c_spending_days)},ka("default")))},we=function(e,a){return o(Object(E.a)({},r,{c_spending_days:Mn(e,a,r.c_spending_days)},ka("default")))},Oe=function(e){return o(Object(E.a)({},r,{c_return_day:Pn(e,r.c_return_day)},ka("default")))},je=function(e){return o(Object(E.a)({},r,{c_return_day:Ln(e,r.c_return_day)},ka("default")))},ke=$.singleBreakfast(p.scale)+$.singleLunch(_.scale)+$.singleDinner(v.scale)+$.singleBed(h.scale),Ce=$.singleBreakfast(x.scale)+$.singleLunch(y.scale)+$.singleDinner(O.scale),Ae=0,De=0,Se=0,Pe=0;ne.spending_days.map((function(e){Ae+=$.spendingBreakfast(a,e._id,Ne(e._id,"breakfast")?Ne(e._id,"breakfast").scale:0),De+=$.spendingLunch(a,e._id,Ne(e._id,"lunch")?Ne(e._id,"lunch").scale:0),Se+=$.spendingDinner(a,e._id,Ne(e._id,"dinner")?Ne(e._id,"dinner").scale:0),Pe+=$.spendingBed(a,e._id,Ne(e._id,"bed")?Ne(e._id,"bed").scale:0)}));var Le=Ae+De+Se+Pe,Re=Math.round(100*(Le+ke+Ce))/100,Te=$.breakFastClimate(p.climate_place,p.scale)+$.lunchClimate(_.climate_place,_.scale)+$.dinnerClimate(v.climate_place,v.scale)+$.bedClimate(h.climate_place,h.scale),Ie=$.breakFastClimate(x.climate_place,x.scale)+$.lunchClimate(y.climate_place,y.scale)+$.dinnerClimate(O.climate_place,O.scale),Fe=0,Be=0,qe=0,Me=0;ne.spending_days.map((function(e){Fe+=$.sBreakFastClimate(a,Ne(e._id,"breakfast")?Ne(e._id,"breakfast").climate_place:"",e._id,Ne(e._id,"breakfast")?Ne(e._id,"breakfast").scale:0),Be+=$.sLunchClimate(a,Ne(e._id,"lunch")?Ne(e._id,"lunch").climate_place:"",e._id,Ne(e._id,"lunch")?Ne(e._id,"lunch").scale:0),qe+=$.sDinnerClimate(a,Ne(e._id,"dinner")?Ne(e._id,"dinner").climate_place:"",e._id,Ne(e._id,"dinner")?Ne(e._id,"dinner").scale:0),Me+=$.sBedClimate(a,Ne(e._id,"bed")?Ne(e._id,"bed").climate_place:"",e._id,Ne(e._id,"bed")?Ne(e._id,"bed").scale:0)}));var Ue=Fe+Be+qe+Me,Ge=Math.round(100*(Te+Ie+Ue))/100,Ye=Math.round(100*(parseFloat(ne.petrol+ne.maintainace+ne.other)+Ge+Re))/100,ze=$.findAllowance(ne.allowance_id),We=ze?ze.totall_amount:0,He=Math.round(100*(Ye-We))/100,Je=[];r.c_spending_days.map((function(e){se?""===e.project_allowance?Je.push(e):Aa():""===e.place_id?Je.push(e):Aa()}));var Ve=function(e,a){return!!Je.find((function(t){return t._id===e&&t.type===a}))},Ze=function(e,a){return o((function(t){return Object(E.a)({},t,{day_Places:t.day_Places.find((function(t){return t.day_time===e&&t.day_type===a}))?t.day_Places:[].concat(Object(b.a)(t.day_Places),[{id:Ca(),day_time:e,day_type:a,s_id:null}])})}))},Ke=function(e,a){return o((function(t){return Object(E.a)({},t,{day_Places:t.day_Places.filter((function(t){return t.day_time===e&&t.day_type!==a||t.day_time!==e&&t.day_type!==a||t.day_time!==e&&t.day_type===a}))})}))},Qe=function(e,a){return o((function(t){return Object(E.a)({},t,{Climate_Places:t.Climate_Places.find((function(t){return t.day_time===e&&t.day_type===a}))?t.Climate_Places:[].concat(Object(b.a)(t.Climate_Places),[{id:Ca(),day_time:e,day_type:a,s_id:null}])})}))},Xe=function(e,a){return o((function(t){return Object(E.a)({},t,{Climate_Places:t.Climate_Places.filter((function(t){return t.day_time===e&&t.day_type!==a||t.day_time!==e&&t.day_type!==a||t.day_time!==e&&t.day_type===a}))})}))},$e=function(e,a,t){return o((function(n){return Object(E.a)({},n,{day_Places:n.day_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t}))?n.day_Places:[].concat(Object(b.a)(n.day_Places),[{id:Ca(),day_time:e,day_type:a,s_id:t}])})}))},ea=function(e,a,t){return o((function(n){return Object(E.a)({},n,{Climate_Places:n.Climate_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t}))?n.Climate_Places:[].concat(Object(b.a)(n.Climate_Places),[{id:Ca(),day_time:e,day_type:a,s_id:t}])})}))},aa=function(e,a,t){return o((function(n){return Object(E.a)({},n,{day_Places:n.day_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t}))?n.day_Places.filter((function(l){return l.id!==n.day_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t})).id})):n.day_Places})}))},ta=function(e,a,t){return o((function(n){return Object(E.a)({},n,{Climate_Places:n.Climate_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t}))?n.Climate_Places.filter((function(l){return l.id!==n.Climate_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t})).id})):n.Climate_Places})}))},na=function(e,a){return r.day_Places.map((function(t){o((function(n){return Object(E.a)({},n,{c_initial_day:"initial"===t.day_type?Rn(e,t.day_time,a,n.c_initial_day):n.c_initial_day,c_spending_days:"spending"===t.day_type?Fn(t.s_id,e,t.day_time,a,n.c_spending_days):n.c_spending_days,c_return_day:"return"===t.day_type?Rn(e,t.day_time,a,n.c_return_day):n.c_return_day},ka("default"))}))}))},la=function(e){return r.Climate_Places.map((function(a){o((function(t){return Object(E.a)({},t,{c_initial_day:"initial"===a.day_type?Sn(e,a.day_time,t.c_initial_day):t.c_initial_day,c_spending_days:"spending"===a.day_type?Bn(a.s_id,e,a.day_time,t.c_spending_days):t.c_spending_days,c_return_day:"return"===a.day_type?Sn(e,a.day_time,t.c_return_day):t.c_return_day},ka("default"))}))}))};return U||z||J||Q?l.a.createElement(at,null):G||W||V||X?l.a.createElement(tt,null):l.a.createElement(kn.a,{backend:Cn.a},l.a.createElement(u.Provider,{value:{intialPlaceField:function(e,a,t){return o(Object(E.a)({},r,{c_initial_day:Dn(e,a,t,r.c_initial_day)},ka("default")))},BreakfastClimatePlace:function(e,a){return o(Object(E.a)({},r,{c_initial_day:Sn(e,a,r.c_initial_day)},ka("default")))},removeInitialPlaces:ve,RemoveClimatePlace:he,initialOfficial:function(e,a,t){return o(Object(E.a)({},r,{c_initial_day:Rn(e,a,t,r.c_initial_day)},ka("default")))},addFieldSpending:function(e,a,t,n){return o(Object(E.a)({},r,{c_spending_days:In(e,a,t,n,r.c_spending_days)},ka("default")))},addSpendingClimate:function(e,a,t){return o(Object(E.a)({},r,{c_spending_days:Bn(e,a,t,r.c_spending_days)},ka("default")))},RemoveSpendingDay:ye,RemoveClimateSpending:we,DropSpendingDays:function(e,a,t,n){return o(Object(E.a)({},r,{c_spending_days:Fn(e,a,t,n,r.c_spending_days)},ka("default")))},returnOfficial:function(e,a,t){return o(Object(E.a)({},r,{c_return_day:Rn(e,a,t,r.c_return_day)},ka("default")))},removeReturnClimate:je,removeReturnPlace:Oe,returnClimatePlace:function(e,a){return o(Object(E.a)({},r,{c_return_day:Sn(e,a,r.c_return_day)},ka("default")))},returnProject:function(e,a,t){return o(Object(E.a)({},r,{c_return_day:Dn(e,a,t,r.c_return_day)},ka("default")))}}},l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(s.b,{to:"/deduction",className:"float-left"},l.a.createElement("button",{className:"btn btn-outline-info"},l.a.createElement(f.a,{icon:g.c,className:"fa-1x"})))),l.a.createElement("div",{className:"col-lg-4 my-2"},l.a.createElement("div",{className:"card"},l.a.createElement("h5",{className:"text-center font-weight-bold"},l.a.createElement(f.a,{icon:g.wb}),"   user"),l.a.createElement("p",{className:"text-center font-weight-bold"},"From- ",$.Name(le)," ",l.a.createElement("br",null),"Department -",$.Department(le)," ",l.a.createElement("br",null),"Is Employee official?-",ce?"yes":"No"," ",l.a.createElement("br",null),"Is Employe project allowance?-",se?"yes":"no"," ",l.a.createElement("br",null),"salary-",re))),l.a.createElement("div",{className:"col-lg-4 my-2"},l.a.createElement("div",{className:"card text-center"},se?l.a.createElement("div",null,l.a.createElement("p",{className:"font-weight-bold text-center"},"please select Inside Addis Ababa or outside Addis Ababa"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",checked:r.check.inAA,className:"my-auto mx-3",onChange:function(e){return o((function(e){return Object(E.a)({},r,{check:{inAA:!0,outAA:!1}})}))}}),"Inside Addis Ababa",l.a.createElement("input",{type:"checkbox",checked:r.check.outAA,className:"my-auto mx-3",onChange:function(e){return o((function(e){return Object(E.a)({},r,{check:{inAA:!1,outAA:!0}})}))}}),"outside Addis Ababa"),l.a.createElement("h4",{className:"text-center font-weight-bold"},"Allowance scale: ",oe)," ",l.a.createElement("br",null),l.a.createElement("button",{className:"btn-info  form-control",onClick:function(e){return function(e,a){return r.day_Places.map((function(t){o((function(n){return Object(E.a)({},n,{c_initial_day:"initial"===t.day_type?Dn(e,t.day_time,a,n.c_initial_day):n.c_initial_day,c_spending_days:"spending"===t.day_type?In(t.s_id,e,t.day_time,a,n.c_spending_days):n.c_spending_days,c_return_day:"return"===t.day_type?Dn(e,t.day_time,a,n.c_return_day):n.c_return_day},ka("default"))}))}))}(r.check.inAA?"Inside":r.check.outAA?"Outside":"",oe)}},"Set Place")):l.a.createElement("p",null),l.a.createElement("div",{className:"search-wrapper active"},ce?l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type place name",onChange:function(e){return a=e.target.value,o(""===a?Object(E.a)({},r,{official_places:[]}):Object(E.a)({},r,{official_places:ae.searchPlaceOfficial(a)}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))):l.a.createElement("p",null),l.a.createElement("div",{className:"mt-2"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Region"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.I,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return ge("region",e.target.value)}},l.a.createElement("option",{value:""},"Enter region"),l.a.createElement("option",{value:"Amhara"},"Amhara"),l.a.createElement("option",{value:"Oromia"},"Oromia"),l.a.createElement("option",{value:"Tigrai"},"Tigrai"),l.a.createElement("option",{value:"Somalia"},"Somalia"),l.a.createElement("option",{value:"Benshangul"},"Benshangul"),l.a.createElement("option",{value:"Afar"},"Afar"),l.a.createElement("option",{value:"Gambela"},"Gambela"),l.a.createElement("option",{value:"SPNR"},"south nation people"),l.a.createElement("option",{value:"Sidama"},"Sidama"),l.a.createElement("option",{value:"Harari"},"Harari"),l.a.createElement("option",{value:"DireDewa"},"DireDewa"),l.a.createElement("option",{value:"addis_ababa"},"Addis Ababa"))),l.a.createElement("p",{className:"font-weight-bold text-center"},"place type"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return ge("place_type",e.target.value)}},l.a.createElement("option",{value:""},"Enter place type"),l.a.createElement("option",{value:"state_city"},"State city"),l.a.createElement("option",{value:"zone"},"Zone"),l.a.createElement("option",{value:"woreda"},"woreda"),l.a.createElement("option",{value:"rural_kebele"},"Rural kebele")))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"font-weight-bold"},"Region:",r.region," ",l.a.createElement("br",null),"type:",r.place_type,"   ",l.a.createElement("br",null),"scale:",r.scale)),l.a.createElement("button",{className:"btn btn-info form-control",onClick:function(){return na(r.place_id,r.scale)}},l.a.createElement(f.a,{icon:g.ib}),"Set")))),l.a.createElement("div",{className:"col-lg-4 my-2"},l.a.createElement("h4",{className:"text-center my-2"},"Climate Place search"),l.a.createElement("div",{className:"card text-center"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Input name of the climate place",onChange:function(e){return a=e.target.value,o(Object(E.a)({},r,{climate_places:""===a?[]:te.searchPlace(a)}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null)))),l.a.createElement("p",null))),l.a.createElement("div",{className:"col-lg-12 my-2"},ce?l.a.createElement("div",null,l.a.createElement("h5",{className:"text-center font-weight-bold my-2"},"official places"),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"mx-2"}),"place name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"mx-2"}),"region"),l.a.createElement(f.a,{icon:g.T,className:"mx-2"}),"place type",l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.W,className:"mx-2"}),"scale"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ib,className:"mx-2"}),"set"))),l.a.createElement(xe.h,null,_e))):l.a.createElement("p",null),l.a.createElement("h5",{className:"text-center font-weight-bold my-2"},"climate places"),l.a.createElement(xe.g,{hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"mx-1"}),"General place name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.W,className:"mx-1"}),"place name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Q,className:"mx-1"}),"level"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ib,className:"mx-1"}),"set"))),l.a.createElement(xe.h,null,be))),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"text-center"},"Initial day"),l.a.createElement(xe.g,{hover:!0,striped:!0,bordered:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info mx-2"}),"initial date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.o,className:"fa-1x text-info mx-2"}),"initial Time"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"fa-1x text-info mx-2"}),"Allowance situation"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"fa-1x text-info mx-2"}),"User Entered place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"fa-1x text-info mx-2"}),"Place to calculate"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info mx-2"}),"Climate place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info"}),"Day allowance"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info"}),"Climate Allowance"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",{rowSpan:4},Wa(ne.initial_date)),l.a.createElement("td",{rowSpan:4},ne.initial_time.hour,":",ne.initial_time.min<10?"0"+ne.initial_time.min:ne.initial_time.min),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,ne.initial_day.breakfast),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?Ze("breakfast","initial"):Ke("breakfast","initial")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",p.scale," ",l.a.createElement("br",null),"place:",p.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(p.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(p.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(p.place_id)," ",l.a.createElement("br",null),"scale:",p.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return ve("breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2",onChange:function(e){return e.currentTarget.checked?Qe("breakfast","initial"):Xe("breakfast","initial")}}),"   ",l.a.createElement("br",null),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(p.climate_place)?te.findClimatePlace(p.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(p.climate_place)?te.findClimatePlace(p.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(p.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return he("breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleBreakfast(p.scale)),l.a.createElement("td",null,$.breakFastClimate(p.climate_place,p.scale))),l.a.createElement("tr",null,l.a.createElement("td",null,"lunch"),l.a.createElement("td",null,ne.initial_day.lunch),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?Ze("lunch","initial"):Ke("lunch","initial")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",_.scale," ",l.a.createElement("br",null),"place:",_.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(_.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(_.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(_.place_id)," ",l.a.createElement("br",null),"scale:",_.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return ve("lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?Qe("lunch","initial"):Xe("lunch","initial")}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(_.climate_place)?te.findClimatePlace(_.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(_.climate_place)?te.findClimatePlace(_.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(_.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return he("lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleLunch(_.scale)),l.a.createElement("td",null,$.lunchClimate(_.climate_place,_.scale))),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,ne.initial_day.dinner),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?Ze("dinner","initial"):Ke("dinner","initial")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",v.scale," ",l.a.createElement("br",null),"place:",v.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(v.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(v.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(v.place_id)," ",l.a.createElement("br",null),"scale:",v.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return ve("dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?Qe("dinner","initial"):Xe("dinner","initial")}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(v.climate_place)?te.findClimatePlace(v.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(v.climate_place)?te.findClimatePlace(v.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(v.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return he("dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleDinner(v.scale)),l.a.createElement("td",null,$.dinnerClimate(v.climate_place,v.scale))),l.a.createElement("tr",null,l.a.createElement("td",null,"Bed"),l.a.createElement("td",null,ne.initial_day.bed),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?Ze("bed","initial"):Ke("bed","initial")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",h.scale," ",l.a.createElement("br",null),"place:",h.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(h.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(h.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(h.place_id)," ",l.a.createElement("br",null),"scale:",h.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return ve("bed")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?Qe("bed","initial"):Xe("bed","initial")}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(h.climate_place)?te.findClimatePlace(h.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(h.climate_place)?te.findClimatePlace(h.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(h.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return he("bed")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleBed(h.scale)),l.a.createElement("td",null,$.bedClimate(h.climate_place,h.scale))))))),ne.spending_days.length?l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"text-center"},"spending days"),l.a.createElement(xe.g,{hover:!0,striped:!0,bordered:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info mx-2"}),"Duration date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.o,className:"fa-1x text-info mx-2"}),"Duration days"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"fa-1x text-info mx-2"}),"Allowance situation"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"fa-1x text-info mx-2"}),"User Entered place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"fa-1x text-info mx-2"}),"Place to calculate"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info mx-2"}),"Climate place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info"}),"Day allowance"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info"}),"Climate Allowance"))),ne.spending_days.map((function(e){return l.a.createElement(xe.h,{key:e._id,label:"deduction ".concat(e)},l.a.createElement("tr",{key:e._id},l.a.createElement("td",{rowSpan:4},Wa($.sFromDate(a,e._id)),"- to -",Wa($.sUptoDate(a,e._id))),l.a.createElement("td",{rowSpan:4},l.a.createElement("h5",{className:"font-weight-bold"},$.sDuration(a,e._id))),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,$.findSpendingDay(a,e._id)?$.findSpendingDay(a,e._id).breakfast:""),l.a.createElement("td",{style:{borderColor:Ve(e._id,"breakfast")?"red":""}},l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?$e("breakfast","spending",e._id):aa("breakfast","spending",e._id)}}),"    ",l.a.createElement("br",null),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",Ne(e._id,"breakfast")?Ne(e._id,"breakfast").scale:0," ",l.a.createElement("br",null),"place:",Ne(e._id,"breakfast")?Ne(e._id,"breakfast").project_allowance:0):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(Ne(e._id,"breakfast")?Ne(e._id,"breakfast").place_id:""),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(Ne(e._id,"breakfast")?Ne(e._id,"breakfast").place_id:""),"  ",l.a.createElement("br",null),"type:",ae.placeType(Ne(e._id,"breakfast")?Ne(e._id,"breakfast").place_id:"")," ",l.a.createElement("br",null),"scale:",Ne(e._id,"breakfast")?Ne(e._id,"breakfast").scale:0),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return ye(e._id,"breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ea("breakfast","spending",e._id):ta("breakfast","spending",e._id)}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"General name:",te.climateName(Ne(e._id,"breakfast")?Ne(e._id,"breakfast").climate_place:"")," ",l.a.createElement("br",null),"name:",te.climateName(Ne(e._id,"breakfast")?Ne(e._id,"breakfast").climate_place:"")," ",l.a.createElement("br",null),"level:",te.climateLevel(Ne(e._id,"breakfast")?Ne(e._id,"breakfast").climate_place:"")," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(Ne(e._id,"breakfast")?Ne(e._id,"breakfast").climate_place:"")," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return we(e._id,"breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.spendingBreakfast(a,e._id,Ne(e._id,"breakfast")?Ne(e._id,"breakfast").scale:0)),l.a.createElement("td",null,$.sBreakFastClimate(a,Ne(e._id,"breakfast")?Ne(e._id,"breakfast").climate_place:"",e._id,Ne(e._id,"breakfast")?Ne(e._id,"breakfast").scale:0))),l.a.createElement("tr",null,l.a.createElement("td",null,"Lunch"),l.a.createElement("td",null,$.findSpendingDay(a,e._id)?$.findSpendingDay(a,e._id).lunch:""),l.a.createElement("td",{style:{borderColor:Ve(e._id,"lunch")?"red":""}},l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?$e("lunch","spending",e._id):aa("lunch","spending",e._id)}}),"    ",l.a.createElement("br",null),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",Ne(e._id,"lunch")?Ne(e._id,"lunch").scale:0," ",l.a.createElement("br",null),"place:",Ne(e._id,"lunch")?Ne(e._id,"lunch").project_allowance:0):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(Ne(e._id,"lunch")?Ne(e._id,"lunch").place_id:""),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(Ne(e._id,"lunch")?Ne(e._id,"lunch").place_id:""),"  ",l.a.createElement("br",null),"type:",ae.placeType(Ne(e._id,"lunch")?Ne(e._id,"lunch").place_id:"")," ",l.a.createElement("br",null),"scale:",Ne(e._id,"lunch")?Ne(e._id,"lunch").scale:0),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return ye(e._id,"lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ea("lunch","spending",e._id):ta("lunch","spending",e._id)}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"General name:",te.climateName(Ne(e._id,"lunch")?Ne(e._id,"lunch").climate_place:"")," ",l.a.createElement("br",null),"name:",te.climateName(Ne(e._id,"lunch")?Ne(e._id,"lunch").climate_place:"")," ",l.a.createElement("br",null),"level:",te.climateLevel(Ne(e._id,"lunch")?Ne(e._id,"lunch").climate_place:"")," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(Ne(e._id,"lunch")?Ne(e._id,"lunch").climate_place:"")," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return we(e._id,"lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.spendingLunch(a,e._id,Ne(e._id,"lunch")?Ne(e._id,"lunch").scale:0)),l.a.createElement("td",null,$.sLunchClimate(a,Ne(e._id,"lunch")?Ne(e._id,"lunch").climate_place:"",e._id,Ne(e._id,"lunch")?Ne(e._id,"lunch").scale:0))),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,$.findSpendingDay(a,e._id)?$.findSpendingDay(a,e._id).dinner:""),l.a.createElement("td",{style:{borderColor:Ve(e._id,"dinner")?"red":""}},l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?$e("dinner","spending",e._id):aa("dinner","spending",e._id)}}),"    ",l.a.createElement("br",null),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",Ne(e._id,"dinner")?Ne(e._id,"dinner").scale:0," ",l.a.createElement("br",null),"place:",Ne(e._id,"dinner")?Ne(e._id,"dinner").project_allowance:0):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(Ne(e._id,"dinner")?Ne(e._id,"dinner").place_id:""),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(Ne(e._id,"dinner")?Ne(e._id,"dinner").place_id:""),"  ",l.a.createElement("br",null),"type:",ae.placeType(Ne(e._id,"dinner")?Ne(e._id,"dinner").place_id:"")," ",l.a.createElement("br",null),"scale:",Ne(e._id,"dinner")?Ne(e._id,"dinner").scale:0),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return ye(e._id,"dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ea("dinner","spending",e._id):ta("dinner","spending",e._id)}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"General name:",te.climateName(Ne(e._id,"dinner")?Ne(e._id,"dinner").climate_place:"")," ",l.a.createElement("br",null),"name:",te.climateName(Ne(e._id,"dinner")?Ne(e._id,"dinner").climate_place:"")," ",l.a.createElement("br",null),"level:",te.climateLevel(Ne(e._id,"dinner")?Ne(e._id,"dinner").climate_place:"")," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(Ne(e._id,"dinner")?Ne(e._id,"dinner").climate_place:"")," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return we(e._id,"dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.spendingDinner(a,e._id,Ne(e._id,"dinner")?Ne(e._id,"dinner").scale:0)),l.a.createElement("td",null,$.sDinnerClimate(a,Ne(e._id,"dinner")?Ne(e._id,"dinner").climate_place:"",e._id,Ne(e._id,"dinner")?Ne(e._id,"dinner").scale:0))),l.a.createElement("tr",null,l.a.createElement("td",null,"Bed"),l.a.createElement("td",null,$.findSpendingDay(a,e._id)?$.findSpendingDay(a,e._id).bed:""),l.a.createElement("td",{style:{borderColor:Ve(e._id,"bed")?"red":""}},l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?$e("bed","spending",e._id):aa("bed","spending",e._id)}}),"    ",l.a.createElement("br",null),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",Ne(e._id,"bed")?Ne(e._id,"bed").scale:0," ",l.a.createElement("br",null),"place:",Ne(e._id,"bed")?Ne(e._id,"bed").project_allowance:0):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(Ne(e._id,"bed")?Ne(e._id,"bed").place_id:""),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(Ne(e._id,"bed")?Ne(e._id,"bed").place_id:""),"  ",l.a.createElement("br",null),"type:",ae.placeType(Ne(e._id,"bed")?Ne(e._id,"bed").place_id:"")," ",l.a.createElement("br",null),"scale:",Ne(e._id,"bed")?Ne(e._id,"bed").scale:0),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return ye(e._id,"bed")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ea("bed","spending",e._id):ta("bed","spending",e._id)}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"General name:",te.climateName(Ne(e._id,"bed")?Ne(e._id,"bed").climate_place:"")," ",l.a.createElement("br",null),"name:",te.climateName(Ne(e._id,"bed")?Ne(e._id,"bed").climate_place:"")," ",l.a.createElement("br",null),"level:",te.climateLevel(Ne(e._id,"bed")?Ne(e._id,"bed").climate_place:"")," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(Ne(e._id,"bed")?Ne(e._id,"bed").climate_place:"")," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return we(e._id,"bed")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.spendingBed(a,e._id,Ne(e._id,"bed")?Ne(e._id,"bed").scale:0)),l.a.createElement("td",null,$.sBedClimate(a,Ne(e._id,"bed")?Ne(e._id,"bed").climate_place:"",e._id,Ne(e._id,"bed")?Ne(e._id,"bed").scale:0))))}))))):l.a.createElement("p",null),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"text-center"},"Return Day"),l.a.createElement(xe.g,{hover:!0,striped:!0,bordered:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info mx-2"}),"Return date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.o,className:"fa-1x text-info mx-2"}),"Return Time"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"fa-1x text-info mx-2"}),"Allowance situation"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"fa-1x text-info mx-2"}),"User Entered place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"fa-1x text-info mx-2"}),"Place to calculate"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info mx-2"}),"Climate place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info"}),"Day allowance"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info"}),"Climate Allowance"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",{rowSpan:3},Wa(ne.return_date)),l.a.createElement("td",{rowSpan:3},ne.return_time.hour,":",ne.return_time.min<10?"0"+ne.return_time.min:ne.return_time.min),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,ne.return_day.breakfast),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?Ze("breakfast","return"):Ke("breakfast","return")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",x.scale," ",l.a.createElement("br",null),"place:",x.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(x.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(x.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(x.place_id)," ",l.a.createElement("br",null),"scale:",x.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return Oe("breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2",onChange:function(e){return e.currentTarget.checked?Qe("breakfast","return"):Xe("breakfast","return")}}),"   ",l.a.createElement("br",null),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(x.climate_place)?te.findClimatePlace(x.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(x.climate_place)?te.findClimatePlace(x.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(x.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return je("breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleBreakfast(x.scale)),l.a.createElement("td",null,$.breakFastClimate(x.climate_place,x.scale))),l.a.createElement("tr",null,l.a.createElement("td",null,"lunch"),l.a.createElement("td",null,ne.return_day.lunch),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?Ze("lunch","return"):Ke("lunch","return")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",y.scale," ",l.a.createElement("br",null),"place:",y.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(_.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(_.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(_.place_id)," ",l.a.createElement("br",null),"scale:",_.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return Oe("lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2",onChange:function(e){return e.currentTarget.checked?Qe("lunch","return"):Xe("lunch","return")}}),"   ",l.a.createElement("br",null),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(y.climate_place)?te.findClimatePlace(y.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(y.climate_place)?te.findClimatePlace(y.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(y.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return je("lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleLunch(y.scale)),l.a.createElement("td",null,$.lunchClimate(y.climate_place,y.scale))),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,ne.return_day.dinner),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?Ze("dinner","return"):Ke("dinner","return")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",O.scale," ",l.a.createElement("br",null),"place:",O.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(O.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(O.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(O.place_id)," ",l.a.createElement("br",null),"scale:",O.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return Oe("dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2",onChange:function(e){return e.currentTarget.checked?Qe("dinner","return"):Xe("dinner","return")}}),"   ",l.a.createElement("br",null),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(O.climate_place)?te.findClimatePlace(O.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(O.climate_place)?te.findClimatePlace(O.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(O.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return je("dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleDinner(O.scale)),l.a.createElement("td",null,$.dinnerClimate(O.climate_place,O.scale))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:6},l.a.createElement("h4",{className:"float-right font-weight-bold"},"Totall Day and climate allowance")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},Re)),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},Ge))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"petrol and gas spending")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},ne.petrol))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"Maintainance and repair spending")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},ne.maintainace))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"other spendings")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},ne.other))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"Totall")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},Ye))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold text-danger"},"prepaid amount")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold text-danger"},"-",We))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},He<0?l.a.createElement("h4",{className:"float-right font-weight-bold text-info"},"Refundable amount"):He>0?l.a.createElement("h4",{className:"float-right font-weight-bold text-info"},"Additional amount"):l.a.createElement("p",null)),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold text-info"},Math.abs(He)))))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},r.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},r.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},r.process),r.loading?l.a.createElement(fe,null):l.a.createElement("p",null))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("p",{className:"text-center font-weight-bold"},"Save options"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.nb,className:" fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return"draft"===e.target.value?o(Object(E.a)({},r,{save_options:e.target.value,approval_manager:{emp_id:""}})):o(Object(E.a)({},r,{save_options:e.target.value}))}},l.a.createElement("option",{value:"approve"},"Save and start approving"),l.a.createElement("option",{value:"draft"},"Save as draft")))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("button",{className:"btn-info form-control",onClick:function(e){return function(e){var t,n,l,c,i,s,m;return S.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return e.preventDefault(),d.prev=1,o(Object(E.a)({},r,{},ka("initial","saving please wait..."))),t={breakfast:{place_id:p.place_id,climate_place:p.climate_place,project_allowance:p.project_allowance,scale:$.singleBreakfast(p.scale),c_scale:$.breakFastClimate(p.climate_place,p.scale)},lunch:{place_id:_.place_id,climate_place:_.climate_place,project_allowance:_.project_allowance,scale:$.singleLunch(_.scale),c_scale:$.lunchClimate(_.climate_place,_.scale)},dinner:{place_id:v.place_id,climate_place:v.climate_place,project_allowance:v.project_allowance,scale:$.singleDinner(v.scale),c_scale:$.dinnerClimate(v.climate_place,v.scale)},bed:{place_id:h.place_id,climate_place:h.climate_place,project_allowance:h.project_allowance,scale:$.singleBed(h.scale),c_scale:$.bedClimate(h.climate_place,h.scale)}},n={breakfast:{place_id:x.place_id,climate_place:x.climate_place,project_allowance:x.project_allowance,scale:$.singleBreakfast(x.scale),c_scale:$.breakFastClimate(x.climate_place,x.scale)},lunch:{place_id:y.place_id,climate_place:y.climate_place,project_allowance:y.project_allowance,scale:$.singleLunch(y.scale),c_scale:$.lunchClimate(y.climate_place,y.scale)},dinner:{place_id:O.place_id,climate_place:O.climate_place,project_allowance:O.project_allowance,scale:$.singleDinner(O.scale),c_scale:$.dinnerClimate(O.climate_place,O.scale)}},l=[],r.c_spending_days.map((function(e){l.push({s_id:e._id,type:e.type,duration:e.duration,place_id:e.place_id,climate_place:e.climate_place,project_allowance:e.project_allowance,scale:"breakfast"===e.type?$.spendingBreakfast(a,e._id,Ne(e._id,e.type)?Ne(e._id,e.type).scale:0):"lunch"===e.type?$.spendingLunch(a,e._id,Ne(e._id,e.type)?Ne(e._id,e.type).scale:0):"dinner"===e.type?$.spendingDinner(a,e._id,Ne(e._id,e.type)?Ne(e._id,e.type).scale:0):"bed"===e.type?$.spendingBed(a,e._id,Ne(e._id,e.type)?Ne(e._id,e.type).scale:0):0,c_scale:"breakfast"===e.type?$.sBreakFastClimate(a,Ne(e._id,e.type)?Ne(e._id,e.type).climate_place:"",e._id,Ne(e._id,e.type)?Ne(e._id,e.type).scale:0):"lunch"===e.type?$.sLunchClimate(a,Ne(e._id,e.type)?Ne(e._id,e.type).climate_place:"",e._id,Ne(e._id,e.type)?Ne(e._id,e.type).scale:0):"dinner"===e.type?$.sDinnerClimate(a,Ne(e._id,e.type)?Ne(e._id,e.type).climate_place:"",e._id,Ne(e._id,e.type)?Ne(e._id,e.type).scale:0):"bed"===e.type?$.sBedClimate(a,Ne(e._id,e.type)?Ne(e._id,e.type).climate_place:"",e._id,Ne(e._id,e.type)?Ne(e._id,e.type).scale:0):0})})),d.next=9,S.a.awrap(qa());case 9:return c=d.sent,i=Object(T.encryptObject)(Object(E.a)({_id:ne._id},pt(),{f_employee:Object(E.a)({},ne.f_employee,{calculated:!0,calculated_date:c,save_options:r.save_options}),c_initial_day:t,c_return_day:n,c_spending_days:l,difference_amount:He,climate_amount:Ge,day_amount:Re,totall_amount:Ye})),d.next=13,S.a.awrap(L.a.put(R.host+"/deductions",{data:i}));case 13:s=d.sent,(m=Object(T.decrptObject)(s.data)).error?o(Object(E.a)({},r,{},ka("error","Error while saving... Internal server error please try again later"))):!m.error&&m.updated&&(o(Object(E.a)({},r,{},ka("success","deduction save success"))),ie(q)),d.next=21;break;case 18:d.prev=18,d.t0=d.catch(1),o(Object(E.a)({},r,{},ka("error","Error while saving... server is not active or responding please contact admin")));case 21:case"end":return d.stop()}}),null,null,[[1,18]])}(e)}},l.a.createElement(f.a,{icon:g.nb,className:" fa-2x mx-2 my-auto "}),"Save"))))))})),Gn=function(e){var a=e.deduction,t=e.ftl,c=a._id,r=Object(n.useContext)(d),i=r.allowances,s=r.deductions,o=r.employees,m=r.users,u=r.place,p=r.fieldEmployees,b=r.climatePlaces,_=r.config,v=i.state,h=(i.loading,i.error,o.state),N=(o.loading,o.error,m.state),x=(m.loading,m.error,s.state),y=(s.loading,s.error,new An(x,v,h,N,u.state,b.state,_.state[0])),w=new Yt(p.state),O=new Ut(u.state),j=new Mt(b.state),k=a.creater,C=y.isOfficial(k),A=y.Salary(k),D=w.faCheck(k),P=function(e,t){return a.c_spending_days.find((function(a){return a.s_id===e&&a.type===t}))},I=a.c_initial_day,F=I.breakfast,B=I.lunch,q=I.dinner,M=I.bed,U=a.c_return_day,G=U.breakfast,Y=U.lunch,z=U.dinner,W=y.findAllowance(a.allowance_id),H=W?W.totall_amount:0;return Object(n.useEffect)((function(){var e=Object(T.encryptObject)(Object(E.a)({},a,{_id:a._id,f_tl_approve:Object(E.a)({},a.f_tl_approve,{seen:!0})},pt()));S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||a.f_tl_approve.seen){n.next=6;break}return n.next=3,S.a.awrap(L.a.put(R.host+"/deductions",{data:e}));case 3:n.t0=n.sent,n.next=7;break;case 6:n.t0=Aa();case 7:return n.abrupt("return",n.t0);case 8:case"end":return n.stop()}}))}),[]),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("h5",{className:"text-center"},l.a.createElement(f.a,{icon:g.wb,className:"fa-2x mx-2 "}),"User info"),l.a.createElement("p",{className:"text-center font-weight-bold"},l.a.createElement("p",{className:"text-center font-weight-bold"},"From- ",y.Name(k)," ",l.a.createElement("br",null),"Department -",y.Department(k)," ",l.a.createElement("br",null),"Is Employee official?-",C?"yes":"No"," ",l.a.createElement("br",null),"Is Employe project allowance?-",D?"yes":"no"," ",l.a.createElement("br",null),"salary-",A))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"float-right font-italic"},"# Deduction id-",a.id," ",l.a.createElement("br",null),"# created date -",Ga(a.created_date))),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("h5",{className:"text-center font-weight-bold"},"Initial days"),l.a.createElement("div",{className:"card"},l.a.createElement(xe.g,{hover:!0,striped:!0,bordered:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info mx-2"}),"initial date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.o,className:"fa-1x text-info mx-2"}),"initial Time"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"fa-1x text-info mx-2"}),"Allowance situation"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"fa-1x text-info mx-2"}),"User Entered place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"fa-1x text-info mx-2"}),"Place to calculate"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info mx-2"}),"Climate place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info"}),"Day allowance"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info"}),"Climate Allowance"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",{rowSpan:4},Wa(a.initial_date)),l.a.createElement("td",{rowSpan:4},a.initial_time.hour,":",a.initial_time.min<10?"0"+a.initial_time.min:a.initial_time.min),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,a.initial_day.breakfast),l.a.createElement("td",null,D?l.a.createElement("p",{className:"text-center font-weight-bold"},"place ",F.project_allowance," Addis Ababa"):l.a.createElement("p",{className:"text-center font-weight-bold"},"name : ",O.placeName(F.place_id)," ",l.a.createElement("br",null),"Region: ",O.placeRegion(F.place_id)," ",l.a.createElement("br",null),"scale:",y.scale(k,F.place_id))),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-weight-bold"},"general name: ",j.climateGenralName(F.climate_place)," ",l.a.createElement("br",null),"name: ",j.climateName(F.climate_place),"  ",l.a.createElement("br",null),"level: ",j.climateLevel(F.climate_place))),l.a.createElement("td",null,F.scale),l.a.createElement("td",null,F.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"lunch"),l.a.createElement("td",null,a.initial_day.lunch),l.a.createElement("td",null,D?l.a.createElement("p",{className:"text-center font-weight-bold"},"place ",B.project_allowance," Addis Ababa"):l.a.createElement("p",{className:"text-center font-weight-bold"},"name : ",O.placeName(B.place_id)," ",l.a.createElement("br",null),"Region: ",O.placeRegion(B.place_id)," ",l.a.createElement("br",null),"scale:",y.scale(k,B.place_id))),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-weight-bold"},"general name: ",j.climateGenralName(B.climate_place)," ",l.a.createElement("br",null),"name: ",j.climateName(B.climate_place)," ",l.a.createElement("br",null),"level: ",j.climateLevel(B.climate_place))),l.a.createElement("td",null,B.scale),l.a.createElement("td",null,B.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,a.initial_day.dinner),l.a.createElement("td",null,D?l.a.createElement("p",{className:"text-center font-weight-bold"},"place ",q.project_allowance," Addis Ababa"):l.a.createElement("p",{className:"text-center font-weight-bold"},"name : ",O.placeName(q.place_id)," ",l.a.createElement("br",null),"Region: ",O.placeRegion(q.place_id)," ",l.a.createElement("br",null),"scale:",y.scale(k,q.place_id))),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-weight-bold"},"general name: ",j.climateGenralName(q.climate_place)," ",l.a.createElement("br",null),"name: ",j.climateName(q.climate_place),"  ",l.a.createElement("br",null),"level: ",j.climateLevel(k,q.climate_place))),l.a.createElement("td",null,q.scale),l.a.createElement("td",null,q.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"Bed"),l.a.createElement("td",null,a.initial_day.bed),l.a.createElement("td",null,D?l.a.createElement("p",{className:"text-center font-weight-bold"},"place ",M.project_allowance," Addis Ababa"):l.a.createElement("p",{className:"text-center font-weight-bold"},"name : ",O.placeName(M.place_id)," ",l.a.createElement("br",null),"Region: ",O.placeRegion(M.place_id)," ",l.a.createElement("br",null),"scale:",y.scale(k,M.place_id))),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-weight-bold"},"general name: ",j.climateGenralName(M.climate_place)," ",l.a.createElement("br",null),"name: ",j.climateName(M.climate_place),"  ",l.a.createElement("br",null),"level: ",j.climateLevel(M.climate_place))),l.a.createElement("td",null,M.scale),l.a.createElement("td",null,M.c_scale)))))),l.a.createElement("div",{className:"col-lg-12"},a.spending_days.length?l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"text-center"},"spending days"),l.a.createElement(xe.g,{hover:!0,striped:!0,bordered:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info mx-2"}),"Duration date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.o,className:"fa-1x text-info mx-2"}),"Duration days"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"fa-1x text-info mx-2"}),"Allowance situation"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"fa-1x text-info mx-2"}),"User Entered place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"fa-1x text-info mx-2"}),"Place to calculate"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info mx-2"}),"Climate place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info"}),"Day allowance"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info"}),"Climate Allowance"))),a.spending_days.map((function(e){return l.a.createElement(xe.h,null,l.a.createElement("tr",{key:e._id},l.a.createElement("td",{rowSpan:4},Wa(y.sFromDate(c,e._id)),"- to -",Wa(y.sUptoDate(c,e._id))),l.a.createElement("td",{rowSpan:4},l.a.createElement("h5",{className:"font-weight-bold"},P(e._id,"breakfast")?P(e._id,"breakfast").duration:0)),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,e.breakfast),l.a.createElement("td",null,D?l.a.createElement("p",{className:"text-center font-weight-bold"},"place ",P(e._id,"breakfast")?P(e._id,"breakfast").project_allowance:""," Addis Ababa"):l.a.createElement("p",{className:"text-center font-weight-bold"},"name : ",O.placeName(P(e._id,"breakfast")?P(e._id,"breakfast").place_id:"")," ",l.a.createElement("br",null),"Region: ",O.placeRegion(P(e._id,"breakfast")?P(e._id,"breakfast").place_id:"")," ",l.a.createElement("br",null),"scale:",y.scale(k,P(e._id,"breakfast")?P(e._id,"breakfast").place_id:""))),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-weight-bold"},"general name: ",j.climateGenralName(P(e._id,"breakfast")?P(e._id,"breakfast").climate_place:"")," ",l.a.createElement("br",null),"name: ",j.climateName(P(e._id,"breakfast")?P(e._id,"breakfast").climate_place:""),"  ",l.a.createElement("br",null),"level: ",j.climateLevel(P(e._id,"breakfast")?P(e._id,"breakfast").climate_place:""))),l.a.createElement("td",null,P(e._id,"breakfast")?P(e._id,"breakfast").scale:0),l.a.createElement("td",null,P(e._id,"breakfast")?P(e._id,"breakfast").c_scale:0)),l.a.createElement("tr",null,l.a.createElement("td",null,"Lunch"),l.a.createElement("td",null,e.lunch),l.a.createElement("td",null,D?l.a.createElement("p",{className:"text-center font-weight-bold"},"place ",P(e._id,"lunch")?P(e._id,"lunch").project_allowance:""," Addis Ababa"):l.a.createElement("p",{className:"text-center font-weight-bold"},"name : ",O.placeName(P(e._id,"lunch")?P(e._id,"lunch").place_id:"")," ",l.a.createElement("br",null),"Region: ",O.placeRegion(P(e._id,"lunch")?P(e._id,"lunch").place_id:"")," ",l.a.createElement("br",null),"scale:",y.scale(k,P(e._id,"lunch")?P(e._id,"lunch").place_id:""))),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-weight-bold"},"general name: ",j.climateGenralName(P(e._id,"lunch")?P(e._id,"lunch").climate_place:"")," ",l.a.createElement("br",null),"name: ",j.climateName(P(e._id,"lunch")?P(e._id,"lunch").climate_place:""),"  ",l.a.createElement("br",null),"level: ",j.climateLevel(P(e._id,"lunch")?P(e._id,"lunch").climate_place:""))),l.a.createElement("td",null,P(e._id,"lunch")?P(e._id,"lunch").scale:0),l.a.createElement("td",null,P(e._id,"lunch")?P(e._id,"lunch").c_scale:0)),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,e.dinner),l.a.createElement("td",null,D?l.a.createElement("p",{className:"text-center font-weight-bold"},"place ",P(e._id,"dinner")?P(e._id,"dinner").project_allowance:""," Addis Ababa"):l.a.createElement("p",{className:"text-center font-weight-bold"},"name : ",O.placeName(P(e._id,"dinner")?P(e._id,"dinner").place_id:"")," ",l.a.createElement("br",null),"Region: ",O.placeRegion(P(e._id,"dinner")?P(e._id,"dinner").place_id:"")," ",l.a.createElement("br",null),"scale:",y.scale(k,P(e._id,"dinner")?P(e._id,"dinner").place_id:""))),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-weight-bold"},"general name: ",j.climateGenralName(P(e._id,"dinner")?P(e._id,"dinner").climate_place:"")," ",l.a.createElement("br",null),"name: ",j.climateName(P(e._id,"dinner")?P(e._id,"dinner").climate_place:""),"  ",l.a.createElement("br",null),"level: ",j.climateLevel(P(e._id,"dinner")?P(e._id,"dinner").climate_place:""))),l.a.createElement("td",null,P(e._id,"dinner")?P(e._id,"dinner").scale:0),l.a.createElement("td",null,P(e._id,"dinner")?P(e._id,"dinner").c_scale:0)),l.a.createElement("tr",null,l.a.createElement("td",null,"Bed"),l.a.createElement("td",null,e.bed),l.a.createElement("td",null,D?l.a.createElement("p",{className:"text-center font-weight-bold"},"place ",P(e._id,"bed")?P(e._id,"bed").project_allowance:""," Addis Ababa"):l.a.createElement("p",{className:"text-center font-weight-bold"},"name : ",O.placeName(P(e._id,"bed")?P(e._id,"bed").place_id:"")," ",l.a.createElement("br",null),"Region: ",O.placeRegion(P(e._id,"bed")?P(e._id,"bed").place_id:"")," ",l.a.createElement("br",null),"scale:",y.scale(k,P(e._id,"bed")?P(e._id,"bed").place_id:""))),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-weight-bold"},"general name: ",j.climateGenralName(P(e._id,"bed")?P(e._id,"bed").climate_place:"")," ",l.a.createElement("br",null),"name: ",j.climateName(P(e._id,"bed")?P(e._id,"bed").climate_place:""),"  ",l.a.createElement("br",null),"level: ",j.climateLevel(P(e._id,"bed")?P(e._id,"bed").climate_place:""))),l.a.createElement("td",null,P(e._id,"bed")?P(e._id,"bed").scale:0),l.a.createElement("td",null,P(e._id,"bed")?P(e._id,"bed").c_scale:0)))}))))):l.a.createElement("p",null),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"text-center"},"Return Day"),l.a.createElement(xe.g,{hover:!0,striped:!0,bordered:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info mx-2"}),"Return date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.o,className:"fa-1x text-info mx-2"}),"Return Time"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"fa-1x text-info mx-2"}),"Allowance situation"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"fa-1x text-info mx-2"}),"User Entered place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"fa-1x text-info mx-2"}),"Place to calculate"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info mx-2"}),"Climate place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info"}),"Day allowance"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info"}),"Climate Allowance"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",{rowSpan:3},Wa(a.initial_date)),l.a.createElement("td",{rowSpan:3},a.return_time.hour,":",a.return_time.min<10?"0"+a.return_time.min:a.return_time.min),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,a.return_day.breakfast),l.a.createElement("td",null,D?l.a.createElement("p",{className:"text-center font-weight-bold"},"place ",G.project_allowance," Addis Ababa"):l.a.createElement("p",{className:"text-center font-weight-bold"},"name : ",O.placeName(G.place_id)," ",l.a.createElement("br",null),"Region: ",O.placeRegion(G.place_id)," ",l.a.createElement("br",null),"scale:",y.scale(k,G.place_id))),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-weight-bold"},"general name: ",j.climateGenralName(G.climate_place)," ",l.a.createElement("br",null),"name: ",j.climateName(G.climate_palce),"  ",l.a.createElement("br",null),"level: ",j.climateLevel(G.climate_place))),l.a.createElement("td",null,G.scale),l.a.createElement("td",null,G.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"lunch"),l.a.createElement("td",null,a.return_day.lunch),l.a.createElement("td",null,D?l.a.createElement("p",{className:"text-center font-weight-bold"},"place ",Y.project_allowance," Addis Ababa"):l.a.createElement("p",{className:"text-center font-weight-bold"},"name : ",O.placeName(Y.place_id)," ",l.a.createElement("br",null),"Region: ",O.placeRegion(Y.place_id)," ",l.a.createElement("br",null),"scale:",y.scale(k,Y.place_id))),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-weight-bold"},"general name: ",j.climateGenralName(Y.climate_place)," ",l.a.createElement("br",null),"name: ",j.climateName(Y.climate_place)," ",l.a.createElement("br",null),"level: ",j.climateLevel(Y.climate_place))),l.a.createElement("td",null,Y.scale),l.a.createElement("td",null,Y.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,a.return_day.dinner),l.a.createElement("td",null,D?l.a.createElement("p",{className:"text-center font-weight-bold"},"place ",z.project_allowance," Addis Ababa"):l.a.createElement("p",{className:"text-center font-weight-bold"},"name : ",O.placeName(z.place_id)," ",l.a.createElement("br",null),"Region: ",O.placeRegion(z.place_id)," ",l.a.createElement("br",null),"scale:",y.scale(k,z.place_id))),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-weight-bold"},"general name: ",j.climateGenralName(z.climate_place)," ",l.a.createElement("br",null),"name: ",j.climateName(z.climate_place),"  ",l.a.createElement("br",null),"level: ",j.climateLevel(k,z.climate_place))),l.a.createElement("td",null,z.scale),l.a.createElement("td",null,z.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:6},l.a.createElement("h4",{className:"float-right font-weight-bold"},"Totall Day and climate allowance")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},a.day_amount)),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},a.climate_amount))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"petrol and gas spending")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},a.petrol))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"Maintainance and repair spending")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},a.maintainace))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"other spendings")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},a.other))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"Totall")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},a.totall_amount))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold text-danger"},"prepaid amount")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold text-danger"},"-",H))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},a.difference_amount<0?l.a.createElement("h4",{className:"float-right font-weight-bold text-info"},"Refundable amount"):a.difference_amount>0?l.a.createElement("h4",{className:"float-right font-weight-bold text-info"},"Additional amount"):l.a.createElement("p",null)),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold text-info"},Math.abs(a.difference_amount)))))))))))},Yn=function(e){var a=e.deduction,t=Object(n.useState)(Object(E.a)({approved:"",comment:"",check:{Approved:!1,unApproved:!1,comment:!1}},ka("default"))),c=Object(i.a)(t,2),r=c[0],s=c[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 text-center"},l.a.createElement("div",{className:"card"},l.a.createElement("form",{onSubmit:function(e){return function(e){var t,n,l,c;return S.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.preventDefault(),""!==r.approved){i.next=5;break}s(Object(E.a)({},r,{error:"please make your decision to save",success:"",process:""})),i.next=22;break;case 5:return s(Object(E.a)({},r,{process:"taking action please wait...",error:"",success:"",disable:!0,loading:!1})),i.prev=6,i.next=9,S.a.awrap(qa());case 9:return t=i.sent,console.log(t,r.comment),n=Object(T.encryptObject)(Object(E.a)({},pt(),{_id:a._id},a,{f_tl_approve:Object(E.a)({},a.f_tl_approve,{approve:r.approved,approved_date:"Approved"===r.approved?t:"",comment:r.comment,redone:!!r.check.comment}),f_employee:Object(E.a)({},a.f_employee,{redone:!1})})),i.next=14,S.a.awrap(L.a.put(R.host+"/deductions",{data:n}));case 14:l=i.sent,(c=Object(T.decrptObject)(l.data)).error?s(Object(E.a)({},r,{},ka("error","can not take action please try again later"))):!c.error&&c.updated&&s(Object(E.a)({},r,{error:"",success:"Action made success",process:"",disable:!1,loading:!1})),i.next=22;break;case 19:i.prev=19,i.t0=i.catch(6),s(Object(E.a)({},r,{error:"can not save server is not responding",success:"",process:"",disable:!1,loading:!1}));case 22:case"end":return i.stop()}}),null,null,[[6,19]])}(e)}},l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.r,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:r.check.Approved,className:"my-auto mx-3",onChange:function(e){return s((function(e){return Object(E.a)({},r,{approved:"Approved"===e.approved?"":"Approved",check:{Approved:!e.check.Approved,unApproved:!1,comment:!1}})}))}}),"Approve"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:r.check.comment,className:"my-auto mx-3",onChange:function(e){return s((function(e){return Object(E.a)({},r,{approved:"commented"===e.approved?"":"commented",check:{Approved:!1,unApproved:!1,comment:!e.check.comment}})}))}}),"Do it again"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.Eb,className:"text-danger fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:r.check.unApproved,className:"my-auto mx-3",onChange:function(e){return s((function(e){return Object(E.a)({},r,{approved:"unApproved"===e.approved?"":"unApproved",check:{Approved:!1,unApproved:!e.check.unApproved,comment:!1}})}))}}),"un Approve"),r.check.comment&&"commented"===r.approved||r.check.unApproved&&"unApproved"===r.approved?l.a.createElement("p",{className:"font-weight-bold text-center"},"please write a comment"):l.a.createElement("p",null),r.check.comment&&"commented"===r.approved||r.check.unApproved&&"unApproved"===r.approved?l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.y,className:"text-warning fa-2x mx-2 my-auto "}),l.a.createElement("textarea",{className:"input-field form-control my-auto",type:"text",placeholder:"write comment",onChange:function(e){s(Object(E.a)({},r,{comment:e.target.value}))},required:!0,cols:"20",rows:"5"})):l.a.createElement("p",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},r.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},r.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},r.process),r.loading?l.a.createElement(fe,null):l.a.createElement("p",null)),r.check.Approved||r.check.comment||r.check.unApproved?l.a.createElement("button",{type:"submit",className:"float-right btn btn-info",disabled:r.disable},"Done"):l.a.createElement("p",null))))))},zn=function(e){function a(){return Object(_.a)(this,a),Object(v.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(N.a)(a,e),Object(yt.a)(a,[{key:"render",value:function(){var e=this.props,a=e.deduction,t=e.Calculation,n=e.findSpendingDay,c=e.isFieldEmployee,r=e.isOfficial,i=e.company,s=e.prePaid,o=e.date,m=a._id,d=a.c_initial_day,u=d.breakfast,p=d.lunch,E=d.dinner,b=d.bed,_=a.c_return_day,v=_.breakfast,h=_.lunch,N=_.dinner;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"text-center font-weight-bold"},i),l.a.createElement("h6",{className:"text-center"},l.a.createElement(f.a,{icon:g.wb,className:"fa-1x mx-2 "}),"Employee information"),l.a.createElement("p",{className:"text-center font-weight-bold"},"Name- ",t.Name(a.creater)," ",l.a.createElement("br",null),"Department -",t.Department(a.creater)," ",l.a.createElement("br",null),"Is Employee official?-",r?"yes":"No"," ",l.a.createElement("br",null),"Is Employe project allowance?-",c?"yes":"no"," ",l.a.createElement("br",null),"salary-",t.Salary(a.creater)),l.a.createElement("p",{className:"float-right font-italic"},l.a.createElement(f.a,{icon:g.m,className:"mx-2"})," Date-",Wa(o)," E.c ",l.a.createElement("br",null),l.a.createElement(f.a,{icon:g.m,className:"mx-2"})," Date-",Ga(o)," G.c ",l.a.createElement("br",null),"# Deduction id-",a.id," ",l.a.createElement("br",null),"# Allowance id:",t.findAllowance(a.allowance_id)?t.findAllowance(a.allowance_id).id:""," ",l.a.createElement("br",null),"# created date -",Ga(a.created_date))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h6",{className:"text-center"},"Initial day"),l.a.createElement(xe.g,{striped:!0,bordered:!0,className:"table table-condensed"},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"initial date"),l.a.createElement("th",null,"initial Time"),l.a.createElement("th",null,"Allowance situation"),l.a.createElement("th",null,"User Entered place"),l.a.createElement("th",null,"Day allowance"),l.a.createElement("th",null,"Climate Allowance"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",{rowSpan:4},Wa(a.initial_date)),l.a.createElement("td",{rowSpan:4},a.initial_time.hour,":",a.initial_time.min<10?"0"+a.initial_time.min:a.initial_time.min),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,a.initial_day.breakfast),l.a.createElement("td",null,u.scale),l.a.createElement("td",null,u.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"lunch"),l.a.createElement("td",null,a.initial_day.lunch),l.a.createElement("td",null,p.scale),l.a.createElement("td",null,p.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,a.initial_day.dinner),l.a.createElement("td",null,E.scale),l.a.createElement("td",null,E.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"Bed"),l.a.createElement("td",null,a.initial_day.bed),l.a.createElement("td",null,b.scale),l.a.createElement("td",null,b.c_scale))))),l.a.createElement("div",{className:"col-lg-12"},a.spending_days.length?l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h6",{className:"text-center"},"spending days"),l.a.createElement(xe.g,{striped:!0,bordered:!0,className:"table table-condensed"},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"Duration date"),l.a.createElement("th",null,"Duration days"),l.a.createElement("th",null,"Allowance situation"),l.a.createElement("th",null,"User Entered place"),l.a.createElement("th",null,"Day allowance"),l.a.createElement("th",null,"Climate Allowance"))),a.spending_days.map((function(e){return l.a.createElement(xe.h,null,l.a.createElement("tr",{key:e._id},l.a.createElement("td",{rowSpan:4},Wa(t.sFromDate(m,e._id)),"- to -",Wa(t.sUptoDate(m,e._id))),l.a.createElement("td",{rowSpan:4},l.a.createElement("h5",{className:"font-weight-bold"},n(e._id,"breakfast")?n(e._id,"breakfast").duration:0)),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,e.breakfast),l.a.createElement("td",null,n(e._id,"breakfast")?n(e._id,"breakfast").scale:0),l.a.createElement("td",null,n(e._id,"breakfast")?n(e._id,"breakfast").c_scale:0)),l.a.createElement("tr",null,l.a.createElement("td",null,"Lunch"),l.a.createElement("td",null,e.lunch),l.a.createElement("td",null,n(e._id,"lunch")?n(e._id,"lunch").scale:0),l.a.createElement("td",null,n(e._id,"lunch")?n(e._id,"lunch").c_scale:0)),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,e.dinner),l.a.createElement("td",null,n(e._id,"dinner")?n(e._id,"dinner").scale:0),l.a.createElement("td",null,n(e._id,"dinner")?n(e._id,"dinner").c_scale:0)),l.a.createElement("tr",null,l.a.createElement("td",null,"Bed"),l.a.createElement("td",null,e.bed),l.a.createElement("td",null,n(e._id,"bed")?n(e._id,"bed").scale:0),l.a.createElement("td",null,n(e._id,"bed")?n(e._id,"bed").c_scale:0)))})))):l.a.createElement("p",null),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("h6",{className:"text-center"},"Return Day"),l.a.createElement(xe.g,{hover:!0,striped:!0,bordered:!0,className:"table table-condensed"},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"Return date"),l.a.createElement("th",null,"Return Time"),l.a.createElement("th",null,"Allowance situation"),l.a.createElement("th",null,"User Entered place"),l.a.createElement("th",null,"Day allowance"),l.a.createElement("th",null,"Climate Allowance"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",{rowSpan:3},Wa(a.initial_date)),l.a.createElement("td",{rowSpan:3},a.return_time.hour,":",a.return_time.min<10?"0"+a.return_time.min:a.return_time.min),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,a.return_day.breakfast),l.a.createElement("td",null,v.scale),l.a.createElement("td",null,v.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"lunch"),l.a.createElement("td",null,a.return_day.lunch),l.a.createElement("td",null,h.scale),l.a.createElement("td",null,h.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,a.return_day.dinner),l.a.createElement("td",null,N.scale),l.a.createElement("td",null,N.c_scale)),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:4},l.a.createElement("h6",{className:"float-right font-weight-bold"},"Totall Day and climate allowance")),l.a.createElement("td",null,l.a.createElement("h6",{className:"float-right font-weight-bold"},a.day_amount)),l.a.createElement("td",null,l.a.createElement("h6",{className:"float-right font-weight-bold"},a.climate_amount))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5},l.a.createElement("h6",{className:"float-right font-weight-bold"},"petrol and gas spending")),l.a.createElement("td",null,l.a.createElement("h6",{className:"float-right font-weight-bold"},a.petrol))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5},l.a.createElement("h6",{className:"float-right font-weight-bold"},"Maintainance and repair spending")),l.a.createElement("td",null,l.a.createElement("h6",{className:"float-right font-weight-bold"},a.maintainace))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5},l.a.createElement("h6",{className:"float-right font-weight-bold"},"other spendings")),l.a.createElement("td",null,l.a.createElement("h6",{className:"float-right font-weight-bold"},a.other))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5},l.a.createElement("h6",{className:"float-right font-weight-bold"},"Totall")),l.a.createElement("td",null,l.a.createElement("h6",{className:"float-right font-weight-bold"},a.totall_amount))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5},l.a.createElement("h6",{className:"float-right font-weight-bold text-danger"},"prepaid amount")),l.a.createElement("td",null,l.a.createElement("h6",{className:"float-right font-weight-bold text-danger"},"-",s))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5},a.difference_amount<0?l.a.createElement("h6",{className:"float-right font-weight-bold text-info"},"Refundable amount"):a.difference_amount>0?l.a.createElement("h6",{className:"float-right font-weight-bold text-info"},"Additional amount"):l.a.createElement("p",null)),l.a.createElement("td",null,l.a.createElement("h6",{className:"float-right font-weight-bold text-info"},Math.abs(a.difference_amount))))))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold"},"Employee name- ",t.Name(a.creater)),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},"Signature"),l.a.createElement("input",{type:"text",className:"input-field form-control",disabled:!0})))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold"},"Manager name- ",t.Name(a.approval_manager.emp_id)),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},"Signature"),l.a.createElement("input",{type:"text",className:"input-field form-control",disabled:!0})))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("h6",{className:"text-center font-weight-bold"},"Fianance employee who has done the calculation name- ",t.Name(a.f_employee.emp_id)),l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},"Signature"),l.a.createElement("input",{type:"text",className:"input-field form-control",disabled:!0}))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("p",{className:"font-weight-bold"},"calculation approval Manager-",t.Name(a.f_tl_pending.emp_id)),l.a.createElement("div",{className:"input-group input-container"},l.a.createElement("span",{className:"input-group-addon"},"Signature"),l.a.createElement("input",{type:"text",className:"input-field form-control",disabled:!0}))),l.a.createElement("div",{className:"col-lg-6 text-center small font-weight-bold font-italic"},"Allowance system developed by metrix technologies"))))}}]),a}(n.Component),Wn=function(e){var a=e.deduction,t=e.user,c=Object(n.useState)(""),r=Object(i.a)(c,2),s=r[0],o=r[1],m=Object(n.useContext)(d),u=m.allowances,p=m.deductions,b=m.employees,_=m.users,v=m.place,h=m.fieldEmployees,N=m.climatePlaces,x=m.config,y=m.company,w=u.state,O=b.state,j=_.state,k=p.state,C=new An(k,w,O,j,v.state,N.state,x.state[0]),A=new Yt(h.state),D=a.creater,P=C.isOfficial(D),I=A.faCheck(D),F=C.findAllowance(a.allowance_id),B=F?F.totall_amount:0;Object(n.useEffect)((function(){S.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.c_seen||!t){e.next=4;break}e.t0=Aa(),e.next=7;break;case 4:return e.next=6,S.a.awrap(L.a.put(R.host+"/deductions",{data:Object(T.encryptObject)(Object(E.a)({},pt(),{},a,{c_seen:!0}))}));case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}})),function(){var e;S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.awrap(qa());case 2:e=a.sent,o(e);case 4:case"end":return a.stop()}}))}(),document.title="Allowance system developed by metrix technologies"}),[]);var q=Object(n.useRef)();return l.a.createElement("div",null,l.a.createElement(xt.a,{trigger:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-9"}),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("button",{className:"btn btn-outline-info"},l.a.createElement(f.a,{icon:g.kb,className:"mx-2"}),"Print"))))},content:function(){return q.current}}),l.a.createElement(zn,{ref:q,deduction:a,isOfficial:P,isFieldEmployee:I,Calculation:C,date:s,findSpendingDay:function(e,t){return a.c_spending_days.find((function(a){return a.s_id===e&&a.type===t}))},company:y.state[0].name,prePaid:B}))},Hn=function(e){var a=e.className,t=e.type,c=Object(n.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],m=function(){return o(!s)};return"create"===t?l.a.createElement("div",null,l.a.createElement("button",{onClick:m,className:"btn btn-outline-success my-2"},l.a.createElement(f.a,{icon:g.ib,className:"mx-2 fa-1x"}),"start deduction"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"xl",className:a},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.C,className:"mx-2"}),"New Deduction"),l.a.createElement(pe.a,null,l.a.createElement(hn,{allowance:e.allowance})))):"view_details"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:"btn btn-outline-success mx-2 my-2"},l.a.createElement(f.a,{icon:g.H,className:"mx-2 fa-1x"}),"view Deduction"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"lg",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.H,className:"mx-2"}),"View"),l.a.createElement(pe.a,null,l.a.createElement(Nn,{deduction:e.deduction,am:e.am,ftli:e.ftli,fe:e.fe})))):"view_progress"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,color:"primary",className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.q,className:"mx-2 fa-1x text-success"}),"view Progress"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"lg",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.q,className:"mx-2"}),"Progress"),l.a.createElement(pe.a,null,l.a.createElement(xn,{deduction:e.deduction})))):"edit"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.fb,className:"mx-2 fa-1x text-success"}),"Edit"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"xl",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.fb,className:"mx-2"}),"Edit Deduction"),l.a.createElement(pe.a,null,l.a.createElement(yn,{deduction:e.deduction})))):"delete"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 fa-1x"}),"Delete"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a+" dialogue"},l.a.createElement(ue.a,{toggle:m,onClick:function(){return e.fetch()}},l.a.createElement("p",{className:"text-danger"},l.a.createElement(f.a,{icon:g.tb,className:"mx-2 text-danger"}),"Deduction is flagged for deletion are you sure you want to delete")),l.a.createElement(pe.a,null,l.a.createElement(wn,{deduction:e.deduction,fetch:e.fetch,close:m})))):"approval_manager"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.L,className:"mx-2 fa-1x text-success"}),"Take actions"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Take actions"),l.a.createElement(pe.a,null,l.a.createElement(On,{deduction:e.deduction})))):"ftl_pending"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.L,className:"mx-2 fa-1x text-success"}),"Take actions"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Take actions"),l.a.createElement(pe.a,null,l.a.createElement(jn,{deduction:e.deduction})))):"calculate"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.l,className:"mx-2 fa-1x text-success"}),"Calculate"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"xl",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.l,className:"mx-2"}),"Calculate"),l.a.createElement(pe.a,null,l.a.createElement(Un,{deduction:e.deduction})))):"view_calculation"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.H,className:"mx-2 fa-1x text-success"}),"view calculation"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"xl",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.H,className:"mx-2"}),"view calculation"),l.a.createElement(pe.a,null,l.a.createElement(Gn,{deduction:e.deduction,ftl:e.ftl})))):"approve_calculation"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.L,className:"mx-2 fa-1x text-success"}),"Take decision"),l.a.createElement(de.a,{isOpen:s,toggle:m,className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.H,className:"mx-2"}),"Take Decision"),l.a.createElement(pe.a,null,l.a.createElement(Yn,{deduction:e.deduction})))):"view_final"===t?l.a.createElement("div",null,l.a.createElement("div",{onClick:m,className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.l,className:"mx-2 fa-1x text-success"}),"See Final result"),l.a.createElement(de.a,{isOpen:s,toggle:m,size:"xl",className:a},l.a.createElement(ue.a,{toggle:m,className:"text-center",onClick:function(){return e.fetch()}},l.a.createElement(f.a,{icon:g.l,className:"mx-2"}),"see Final result"),l.a.createElement(pe.a,null,l.a.createElement(Wn,{deduction:e.deduction,user:e.user})))):void 0},Jn=function(){var e=Object(n.useState)({allowance:"",found:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.allowances,o=r.employees,m=r.users,u=r.dispatchDeductions,p=r.deductions,b=s.state,_=s.loading,v=o.state,h=m.state,N=p.state,x=new vn(N,b,v,h),y=x.toDeduct(),w=function(){return ie(u)};Object(n.useEffect)((function(){ie(u),c(Object(E.a)({},t,{allowance:y}))}),[_]);var O=t.allowance.length?t.allowance.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.letter_id),l.a.createElement("td",null,l.a.createElement(Fa.a,{date:e.created_date}),l.a.createElement("p",{className:"font-italic float-right"},Ya(e.created_date)),l.a.createElement("p",{className:"font-italic"},Ga(e.created_date))),l.a.createElement("td",null,x.isDeductionStarted(e._id)?l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"Deduction already started check created deduction tab"):l.a.createElement(Hn,{type:"create",allowance:e,fetch:w})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:4},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},"No allowances completed yet")));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type id,letter id,destination,program name",onChange:function(e){return function(e){var a=""===e?y:x.searchToDeduct(e),n=""!==e;c(Object(E.a)({},t,{allowance:a,found:n}))}(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Allowance to Deduct"),l.a.createElement("div",{className:"widget-subheading"},"Totall")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,y.length)))))),l.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},t.found?l.a.createElement("h5",{className:"text-center"},"Allowance found -",t.allowance.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"# Allowance id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.D,className:"mx-2"}),"Letter id Attached"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"created"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Start Deduction"))),l.a.createElement(xe.h,null,O)))))))},Vn=function(){var e=Object(n.useState)({deductions:[],found:!1,seenDeductions:[],newDeductions:[]}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.allowances,o=r.dispatchDeductions,m=r.deductions,u=r.employees,p=r.users,b=s.state,_=(s.loading,s.error,u.state),v=(u.loading,u.error,p.state),h=(p.loading,p.error,m.state),N=m.loading,x=(m.error,new vn(h,b,_,v)),y=x.MangerDeductions(),w=x.seenManagerDeductions(),O=x.newManagerDeductions(),j=(x.getEmp_id(),function(){return ie(o)});Object(n.useEffect)((function(){ie(o),c(Object(E.a)({},t,{seenDeductions:w,newDeductions:O}))}),[N,JSON.stringify(y)]);var k=y.length?t.seenDeductions.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.id),l.a.createElement("td",{className:"text-center"},x.findAllowance(e.allowance_id)?x.findAllowance(e.allowance_id).id:""),l.a.createElement("td",{className:"text-center"},x.Name(e.creater)),l.a.createElement("td",{className:"text-center"},"waiting"===e.approval_manager.approve?l.a.createElement("p",{className:"text-center font-italic"},"Waiting for Decision"):"Approved"===e.approval_manager.approve?l.a.createElement("div",{className:"text-center font-italic"},l.a.createElement(f.a,{icon:g.s,className:"fa-2x text-success mx-2"}),"Approved at ",l.a.createElement(Fa.a,{date:e.approval_manager.approved_date})," ",l.a.createElement("br",null),Ga(e.approval_manager.approved_date)," ",l.a.createElement("br",null)," ",Ya(e.approval_manager.approved_date)):"unApproved"===e.approval_manager.approve?l.a.createElement("p",{className:"text-center font-italic"},l.a.createElement(f.a,{icon:g.Eb,className:"fa-2x text-danger mx-2"}),"un Approved ",l.a.createElement(Fa.a,{date:e.approval_manager.approved_date})," ",l.a.createElement("br",null),Ga(e.approval_manager.approved_date)," ",l.a.createElement("br",null)," ",Ya(e.approval_manager.approved_date),l.a.createElement("br",null),"Reason-",e.approval_manager.comment):"commented"===e.approval_manager.approve?l.a.createElement("p",{className:"text-center font-italic"},l.a.createElement(f.a,{icon:g.y,className:"fa-2x text-warning mx-2"}),"commented ",l.a.createElement(Fa.a,{date:e.approval_manager.approved_date})," ",l.a.createElement("br",null),Ga(e.approval_manager.approved_date)," ",l.a.createElement("br",null)," ",Ya(e.approval_manager.approved_date),l.a.createElement("br",null),"comment-",e.approval_manager.comment):l.a.createElement("p",null)),l.a.createElement("td",null,l.a.createElement(Hn,{type:"view_details",fetch:j,deduction:e,am:!0,ftli:!1,fe:!1}),x.Progress(e._id)<5?l.a.createElement(Hn,{type:"approval_manager",fetch:j,deduction:e}):l.a.createElement("p",null)))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger font-weight-bold"},"No deductions to approve yet")),C=t.newDeductions.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",{className:"text-center text-info font-weight-bold"},e.id),l.a.createElement("td",{className:"text-center text-info font-weight-bold"},x.findAllowance(e.allowance_id)?x.findAllowance(e.allowance_id).id:""),l.a.createElement("td",{className:"text-center font-weight-bold text-info"},x.Name(e.creater)),l.a.createElement("td",{className:"text-info font-weight-bold"},"Waiting for decision"),l.a.createElement("td",null,l.a.createElement(Hn,{type:"view_details",fetch:j,deduction:e,am:!0,ftli:!1,fe:!1})))}));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type deduction id, allowance id",onChange:function(e){return function(e){var a=""===e?O:x.searchManager(e).new,n=""===e?w:x.searchManager(e).seen,l=""!==e;c(Object(E.a)({},t,{newDeductions:a,seenDeductions:n,found:l}))}(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Deductions"),l.a.createElement("div",{className:"widget-subheading"},"Totall Made")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,y.length)))))),l.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},O.length?l.a.createElement("h5",{className:"text-center font-weight-bold text-info"},l.a.createElement(f.a,{icon:g.g,className:"mx-2 text-info"}),O.length," Deduction to Approve"):l.a.createElement("p",null),t.found?l.a.createElement("h5",{className:"text-center"},"Deductions found -",t.seenDeductions.length+t.newDeductions.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Deduction id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"mx-2"}),"Allowance id"),l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"user",l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Decision made"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,C,k)))))))},Zn=function(){var e=Object(n.useState)({deductions:[],found:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.allowances,o=r.dispatchDeductions,m=r.deductions,u=r.employees,p=r.users,b=s.state,_=u.state,v=p.state,h=m.state,N=new vn(h,b,_,v),x=N.completedDeductions(),y=function(){return ie(o)};Object(n.useEffect)((function(){ie(o),c(Object(E.a)({},t,{deductions:x}))}),[]);var w=t.deductions.length?t.deductions.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.id),l.a.createElement("td",{className:"text-center"},N.findAllowance(e.allowance_id)?N.findAllowance(e.allowance_id).id:""),l.a.createElement("td",null,N.Name(e.creater)),l.a.createElement("td",null,N.Department(e.creater)),l.a.createElement("td",null,l.a.createElement(Hn,{type:"view_calculation",fetch:y,deduction:e,ftl:!1}),l.a.createElement(Hn,{type:"view_final",deduction:e,fetch:y,user:!1})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger font-weight-bold"},"No deductions completed yet"));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type deduction id, allowance id",onChange:function(e){return function(e){var a=""===e?x:N.searchCompleted(e),n=""!==e;c(Object(E.a)({},t,{deductions:a,found:n}))}(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Deductions"),l.a.createElement("div",{className:"widget-subheading"},"Totall completed")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,x.length)))))),l.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},t.found?l.a.createElement("h5",{className:"text-center"},"Deductions found -",t.deductions.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Deduction id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"mx-2"}),"Allowance id attached"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"Employee name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Y,className:"mx-2"}),"Department"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,w)))))))},Kn=function(){var e=Object(n.useState)({deductions:[],unCompleted:[],newCompleted:[],seenCompleted:[],found:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.allowances,o=r.dispatchDeductions,m=r.deductions,u=r.employees,p=r.users,b=s.state,_=(s.loading,s.error,u.state),v=(u.loading,u.error,p.state),h=(p.loading,p.error,m.state),N=m.loading,x=(m.error,new vn(h,b,_,v)),y=x.userDeductions(),w=x.userUnCompleted(),O=x.userNewCompleted(),j=x.userSeenCompleted(),k=function(){return ie(o)};Object(n.useEffect)((function(){ie(o),c(Object(E.a)({},t,{unCompleted:w,newCompleted:O,seenCompleted:j,deductions:y}))}),[N,JSON.stringify(h)]);var C=t.deductions.length?t.unCompleted.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.id),l.a.createElement("td",{className:"text-center"},x.findAllowance(e.allowance_id)?x.findAllowance(e.allowance_id).id:""),l.a.createElement("td",null,"draft"===e.save_options?l.a.createElement("p",{className:"text-center"},"Deduction is saved us a draft"):"approve"===e.save_options?l.a.createElement("p",{className:"text-center"},"Deduction is sent for approval"):l.a.createElement("p",null)),l.a.createElement("td",{className:"tex-center"},l.a.createElement("p",{className:"font-italic float-right"},Ya(e.created_date)),l.a.createElement(Fa.a,{date:e.created_date})," ",l.a.createElement("br",null),Ga(e.created_date)),l.a.createElement("td",null,l.a.createElement(Hn,{type:"view_details",fetch:k,deduction:e,am:!1,ftli:!1,fe:!1}),l.a.createElement(Hn,{type:"view_progress",fetch:k,deduction:e}),0===x.Progress(e._id)||1===x.Progress(e._id)||2===x.Progress(e._id)||6===x.Progress(e._id)?l.a.createElement(Hn,{type:"edit",fetch:k,deduction:e}):l.a.createElement("p",null),0===x.Progress(e._id)||1===x.Progress(e._id)||5===x.Progress(e._id)?l.a.createElement(Hn,{type:"delete",fetch:k,deduction:e}):l.a.createElement("p",null)))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7,className:"text-center text-danger font-weight-bold"},"No deductions created yet")),A=t.newCompleted.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center text-success"},e.id),l.a.createElement("td",{className:"text-center text-success"},x.findAllowance(e.allowance_id)?x.findAllowance(e.allowance_id).id:""),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center text-success"},"Deduction is sent for approval")),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-italic font-weight-bold text-success"},"Deduction is completed")),l.a.createElement("td",{className:"tex-center text-success"},l.a.createElement(Hn,{type:"view_final",deduction:e,fetch:k,user:!0})))})),D=t.seenCompleted.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.id),l.a.createElement("td",{className:"text-center"},x.findAllowance(e.allowance_id)?x.findAllowance(e.allowance_id).id:""),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center"},"Deduction is sent for approval")),l.a.createElement("td",null,l.a.createElement("p",{className:"text-center font-italic font-weight-bold"},"Deduction is completed")),l.a.createElement("td",{className:"tex-center"},l.a.createElement(Hn,{type:"view_final",deduction:e,fetch:k,user:!0})))}));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type deduction id, allowance id",onChange:function(e){return function(e){var a=""===e?w:x.searchUserDeductions(e).unCompleted,n=""===e?O:x.searchUserDeductions(e).completedUnseen,l=""===e?j:x.searchUserDeductions(e).completedSeen,r=""!==e;c(Object(E.a)({},t,{unCompleted:a,newCompleted:n,seenCompleted:l,found:r}))}(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Deductions"),l.a.createElement("div",{className:"widget-subheading"},"Totall Made")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,y.length)))))),l.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},O.length?l.a.createElement("h5",{className:"text-center font-weight-bold text-success"},l.a.createElement(f.a,{icon:g.g,className:"mx-2 text-success"}),O.length," Deductions are completed"):l.a.createElement("p",null),t.found?l.a.createElement("h5",{className:"text-center"},"Deductions found -",t.unCompleted.length+t.newCompleted.length+t.seenCompleted.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Deduction id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"mx-2"}),"Allowance id attached"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ob,className:"mx-2"}),"saving option"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"created"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,A,C,D)))))))},Qn=function(){var e=Object(n.useState)({deductions:[],found:!1,seenDeductions:[],newDeductions:[],redoneDeductions:[]}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.allowances,o=r.dispatchDeductions,m=r.deductions,u=r.employees,p=r.users,b=s.state,_=(s.loading,s.error,u.state),v=(u.loading,u.error,p.state),h=(p.loading,p.error,m.state),N=m.loading,x=(m.error,new vn(h,b,_,v)),y=x.fEmployeeDeductions(),w=x.fSeenEmployeeDeductions(),O=x.fNewEmployeeDeductions(),j=x.fe_RedoneDeductions(),k=(x.getEmp_id(),function(){return ie(o)});Object(n.useEffect)((function(){ie(o),c(Object(E.a)({},t,{seenDeductions:w,newDeductions:O,redoneDeductions:j}))}),[N,JSON.stringify(y)]);var C=y.length?t.seenDeductions.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.id),l.a.createElement("td",{className:"text-center"},x.findAllowance(e.allowance_id)?x.findAllowance(e.allowance_id).id:""),l.a.createElement("td",{className:"text-center"},x.Name(e.creater)),l.a.createElement("td",{className:"text-center"},e.f_employee.calculated?"draft"===e.f_employee.save_options?l.a.createElement("p",{className:"text-center font-italic"},"Calculated ",l.a.createElement(Fa.a,{date:e.f_employee.calculated_date})," save as a draft ",l.a.createElement("br",null),Ga(e.f_employee.calculated_date)," ",l.a.createElement("br",null),Ya(e.f_employee.calculated_date)):"Approve"===e.f_employee.save_options||"approve"===e.f_employee.save_options?l.a.createElement("p",{className:"text-center font-italic"},"calculation is done ",l.a.createElement(Fa.a,{date:e.f_employee.calculated_date})," sent for approval  ",l.a.createElement("br",null),Ga(e.f_employee.calculated_date)," ",l.a.createElement("br",null),Ya(e.f_employee.calculated_date)):l.a.createElement("p",null):l.a.createElement("p",{className:"text-center font-italic"},"Waiting to do the calculation. Accepted",l.a.createElement(Fa.a,{date:e.f_employee.accepted_date}),"   ",l.a.createElement("br",null),Ga(e.f_employee.accepted_date)," ",l.a.createElement("br",null),Ya(e.f_employee.accepted_date))),l.a.createElement("td",null,l.a.createElement(Hn,{type:"view_details",fetch:k,deduction:e,ftli:!1,am:!1,fe:!0}),11===x.Progress(e._id)?l.a.createElement(Ra.Link,{to:"/deduction/"+e._id},l.a.createElement("div",{className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.l,className:"mx-2 fa-1x text-success"}),"Calculate")):12===x.Progress(e._id)||14===x.Progress(e._id)?l.a.createElement(Ra.Link,{to:"/editDeduction/"+e._id},l.a.createElement("div",{className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.fb,className:"mx-2 fa-1x text-success"}),"Edit Calculation")):l.a.createElement("p",null),e.f_employee.calculated?l.a.createElement(Hn,{type:"view_calculation",fetch:k,deduction:e,ftl:!1}):l.a.createElement("p",null)))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger font-weight-bold"},"No deductions to approve yet")),A=t.newDeductions.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center text-info font-weight-bold"},e.id),l.a.createElement("td",{className:"text-center text-info font-weight-bold"},x.findAllowance(e.allowance_id)?x.findAllowance(e.allowance_id).id:""),l.a.createElement("td",{className:"text-center font-weight-bold text-info"},x.Name(e.creater)),l.a.createElement("td",{className:"text-info font-weight-bold"},l.a.createElement("p",{className:"text-center font-italic"},"Waiting to do the calculation. Accepted ",l.a.createElement(Fa.a,{date:e.f_employee.accepted_date})," ",l.a.createElement("br",null),Ga(e.f_employee.accepted_date)," ",l.a.createElement("br",null),Ya(e.f_employee.accepted_date))),l.a.createElement("td",null,l.a.createElement(Hn,{type:"view_details",fetch:k,deduction:e,am:!1,ftli:!1,fe:!0})))})),D=t.redoneDeductions.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center text-warning"},e.id),l.a.createElement("td",{className:"text-center text-warning"},x.findAllowance(e.allowance_id)?x.findAllowance(e.allowance_id).id:""),l.a.createElement("td",{className:"text-center  text-warning"},x.Name(e.creater)),l.a.createElement("td",{className:"text-center"},l.a.createElement("p",{className:"text-warning font-italic font-weight-bold"},"calculation need to be redone again ",l.a.createElement("br",null),"comment-",e.f_tl_approve.comment," ",l.a.createElement("br",null),"commented by your finace team leader -",x.Name(e.f_tl_pending.emp_id))),l.a.createElement("td",null,l.a.createElement(Hn,{type:"view_details",fetch:k,deduction:e,ftli:!1,am:!1,fe:!0}),l.a.createElement(Ra.Link,{to:"/editDeduction/"+e._id},l.a.createElement("div",{className:" btn btn-outline-success mx-2 my-2 "},l.a.createElement(f.a,{icon:g.fb,className:"mx-2 fa-1x text-success"}),"Edit Calculation")),e.f_employee.calculated?l.a.createElement(Hn,{type:"view_calculation",fetch:k,deduction:e,ftl:!1}):l.a.createElement("p",null)))}));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type deduction id, allowance id",onChange:function(e){return function(e){var a=""===e?O:x.searchFemployee(e).new,n=""===e?w:x.searchFemployee(e).seen,l=""===e?j:x.searchFemployee(e).redone,r=""!==e;c(Object(E.a)({},t,{newDeductions:a,seenDeductions:n,found:r,redoneDeductions:l}))}(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Deductions"),l.a.createElement("div",{className:"widget-subheading"},"Totall recieved")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,y.length)))))),l.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},O.length?l.a.createElement("h5",{className:"text-center font-weight-bold text-info"},l.a.createElement(f.a,{icon:g.g,className:"mx-2 text-info"}),O.length," Deductions to do calculation"):l.a.createElement("p",null),j.length?l.a.createElement("h5",{className:"text-center font-weight-bold text-warning"},l.a.createElement(f.a,{icon:g.G,className:"mx-2 text-warning"}),j.length," Deductions need to calculate again please review!!"):l.a.createElement("p",null),t.found?l.a.createElement("h5",{className:"text-center"},"Deductions found -",t.seenDeductions.length+t.newDeductions.length+t.redoneDeductions.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Deduction id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"mx-2"}),"Allowance id"),l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"user",l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.l,className:"mx-2"}),"Calclulation"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,A,D,C)))))))},Xn=function(){var e=Object(n.useState)({deductions:[],found:!1,seenDeductions:[],newDeductions:[]}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.allowances,o=r.dispatchDeductions,m=r.deductions,u=r.employees,p=r.users,b=s.state,_=(s.loading,s.error,u.state),v=(u.loading,u.error,p.state),h=(p.loading,p.error,m.state),N=m.loading,x=(m.error,new vn(h,b,_,v)),y=x.ftl_IncomingDeductions(),w=x.ftl_seenIncomingDeductions(),O=x.ftl_newIncomingDeductions(),j=(x.getEmp_id(),function(){return ie(o)});Object(n.useEffect)((function(){ie(o),c(Object(E.a)({},t,{seenDeductions:w,newDeductions:O}))}),[N,JSON.stringify(y)]);var k=y.length?t.seenDeductions.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.id),l.a.createElement("td",{className:"text-center"},x.findAllowance(e.allowance_id)?x.findAllowance(e.allowance_id).id:""),l.a.createElement("td",{className:"text-center"},x.Name(e.creater)),l.a.createElement("td",{className:"text-center"},"waiting"===e.f_tl_pending.approve?l.a.createElement("p",{className:"text-center font-italic"},"Waiting for Decision"):"Approved"===e.f_tl_pending.approve?l.a.createElement("p",{className:"text-center font-italic"},l.a.createElement(f.a,{icon:g.s,className:"fa-2x text-success mx-2"}),"Approved ",l.a.createElement(Fa.a,{date:e.f_tl_pending.approved_date})," ",l.a.createElement("br",null),Ga(e.f_tl_pending.approved_date)," ",l.a.createElement("br",null),Ya(e.f_tl_pending.approved_date)," ",l.a.createElement("br",null),"Assigned employee -",x.Name(e.f_employee.emp_id)):"unApproved"===e.f_tl_pending.approve?l.a.createElement("p",{className:"text-center font-italic"},l.a.createElement(f.a,{icon:g.Eb,className:"fa-2x text-danger mx-2"}),"un Approved ",l.a.createElement(Fa.a,{date:e.f_tl_pending.approved_date})," ",l.a.createElement("br",null),Ga(e.f_tl_pending.approved_date)," ",l.a.createElement("br",null),Ya(e.f_tl_pending.approved_date)," ",l.a.createElement("br",null),"Reason-",e.f_tl_pending.comment):"commented"===e.f_tl_pending.approve?l.a.createElement("p",{className:"text-center font-italic"},l.a.createElement(f.a,{icon:g.y,className:"fa-2x text-warning mx-2"}),"commented ",l.a.createElement(Fa.a,{date:e.f_tl_pending.approved_date})," ",l.a.createElement("br",null),Ga(e.f_tl_pending.approved_date)," ",l.a.createElement("br",null),Ya(e.f_tl_pending.approved_date)," ",l.a.createElement("br",null),"comment-",e.f_tl_pending.comment):l.a.createElement("p",null)),l.a.createElement("td",null,l.a.createElement(Hn,{type:"view_details",fetch:j,deduction:e,ftli:!0,am:!1,fe:!1}),x.Progress(e._id)<11?l.a.createElement(Hn,{type:"ftl_pending",fetch:j,deduction:e}):l.a.createElement("p",null)))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger font-weight-bold"},"No deductions to approve yet")),C=t.newDeductions.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center text-info font-weight-bold"},e.id),l.a.createElement("td",{className:"text-center text-info font-weight-bold"},x.findAllowance(e.allowance_id)?x.findAllowance(e.allowance_id).id:""),l.a.createElement("td",{className:"text-center font-weight-bold text-info"},x.Name(e.creater)),l.a.createElement("td",{className:"text-info font-weight-bold"},"Waiting for decision"),l.a.createElement("td",null,l.a.createElement(Hn,{type:"view_details",fetch:j,deduction:e,am:!0,ftli:!0,fe:!1})))}));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type deduction id, allowance id",onChange:function(e){return function(e){var a=""===e?O:x.searchFtlIncoming(e).new,n=""===e?w:x.searchFtlIncoming(e).seen,l=""!==e;c(Object(E.a)({},t,{newDeductions:a,seenDeductions:n,found:l}))}(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Deductions"),l.a.createElement("div",{className:"widget-subheading"},"Totall Made")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,y.length)))))),l.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},O.length?l.a.createElement("h5",{className:"text-center font-weight-bold text-info"},l.a.createElement(f.a,{icon:g.g,className:"mx-2 text-info"}),O.length," Deduction to take actions"):l.a.createElement("p",null),t.found?l.a.createElement("h5",{className:"text-center"},"Deductions found -",t.seenDeductions.length+t.newDeductions.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Deduction id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"mx-2"}),"Allowance id"),l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"user",l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.L,className:"mx-2"}),"Decision made"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,C,k)))))))},$n=function(e){var a=Object(n.useState)({deductions:[],found:!1,seenDeductions:[],newDeductions:[],redoneDeductions:[]}),t=Object(i.a)(a,2),c=t[0],r=t[1],s=Object(n.useContext)(d),o=s.allowances,m=s.dispatchDeductions,u=s.deductions,p=s.employees,b=s.users,_=o.state,v=(o.loading,o.error,p.state),h=(p.loading,p.error,b.state),N=(b.loading,b.error,u.state),x=u.loading,y=(u.error,new vn(N,_,v,h)),w=y.ftl_Calulated(),O=y.ftl_newCalculated(),j=y.ftl_Redone(),k=y.ftl_CalulatedSeen(),C=function(){return ie(m)};Object(n.useEffect)((function(){ie(m),r(Object(E.a)({},c,{newDeductions:O,seenDeductions:k,redoneDeductions:j}))}),[x,JSON.stringify(w)]);var A=w.length?c.seenDeductions.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.id),l.a.createElement("td",{className:"text-center"},y.findAllowance(e.allowance_id)?y.findAllowance(e.allowance_id).id:""),l.a.createElement("td",{className:"text-center"},y.Name(e.creater)),l.a.createElement("td",{className:"text-center"},"waiting"===e.f_tl_approve.approve?l.a.createElement("p",{className:"text-center font-italic"},"Calculated by -",y.Name(e.f_employee.emp_id)," ",l.a.createElement("br",null),"Waiting to approve the calculation. ",l.a.createElement("br",null),"Calculated ",l.a.createElement(Fa.a,{date:e.f_employee.calculated_date})," ",l.a.createElement("br",null),Ga(e.f_employee.calculated_date)," ",l.a.createElement("br",null),Ya(e.f_employee.calculated_date)):"Approved"===e.f_tl_approve.approve?l.a.createElement("p",{className:"text-center font-italic"},l.a.createElement(f.a,{icon:g.s,className:"mx-2 fa-2x text-success"}),"Approved at ",l.a.createElement(Fa.a,{date:e.f_tl_approve.approved_date})," ",l.a.createElement("br",null),Ga(e.f_tl_approve.approved_date)," ",l.a.createElement("br",null),Ya(e.f_tl_approve.approved_date)):"commented"===e.f_tl_approve.approve?l.a.createElement("p",{className:"text-center font-italic text-warning"},l.a.createElement(f.a,{icon:g.y,className:"mx-2 fa-2x text-warning"})," commented ",l.a.createElement("br",null),"comment -",e.f_tl_approve.comment):"unApproved"===e.f_tl_approve.approve?l.a.createElement("p",{className:"text-center font-italic text-danger"},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fa-2x text-danger"})," unApproved ",l.a.createElement("br",null),"comment -",e.f_tl_approve.comment):l.a.createElement("p",null)),l.a.createElement(Hn,{type:"view_calculation",fetch:C,deduction:e,ftl:!0}),e.c_seen?l.a.createElement("p",null):l.a.createElement(Hn,{type:"approve_calculation",fetch:C,deduction:e}),l.a.createElement("td",null))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,className:"text-center text-danger font-weight-bold"},"No deductions to approve yet")),D=c.newDeductions.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center text-info font-weight-bold"},e.id),l.a.createElement("td",{className:"text-center text-info font-weight-bold"},y.findAllowance(e.allowance_id)?y.findAllowance(e.allowance_id).id:""),l.a.createElement("td",{className:"text-center font-weight-bold text-info"},y.Name(e.creater)),l.a.createElement("td",{className:"text-info font-weight-bold"},l.a.createElement("p",{className:"text-center font-italic"},"Calculated by -",y.Name(e.f_employee.emp_id)," ",l.a.createElement("br",null),"Waiting to approve the calculation. ",l.a.createElement("br",null),"Calculated ",l.a.createElement(Fa.a,{date:e.f_employee.calculated_date})," ",l.a.createElement("br",null),Ga(e.f_employee.calculated_date)," ",l.a.createElement("br",null),Ya(e.f_employee.calculated_date))),l.a.createElement("td",null,l.a.createElement(Hn,{type:"view_calculation",fetch:C,deduction:e,ftl:!0})))})),S=c.redoneDeductions.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center text-warning font-weight-bold"},e.id),l.a.createElement("td",{className:"text-center text-warning font-weight-bold"},y.findAllowance(e.allowance_id)?y.findAllowance(e.allowance_id).id:""),l.a.createElement("td",{className:"text-center font-weight-bold text-warning"},y.Name(e.creater)),l.a.createElement("td",{className:"font-weight-bold"},l.a.createElement("p",{className:"text-center text-warning font-italic"},"Comment - ",e.f_tl_approve.comment),l.a.createElement("p",{className:"text-center text-warning"},"Calulation is redone please review!! Calculated at",l.a.createElement(Fa.a,{date:e.f_employee.calculated_date})," ",l.a.createElement("br",null),Ga(e.f_employee.calculated_date)," ",l.a.createElement("br",null),Ya(e.f_employee.calculated_date))),l.a.createElement("td",null,l.a.createElement(Hn,{type:"view_calculation",fetch:C,deduction:e,ftl:!0}),e.c_seen?l.a.createElement("p",null):l.a.createElement(Hn,{type:"approve_calculation",fetch:C,deduction:e})))}));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type deduction id, allowance id",onChange:function(e){return function(e){var a=""===e?O:y.ftlSeacrchCalulated(e).new,t=""===e?k:y.ftlSeacrchCalulated(e).seen,n=""===e?j:y.ftlSeacrchCalulated(e).redone,l=""!==e;r(Object(E.a)({},c,{newDeductions:a,seenDeductions:t,found:l,redoneDeductions:n}))}(e.target.value)}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Deductions"),l.a.createElement("div",{className:"widget-subheading"},"Totall recieved")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,w.length)))))),l.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},O.length?l.a.createElement("h5",{className:"text-center font-weight-bold text-info"},l.a.createElement(f.a,{icon:g.g,className:"mx-2 text-info"}),O.length," Deductions are calculated"):l.a.createElement("p",null),j.length?l.a.createElement("h5",{className:"text-center font-weight-bold text-info"},l.a.createElement(f.a,{icon:g.g,className:"mx-2 text-warning"}),j.length," Deductions are calculation are redone"):l.a.createElement("p",null),c.found?l.a.createElement("h5",{className:"text-center"},"Deductions found -",c.seenDeductions.length+c.newDeductions.length+c.redoneDeductions.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.e,className:"mx-2"}),"Deduction id"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"mx-2"}),"Allowance id"),l.a.createElement(f.a,{icon:g.wb,className:"mx-2"}),"user",l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.l,className:"mx-2"}),"Calclulation"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,D,S,A)))))))},el=function(){var e=Object(n.useState)({collapse:"",created:"text-dark",allowance_deduct:"",am:"",itl:"",fe:"",ctl:"",cfe:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.allowances,o=(r.dispatchAllowances,r.deductions),u=r.employees,p=r.users,b=s.state,_=s.loading,v=s.error,h=u.state,N=u.loading,x=u.error,y=p.state,O=p.loading,j=p.error,k=o.state,C=o.loading,A=o.error,D=new vn(k,b,h,y),S=D.userNewCompleted().length,P=D.newManagerDeductions().length,L=D.ftl_newIncomingDeductions().length,R=D.ftl_newCalculated().length,T=D.ftl_Redone().length,I=D.fNewEmployeeDeductions().length,F=D.fe_RedoneDeductions().length,B=new w(y,h),q=B.isApproval_Manager(),M=B.isFinanceTeamLeader(),U=B.isFinanceEmployee();return Object(n.useEffect)((function(){c(Object(E.a)({},t,{created:!D.userDeductions().length||q||M||U?"":"text-dark",allowance_deduct:D.userDeductions().length?"":q||M||U?"":"text-dark",am:!q||M||U?"":"text-dark",itl:q||!M||U?"":L?"text-dark":R||T?"":"text-dark",ctl:q||!M||U?"":L?"":R||T?"text-dark":"",fe:q||M||!U?"":"text-dark"}))}),[C]),l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(xa,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(La,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"container my-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 notification my-auto text-center bg-warning",style:{border:"2px solid",borderColor:"lightgray"}},l.a.createElement(f.a,{icon:g.jb,className:"fa-1x mx-2 text-white "+t.created}),l.a.createElement("h5",{className:"text-center text-white "+t.created,onClick:function(){return c(Object(E.a)({},t,{allowance_deduct:"",created:"text-dark",am:"",itl:"",fe:"",ctl:"",cfe:""}))}},"created Deduction"),S?l.a.createElement("h5",{className:" mx-2 font-weight-bold text-center"},l.a.createElement(f.a,{icon:g.g,className:"fa-1x mx-2 text-success"}),S):l.a.createElement("p",null)),l.a.createElement("div",{className:"col-lg-3 notification my-auto text-center bg-warning",style:{border:"2px solid",borderColor:"lightgray"}},l.a.createElement(f.a,{icon:g.a,className:"fa-1x text-white mx-2 "+t.allowance_deduct}),l.a.createElement("h5",{className:"text-center text-white "+t.allowance_deduct,onClick:function(){return c(Object(E.a)({},t,{allowance_deduct:"text-dark",created:"",am:"",itl:"",fe:"",ctl:"",cfe:""}))}},"Allowance to deduct")),q?l.a.createElement("div",{className:"col-lg-3 notification my-auto text-center bg-warning",style:{border:"2px solid",borderColor:"lightgray"}},l.a.createElement(f.a,{icon:g.qb,className:"fa-1x text-white mx-2 "+t.am}),l.a.createElement("h5",{className:"text-center text-white "+t.am,onClick:function(){return c(Object(E.a)({},t,{allowance_deduct:"",created:"",am:"text-dark",itl:"",fe:"",ctl:"",cfe:""}))}},"Approve Deductions"),P?l.a.createElement("h5",{className:" mx-2 font-weight-bold text-center"},l.a.createElement(f.a,{icon:g.g,className:"fa-1x mx-2 text-success"}),P):l.a.createElement("p",null)):l.a.createElement("p",null),M?l.a.createElement("div",{className:"col-lg-3 row notification my-auto text-center bg-warning",style:{border:"2px solid",borderColor:"lightgray"}},l.a.createElement(f.a,{icon:g.a,className:"fa-1x text-white mx-2 "+t.itl}),l.a.createElement("h5",{className:"text-center text-white "+t.itl,onClick:function(){return c(Object(E.a)({},t,{allowance_deduct:"",created:"",am:"",itl:"text-dark",fe:"",ctl:"",cfe:""}))}},"Incoming Deductions"),L?l.a.createElement("h5",{className:" mx-2 font-weight-bold text-center"},l.a.createElement(f.a,{icon:g.g,className:"fa-1x mx-2 text-success"}),L):l.a.createElement("p",null)):l.a.createElement("p",null),M?l.a.createElement("div",{className:"col-lg-3 row notification my-auto text-center bg-warning",style:{border:"2px solid",borderColor:"lightgray"}},l.a.createElement(f.a,{icon:g.l,className:"fa-1x text-white mx-2 "+t.ctl}),l.a.createElement("h5",{className:"text-center text-white "+t.ctl,onClick:function(){return c(Object(E.a)({},t,{allowance_deduct:"",created:"",am:"",itl:"",fe:"",ctl:"text-dark",cfe:""}))}},"Calculated Deductions"),R?l.a.createElement("h5",{className:" mx-2 font-weight-bold text-center"},l.a.createElement(f.a,{icon:g.g,className:"fa-1x mx-2 text-success"}),R):T?l.a.createElement("h5",{className:" mx-2 font-weight-bold text-center"},l.a.createElement(f.a,{icon:g.g,className:"fa-1x mx-2 text-warning"}),T):l.a.createElement("p",null)):l.a.createElement("p",null),U?l.a.createElement("div",{className:"col-lg-3 row notification my-auto text-center bg-warning",style:{border:"2px solid",borderColor:"lightgray"}},l.a.createElement(f.a,{icon:g.b,className:"fa-1x text-center text-white mx-2 "+t.fe}),l.a.createElement("h5",{className:"text-center text-white "+t.fe,onClick:function(){return c(Object(E.a)({},t,{allowance_deduct:"",created:"",am:"",itl:"",fe:"text-dark",ctl:"",cfe:""}))}},"Incoming Deductions"),I?l.a.createElement("h5",{className:"mx-1 text-white font-weight-bold text-center"},l.a.createElement(f.a,{icon:g.g,className:"fa-1x mx-2 text-success"}),I):l.a.createElement("p",null),F?l.a.createElement("h5",{className:"mx-1 font-weight-bold text-center text-warning"},l.a.createElement(f.a,{icon:g.G,className:"fa-1x mx-2 text-warning"}),F):l.a.createElement("p",null)):l.a.createElement("p",null))),l.a.createElement("div",{className:"col-lg-12"},_||N||O||C?l.a.createElement(at,null):v||x||j||A?l.a.createElement(tt,null):"text-dark"===t.created?l.a.createElement(Kn,null):"text-dark"===t.allowance_deduct?l.a.createElement(Jn,null):"text-dark"===t.am?l.a.createElement(Vn,null):"text-dark"===t.itl?l.a.createElement(Xn,null):"text-dark"===t.fe?l.a.createElement(Qn,null):"text-dark"===t.ctl?l.a.createElement($n,null):"text-dark"===t.cfe?l.a.createElement(Zn,null):l.a.createElement("p",null)))))))},al={state:[],loading:!0,error:!1},tl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:al,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_DEDUCTIONS":return{state:a.payload,loading:!1,error:!1};case"LOADING_DEDUCTIONS":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},nl=t(681),ll=function(e){var a=e.places,t=a.id,n=a.name,c=a.dayallowance,r=Object(nl.a)({item:{type:"card",id:t},collect:function(e){return{isDragging:!e.isDragging()}}}),s=Object(i.a)(r,2),o=s[0],m=o.isDragging,d=o.id,u=s[1];return console.log(d),l.a.createElement("div",{className:"col-lg-3",ref:u,style:{opacity:m?"1":"0.5"}},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"text-center"},"Place Info"),l.a.createElement("p",{className:"text-center"},"id:",t," ",l.a.createElement("br",null),"name:",n," ",l.a.createElement("br",null),"day Allwoance: ",c)))},cl=t(682),rl=function(e){e.id;var a=Object(cl.a)({accept:"card",drop:function(e,a){return p(e.id)},collect:function(e){return{isOver:e.isOver()}}}),t=Object(i.a)(a,2),c=t[0].isOver,r=t[1],s=e.places,o=Object(n.useState)({places:[]}),m=Object(i.a)(o,2),d=m[0],u=m[1],p=function(e){return u(Object(E.a)({},d,{places:[].concat(Object(b.a)(d.places),[s.find((function(a){return a.id===e}))])}))};return l.a.createElement("div",{className:"col-lg-12",ref:r,style:{background:c?"gray":"green",height:"200px"}},l.a.createElement("div",{className:"row"},d.places.map((function(e){return l.a.createElement("div",{className:"col-lg-12 card"},"name:",e.name," ",l.a.createElement("br",null),"region:",e.region," ",l.a.createElement("br",null),"dayAllowance :",e.dayallowance," ",l.a.createElement("br",null))}))))},il=(l.a.createContext(),function(){var e=[{id:Ca(),name:"Adama",region:"oromia",type:"state_city",dayallowance:365},{id:Ca(),name:"Bahirdar",region:"Amhara",type:"state_city",dayallowance:400},{id:Ca(),name:"Adama",region:"oromia",type:"state_city",dayallowance:654}],a=e.map((function(e){return l.a.createElement(ll,{places:e,key:e.id})}));return l.a.createElement(kn.a,{backend:Cn.a},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},a,l.a.createElement(rl,{places:e}))))}),sl=Object(o.withRouter)((function(e){var a=e.match.params.id,t=Object(n.useState)({collapse:"closed-sidebar-mobile closed-sidebar"}),c=Object(i.a)(t,2),r=c[0],s=c[1];return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+r.collapse},l.a.createElement(m.Provider,{value:{uiContents:r,togglers:s}},l.a.createElement(xa,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(La,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement(Un,{_id:a}))))))})),ol=Object(o.withRouter)((function(e){var a=e._id,t=Object(n.useState)(Object(E.a)({places:[],official_places:[],check:{inAA:!1,outAA:!0},place_id:"",place_type:"",region:"",climate_places:[],c_initial_day:{breakfast:{place_id:"",climate_place:"",project_allowance:"",scale:0},lunch:{place_id:"",climate_place:"",project_allowance:"",scale:0},dinner:{place_id:"",climate_place:"",project_allowance:"",scale:0},bed:{place_id:"",climate_place:"",project_allowance:"",scale:0}},c_spending_days:[],c_return_day:{breakfast:{place_id:"",climate_place:"",project_allowance:"",scale:0},lunch:{place_id:"",climate_place:"",project_allowance:"",scale:0},dinner:{place_id:"",climate_place:"",project_allowance:"",scale:0}},save_options:"Approve",day_Places:[],Climate_Places:[]},ka("default"))),c=Object(i.a)(t,2),r=c[0],o=c[1],m=r.c_initial_day,p=m.breakfast,_=m.lunch,v=m.dinner,h=m.bed,N=r.c_return_day,x=N.breakfast,y=N.lunch,O=N.dinner,j=Object(n.useContext)(d),k=j.allowances,C=j.deductions,A=j.employees,D=j.users,P=j.place,I=j.fieldEmployees,F=j.climatePlaces,B=j.config,q=j.dispatchDeductions,M=k.state,U=k.loading,G=k.error,Y=A.state,z=A.loading,W=A.error,H=D.state,J=D.loading,V=D.error,Z=B.loading,K=C.state,Q=C.loading,X=C.error,$=new An(K,M,Y,H,P.state,F.state,B.length||!Z?B.state[0]:{breakfast:0,lunch:0,dinner:0,bed:0}),ee=new Yt(I.state),ae=new Ut(P.state),te=new Mt(F.state),ne=$.findDeductions(a)?$.findDeductions(a):{creater:"",spending_days:[],initial_day:{breakfast:"",lunch:"",dinner:"",bed:""},return_day:{breakfast:"",lunch:"",dinner:""},initial_time:{min:0,hour:0},return_time:{min:0,hour:0},c_spending_days:[],f_employee:{save_options:""},c_initial_day:{breakfast:{place_id:"",climate_place:"",project_allowance:"",scale:0},lunch:{place_id:"",climate_place:"",project_allowance:"",scale:0},dinner:{place_id:"",climate_place:"",project_allowance:"",scale:0},bed:{place_id:"",climate_place:"",project_allowance:"",scale:0}},c_return_day:{breakfast:{place_id:"",climate_place:"",project_allowance:"",scale:0},lunch:{place_id:"",climate_place:"",project_allowance:"",scale:0},dinner:{place_id:"",climate_place:"",project_allowance:"",scale:0}}},le=ne.creater,ce=$.isOfficial(le),re=$.Salary(le),se=ee.faCheck(le),oe=(ee.faIn_A_A(le),ee.faOut_A_A(le),r.check.inAA?ee.faIn_A_A(le):r.check.outAA?ee.faOut_A_A(le):0),me=(ce?ae.officialPlaces():ae.employeePlaces(),function(e,a){return ne.c_spending_days.find((function(t){return t.s_id===e&&t.type===a}))}),de=new w(H,Y),ue=ne.c_initial_day,pe=ue.breakfast,Ee=ue.lunch,ge=ue.dinner,be=ue.bed,_e=ne.c_return_day,ve=_e.breakfast,he=_e.lunch,Ne=_e.dinner;Object(n.useEffect)((function(){Q?Aa():de.isFinanceEmployee()?Aa():e.history.push("/login"),ie(q),document.title="Edit deduction";var a=[];ne.spending_days.map((function(e){a.push({_id:e._id,type:"breakfast",duration:me(e._id,"breakfast")?me(e._id,"breakfast").duration:0,place_id:me(e._id,"breakfast")?me(e._id,"breakfast").place_id:"",climate_place:me(e._id,"breakfast")?me(e._id,"breakfast").climate_place:"",project_allowance:me(e._id,"breakfast")?me(e._id,"breakfast").project_allowance:"",scale:$.scale(le,me(e._id,"breakfast")?me(e._id,"breakfast").place_id:"")},{_id:e._id,type:"lunch",duration:me(e._id,"lunch")?me(e._id,"lunch").duration:0,place_id:me(e._id,"lunch")?me(e._id,"lunch").place_id:"",climate_place:me(e._id,"lunch")?me(e._id,"lunch").climate_place:"",project_allowance:me(e._id,"lunch")?me(e._id,"lunch").project_allowance:"",scale:$.scale(le,me(e._id,"lunch")?me(e._id,"lunch").place_id:"")},{_id:e._id,type:"dinner",duration:me(e._id,"dinner")?me(e._id,"dinner").duration:0,place_id:me(e._id,"dinner")?me(e._id,"dinner").place_id:"",climate_place:me(e._id,"dinner")?me(e._id,"dinner").climate_place:"",project_allowance:me(e._id,"dinner")?me(e._id,"dinner").project_allowance:"",scale:$.scale(le,me(e._id,"dinner")?me(e._id,"dinner").place_id:"")},{_id:e._id,type:"bed",duration:me(e._id,"bed")?me(e._id,"bed").duration:0,place_id:me(e._id,"bed")?me(e._id,"bed").place_id:"",climate_place:me(e._id,"bed")?me(e._id,"bed").climate_place:"",project_allowance:me(e._id,"bed")?me(e._id,"bed").project_allowance:"",scale:$.scale(le,me(e._id,"bed")?me(e._id,"bed").place_id:"")})}));var t={breakfast:{place_id:pe.place_id,climate_place:pe.climate_place,project_allowance:pe.project_allowance,scale:$.scale(le,pe.place_id)},lunch:{place_id:Ee.place_id,climate_place:Ee.climate_place,project_allowance:Ee.project_allowance,scale:$.scale(le,Ee.place_id)},dinner:{place_id:ge.place_id,climate_place:ge.climate_place,project_allowance:ge.project_allowance,scale:$.scale(le,ge.place_id)},bed:{place_id:be.place_id,climate_place:be.climate_place,project_allowance:be.project_allowance,scale:$.scale(le,be.place_id)}},n={breakfast:{place_id:ve.place_id,climate_place:ve.climate_place,project_allowance:ve.project_allowance,scale:$.scale(le,ve.place_id)},lunch:{place_id:he.place_id,climate_place:he.climate_place,project_allowance:he.project_allowance,scale:$.scale(le,he.place_id)},dinner:{place_id:Ne.place_id,climate_place:Ne.climate_place,project_allowance:Ne.project_allowance,scale:$.scale(le,Ne.place_id)}};o(Object(E.a)({},r,{c_spending_days:a,c_initial_day:t,c_return_day:n,save_options:ne.f_employee.save_options}))}),[Q,P.loading,F.loading]);var ye=function(e,a){if(("rural_kebele"===a||"rural_kebele"===r.place_type)&&"region"===e||"rural_kebele"===a)o((function(t){return Object(E.a)({},r,{scale:100,place_type:"rural_kebele",place_id:"",region:"region"===e?a:t.region},ka("default"))}));else if("region"===e){var t=ae.findByRegionAndType(a,r.place_type),n=t?$.scale(le,t._id):0;o(Object(E.a)({},r,{scale:n,region:a,place_id:t?t._id:"",Place_Name:t?t.name:"",error:"",success:"",process:""}))}else if("place_type"===e){var l=ae.findByRegionAndType(r.region,a),c=l?$.scale(le,l._id):0;o(Object(E.a)({},r,{scale:c,place_type:a,Place_Name:l?l.name:"",place_id:l?l._id:""},ka("default")))}},we=r.climate_places.length?r.climate_places.map((function(e){return l.a.createElement("tr",{place:e,key:e._id},l.a.createElement("td",null,e.general_name),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.level),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-info",onClick:function(){return ma(e._id)}},l.a.createElement(f.a,{icon:g.ib}),"set")))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:3,className:"text-danger font-weight-bold text-center"},"No climate allowance places found")),Oe=r.official_places.length?r.official_places.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.region),l.a.createElement("td",null,e.type),l.a.createElement("td",null,$.scale(le,e._id)),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-info",onClick:function(){return oa(e._id,$.scale(le,e._id))}},l.a.createElement(f.a,{icon:g.ib}),"set")))})):l.a.createElement("td",{colSpan:4,className:"text-danger font-weight-bold text-center"},"No official places found"),je=function(e){return o(Object(E.a)({},r,{c_initial_day:Pn(e,r.c_initial_day)},ka("default")))},ke=function(e){return o(Object(E.a)({},r,{c_initial_day:Ln(e,r.c_initial_day)},ka("default")))},Ce=function(e,a){return r.c_spending_days.find((function(t){return t._id===e&&t.type===a}))},Ae=function(e,a){return o(Object(E.a)({},r,{c_spending_days:qn(e,a,r.c_spending_days)},ka("default")))},De=function(e,a){return o(Object(E.a)({},r,{c_spending_days:Mn(e,a,r.c_spending_days)},ka("default")))},Se=function(e){return o(Object(E.a)({},r,{c_return_day:Pn(e,r.c_return_day)},ka("default")))},Pe=function(e){return o(Object(E.a)({},r,{c_return_day:Ln(e,r.c_return_day)},ka("default")))},Le=$.singleBreakfast(p.scale)+$.singleLunch(_.scale)+$.singleDinner(v.scale)+$.singleBed(h.scale),Re=$.singleBreakfast(x.scale)+$.singleLunch(y.scale)+$.singleDinner(O.scale),Te=0,Ie=0,Fe=0,Be=0;ne.spending_days.map((function(e){Te+=$.spendingBreakfast(a,e._id,Ce(e._id,"breakfast")?Ce(e._id,"breakfast").scale:0),Ie+=$.spendingLunch(a,e._id,Ce(e._id,"lunch")?Ce(e._id,"lunch").scale:0),Fe+=$.spendingDinner(a,e._id,Ce(e._id,"dinner")?Ce(e._id,"dinner").scale:0),Be+=$.spendingBed(a,e._id,Ce(e._id,"bed")?Ce(e._id,"bed").scale:0)}));var qe=Te+Ie+Fe+Be,Me=Math.round(100*(qe+Le+Re))/100,Ue=$.breakFastClimate(p.climate_place,p.scale)+$.lunchClimate(_.climate_place,_.scale)+$.dinnerClimate(v.climate_place,v.scale)+$.bedClimate(h.climate_place,h.scale),Ge=$.breakFastClimate(x.climate_place,x.scale)+$.lunchClimate(y.climate_place,y.scale)+$.dinnerClimate(O.climate_place,O.scale),Ye=0,ze=0,We=0,He=0;ne.spending_days.map((function(e){Ye+=$.sBreakFastClimate(a,Ce(e._id,"breakfast")?Ce(e._id,"breakfast").climate_place:"",e._id,Ce(e._id,"breakfast")?Ce(e._id,"breakfast").scale:0),ze+=$.sLunchClimate(a,Ce(e._id,"lunch")?Ce(e._id,"lunch").climate_place:"",e._id,Ce(e._id,"lunch")?Ce(e._id,"lunch").scale:0),We+=$.sDinnerClimate(a,Ce(e._id,"dinner")?Ce(e._id,"dinner").climate_place:"",e._id,Ce(e._id,"dinner")?Ce(e._id,"dinner").scale:0),He+=$.sBedClimate(a,Ce(e._id,"bed")?Ce(e._id,"bed").climate_place:"",e._id,Ce(e._id,"bed")?Ce(e._id,"bed").scale:0)}));var Je=Ye+ze+We+He,Ve=Math.round(100*(Ue+Ge+Je))/100,Ze=Math.round(100*(parseFloat(ne.petrol+ne.maintainace+ne.other)+Ve+Me))/100,Ke=$.findAllowance(ne.allowance_id),Qe=Ke?Ke.totall_amount:0,Xe=Math.round(100*(Ze-Qe))/100,$e=[];r.c_spending_days.map((function(e){se?""===e.project_allowance?$e.push(e):Aa():""===e.place_id?$e.push(e):Aa()}));var ea=function(e,a){return!!$e.find((function(t){return t._id===e&&t.type===a}))},aa=function(e,a){return o((function(t){return Object(E.a)({},t,{day_Places:t.day_Places.find((function(t){return t.day_time===e&&t.day_type===a}))?t.day_Places:[].concat(Object(b.a)(t.day_Places),[{id:Ca(),day_time:e,day_type:a,s_id:null}])})}))},ta=function(e,a){return o((function(t){return Object(E.a)({},t,{day_Places:t.day_Places.filter((function(t){return t.day_time===e&&t.day_type!==a||t.day_time!==e&&t.day_type!==a||t.day_time!==e&&t.day_type===a}))})}))},na=function(e,a){return o((function(t){return Object(E.a)({},t,{Climate_Places:t.Climate_Places.find((function(t){return t.day_time===e&&t.day_type===a}))?t.Climate_Places:[].concat(Object(b.a)(t.Climate_Places),[{id:Ca(),day_time:e,day_type:a,s_id:null}])})}))},la=function(e,a){return o((function(t){return Object(E.a)({},t,{Climate_Places:t.Climate_Places.filter((function(t){return t.day_time===e&&t.day_type!==a||t.day_time!==e&&t.day_type!==a||t.day_time!==e&&t.day_type===a}))})}))},ca=function(e,a,t){return o((function(n){return Object(E.a)({},n,{day_Places:n.day_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t}))?n.day_Places:[].concat(Object(b.a)(n.day_Places),[{id:Ca(),day_time:e,day_type:a,s_id:t}])})}))},ra=function(e,a,t){return o((function(n){return Object(E.a)({},n,{Climate_Places:n.Climate_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t}))?n.Climate_Places:[].concat(Object(b.a)(n.Climate_Places),[{id:Ca(),day_time:e,day_type:a,s_id:t}])})}))},ia=function(e,a,t){return o((function(n){return Object(E.a)({},n,{day_Places:n.day_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t}))?n.day_Places.filter((function(l){return l.id!==n.day_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t})).id})):n.day_Places})}))},sa=function(e,a,t){return o((function(n){return Object(E.a)({},n,{Climate_Places:n.Climate_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t}))?n.Climate_Places.filter((function(l){return l.id!==n.Climate_Places.find((function(n){return n.day_time===e&&n.day_type===a&&n.s_id===t})).id})):n.Climate_Places})}))},oa=function(e,a){return r.day_Places.map((function(t){o((function(n){return Object(E.a)({},n,{c_initial_day:"initial"===t.day_type?Rn(e,t.day_time,a,n.c_initial_day):n.c_initial_day,c_spending_days:"spending"===t.day_type?Fn(t.s_id,e,t.day_time,a,n.c_spending_days):n.c_spending_days,c_return_day:"return"===t.day_type?Rn(e,t.day_time,a,n.c_return_day):n.c_return_day},ka("default"))}))}))},ma=function(e){return r.Climate_Places.map((function(a){o((function(t){return Object(E.a)({},t,{c_initial_day:"initial"===a.day_type?Sn(e,a.day_time,t.c_initial_day):t.c_initial_day,c_spending_days:"spending"===a.day_type?Bn(a.s_id,e,a.day_time,t.c_spending_days):t.c_spending_days,c_return_day:"return"===a.day_type?Sn(e,a.day_time,t.c_return_day):t.c_return_day},ka("default"))}))}))};return U||z||J||Q?l.a.createElement(at,null):G||W||V||X?l.a.createElement(tt,null):l.a.createElement(kn.a,{backend:Cn.a},l.a.createElement(u.Provider,{value:{intialPlaceField:function(e,a,t){return o(Object(E.a)({},r,{c_initial_day:Dn(e,a,t,r.c_initial_day)},ka("default")))},BreakfastClimatePlace:function(e,a){return o(Object(E.a)({},r,{c_initial_day:Sn(e,a,r.c_initial_day)},ka("default")))},removeInitialPlaces:je,RemoveClimatePlace:ke,initialOfficial:function(e,a,t){return o(Object(E.a)({},r,{c_initial_day:Rn(e,a,t,r.c_initial_day)},ka("default")))},addFieldSpending:function(e,a,t,n){return o(Object(E.a)({},r,{c_spending_days:In(e,a,t,n,r.c_spending_days)},ka("default")))},addSpendingClimate:function(e,a,t){return o(Object(E.a)({},r,{c_spending_days:Bn(e,a,t,r.c_spending_days)},ka("default")))},RemoveSpendingDay:Ae,RemoveClimateSpending:De,DropSpendingDays:function(e,a,t,n){return o(Object(E.a)({},r,{c_spending_days:Fn(e,a,t,n,r.c_spending_days)},ka("default")))},returnOfficial:function(e,a,t){return o(Object(E.a)({},r,{c_return_day:Rn(e,a,t,r.c_return_day)},ka("default")))},removeReturnClimate:Pe,removeReturnPlace:Se,returnClimatePlace:function(e,a){return o(Object(E.a)({},r,{c_return_day:Sn(e,a,r.c_return_day)},ka("default")))},returnProject:function(e,a,t){return o(Object(E.a)({},r,{c_return_day:Dn(e,a,t,r.c_return_day)},ka("default")))}}},l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(s.b,{to:"/deduction",className:"float-left"},l.a.createElement("button",{className:"btn btn-outline-info"},l.a.createElement(f.a,{icon:g.c,className:"fa-1x"})))),l.a.createElement("div",{className:"col-lg-4 my-2"},l.a.createElement("div",{className:"card"},l.a.createElement("h5",{className:"text-center font-weight-bold"},l.a.createElement(f.a,{icon:g.wb}),"   user"),l.a.createElement("p",{className:"text-center font-weight-bold"},"From- ",$.Name(le)," ",l.a.createElement("br",null),"Department -",$.Department(le)," ",l.a.createElement("br",null),"Is Employee official?-",ce?"yes":"No"," ",l.a.createElement("br",null),"Is Employe project allowance?-",se?"yes":"no"," ",l.a.createElement("br",null),"salary-",re))),l.a.createElement("div",{className:"col-lg-4 my-2"},l.a.createElement("div",{className:"card text-center"},se?l.a.createElement("div",null,l.a.createElement("p",{className:"font-weight-bold text-center"},"please select Inside Addis Ababa or outside Addis Ababa"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("input",{type:"checkbox",checked:r.check.inAA,className:"my-auto mx-3",onChange:function(e){return o((function(e){return Object(E.a)({},r,{check:{inAA:!0,outAA:!1}})}))}}),"Inside Addis Ababa",l.a.createElement("input",{type:"checkbox",checked:r.check.outAA,className:"my-auto mx-3",onChange:function(e){return o((function(e){return Object(E.a)({},r,{check:{inAA:!1,outAA:!0}})}))}}),"outside Addis Ababa"),l.a.createElement("h4",{className:"text-center font-weight-bold"},"Allowance scale: ",oe)," ",l.a.createElement("br",null),l.a.createElement("button",{className:"btn-info  form-control",onClick:function(e){return function(e,a){return r.day_Places.map((function(t){o((function(n){return Object(E.a)({},n,{c_initial_day:"initial"===t.day_type?Dn(e,t.day_time,a,n.c_initial_day):n.c_initial_day,c_spending_days:"spending"===t.day_type?In(t.s_id,e,t.day_time,a,n.c_spending_days):n.c_spending_days,c_return_day:"return"===t.day_type?Dn(e,t.day_time,a,n.c_return_day):n.c_return_day},ka("default"))}))}))}(r.check.inAA?"Inside":r.check.outAA?"Outside":"",oe)}},"Set Place")):l.a.createElement("p",null),l.a.createElement("div",{className:"search-wrapper active"},ce?l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type place name",onChange:function(e){return a=e.target.value,o(""===a?Object(E.a)({},r,{official_places:[]}):Object(E.a)({},r,{official_places:ae.searchPlaceOfficial(a)}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))):l.a.createElement("p",null),l.a.createElement("div",{className:"mt-2"},l.a.createElement("p",{className:"font-weight-bold text-center"},"Region"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.I,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return ye("region",e.target.value)}},l.a.createElement("option",{value:""},"Enter region"),l.a.createElement("option",{value:"Amhara"},"Amhara"),l.a.createElement("option",{value:"Oromia"},"Oromia"),l.a.createElement("option",{value:"Tigrai"},"Tigrai"),l.a.createElement("option",{value:"Somalia"},"Somalia"),l.a.createElement("option",{value:"Benshangul"},"Benshangul"),l.a.createElement("option",{value:"Afar"},"Afar"),l.a.createElement("option",{value:"Gambela"},"Gambela"),l.a.createElement("option",{value:"SPNR"},"south nation people"),l.a.createElement("option",{value:"Sidama"},"Sidama"),l.a.createElement("option",{value:"Harari"},"Harari"),l.a.createElement("option",{value:"DireDewa"},"DireDewa"),l.a.createElement("option",{value:"addis_ababa"},"Addis Ababa"))),l.a.createElement("p",{className:"font-weight-bold text-center"},"place type"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.v,className:"text-info fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return ye("place_type",e.target.value)}},l.a.createElement("option",{value:""},"Enter place type"),l.a.createElement("option",{value:"state_city"},"State city"),l.a.createElement("option",{value:"zone"},"Zone"),l.a.createElement("option",{value:"woreda"},"woreda"),l.a.createElement("option",{value:"rural_kebele"},"Rural kebele")))),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"font-weight-bold"},"Region:",r.region," ",l.a.createElement("br",null),"type:",r.place_type,"   ",l.a.createElement("br",null),"scale:",r.scale)),l.a.createElement("button",{className:"btn btn-info form-control",onClick:function(){return oa(r.place_id,r.scale)}},l.a.createElement(f.a,{icon:g.ib}),"Set")))),l.a.createElement("div",{className:"col-lg-4 my-2"},l.a.createElement("h4",{className:"text-center my-2"},"Climate Place search"),l.a.createElement("div",{className:"card text-center"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Input name of the climate place",onChange:function(e){return a=e.target.value,o(Object(E.a)({},r,{climate_places:""===a?[]:te.searchPlace(a)}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null)))),l.a.createElement("p",null))),l.a.createElement("div",{className:"col-lg-12 my-2"},ce?l.a.createElement("div",null,l.a.createElement("h5",{className:"text-center font-weight-bold my-2"},"official places"),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"mx-2"}),"place name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"mx-2"}),"region"),l.a.createElement(f.a,{icon:g.T,className:"mx-2"}),"place type",l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.W,className:"mx-2"}),"scale"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ib,className:"mx-2"}),"set"))),l.a.createElement(xe.h,null,Oe))):l.a.createElement("p",null),l.a.createElement("h5",{className:"text-center font-weight-bold my-2"},"climate places"),l.a.createElement(xe.g,{hover:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"mx-1"}),"General place name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.W,className:"mx-1"}),"place name"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.Q,className:"mx-1"}),"level"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ib,className:"mx-1"}),"set"))),l.a.createElement(xe.h,null,we))),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"text-center"},"Initial day"),l.a.createElement(xe.g,{hover:!0,striped:!0,bordered:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info mx-2"}),"initial date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.o,className:"fa-1x text-info mx-2"}),"initial Time"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"fa-1x text-info mx-2"}),"Allowance situation"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"fa-1x text-info mx-2"}),"User Entered place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"fa-1x text-info mx-2"}),"Place to calculate"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info mx-2"}),"Climate place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info"}),"Day allowance"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info"}),"Climate Allowance"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",{rowSpan:4},Wa(ne.initial_date)),l.a.createElement("td",{rowSpan:4},ne.initial_time.hour,":",ne.initial_time.min<10?"0"+ne.initial_time.min:ne.initial_time.min),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,ne.initial_day.breakfast),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?aa("breakfast","initial"):ta("breakfast","initial")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",p.scale," ",l.a.createElement("br",null),"place:",p.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(p.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(p.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(p.place_id)," ",l.a.createElement("br",null),"scale:",p.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return je("breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2",onChange:function(e){return e.currentTarget.checked?na("breakfast","initial"):la("breakfast","initial")}}),"   ",l.a.createElement("br",null),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(p.climate_place)?te.findClimatePlace(p.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(p.climate_place)?te.findClimatePlace(p.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(p.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return ke("breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleBreakfast(p.scale)),l.a.createElement("td",null,$.breakFastClimate(p.climate_place,p.scale))),l.a.createElement("tr",null,l.a.createElement("td",null,"lunch"),l.a.createElement("td",null,ne.initial_day.lunch),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?aa("lunch","initial"):ta("lunch","initial")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",_.scale," ",l.a.createElement("br",null),"place:",_.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(_.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(_.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(_.place_id)," ",l.a.createElement("br",null),"scale:",_.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return je("lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?na("lunch","initial"):la("lunch","initial")}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(_.climate_place)?te.findClimatePlace(_.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(_.climate_place)?te.findClimatePlace(_.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(_.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return ke("lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleLunch(_.scale)),l.a.createElement("td",null,$.lunchClimate(_.climate_place,_.scale))),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,ne.initial_day.dinner),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?aa("dinner","initial"):ta("dinner","initial")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",v.scale," ",l.a.createElement("br",null),"place:",v.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(v.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(v.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(v.place_id)," ",l.a.createElement("br",null),"scale:",v.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return je("dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?na("dinner","initial"):la("dinner","initial")}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(v.climate_place)?te.findClimatePlace(v.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(v.climate_place)?te.findClimatePlace(v.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(v.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return ke("dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleDinner(v.scale)),l.a.createElement("td",null,$.dinnerClimate(v.climate_place,v.scale))),l.a.createElement("tr",null,l.a.createElement("td",null,"Bed"),l.a.createElement("td",null,ne.initial_day.bed),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?aa("bed","initial"):ta("bed","initial")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",h.scale," ",l.a.createElement("br",null),"place:",h.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(h.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(h.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(h.place_id)," ",l.a.createElement("br",null),"scale:",h.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return je("bed")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?na("bed","initial"):la("bed","initial")}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(h.climate_place)?te.findClimatePlace(h.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(h.climate_place)?te.findClimatePlace(h.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(h.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return ke("bed")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleBed(h.scale)),l.a.createElement("td",null,$.bedClimate(h.climate_place,h.scale))))))),ne.spending_days.length?l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"text-center"},"spending days"),l.a.createElement(xe.g,{hover:!0,striped:!0,bordered:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info mx-2"}),"Duration date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.o,className:"fa-1x text-info mx-2"}),"Duration days"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"fa-1x text-info mx-2"}),"Allowance situation"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"fa-1x text-info mx-2"}),"User Entered place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"fa-1x text-info mx-2"}),"Place to calculate"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info mx-2"}),"Climate place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info"}),"Day allowance"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info"}),"Climate Allowance"))),ne.spending_days.map((function(e){return l.a.createElement(xe.h,{key:e._id,label:"deduction ".concat(e)},l.a.createElement("tr",{key:e._id},l.a.createElement("td",{rowSpan:4},Wa($.sFromDate(a,e._id)),"- to -",Wa($.sUptoDate(a,e._id))),l.a.createElement("td",{rowSpan:4},l.a.createElement("h5",{className:"font-weight-bold"},$.sDuration(a,e._id))),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,$.findSpendingDay(a,e._id)?$.findSpendingDay(a,e._id).breakfast:""),l.a.createElement("td",{style:{borderColor:ea(e._id,"breakfast")?"red":""}},l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ca("breakfast","spending",e._id):ia("breakfast","spending",e._id)}}),"    ",l.a.createElement("br",null),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",Ce(e._id,"breakfast")?Ce(e._id,"breakfast").scale:0," ",l.a.createElement("br",null),"place:",Ce(e._id,"breakfast")?Ce(e._id,"breakfast").project_allowance:0):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(Ce(e._id,"breakfast")?Ce(e._id,"breakfast").place_id:""),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(Ce(e._id,"breakfast")?Ce(e._id,"breakfast").place_id:""),"  ",l.a.createElement("br",null),"type:",ae.placeType(Ce(e._id,"breakfast")?Ce(e._id,"breakfast").place_id:"")," ",l.a.createElement("br",null),"scale:",Ce(e._id,"breakfast")?Ce(e._id,"breakfast").scale:0),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return Ae(e._id,"breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ra("breakfast","spending",e._id):sa("breakfast","spending",e._id)}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"General name:",te.climateName(Ce(e._id,"breakfast")?Ce(e._id,"breakfast").climate_place:"")," ",l.a.createElement("br",null),"name:",te.climateName(Ce(e._id,"breakfast")?Ce(e._id,"breakfast").climate_place:"")," ",l.a.createElement("br",null),"level:",te.climateLevel(Ce(e._id,"breakfast")?Ce(e._id,"breakfast").climate_place:"")," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(Ce(e._id,"breakfast")?Ce(e._id,"breakfast").climate_place:"")," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return De(e._id,"breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.spendingBreakfast(a,e._id,Ce(e._id,"breakfast")?Ce(e._id,"breakfast").scale:0)),l.a.createElement("td",null,$.sBreakFastClimate(a,Ce(e._id,"breakfast")?Ce(e._id,"breakfast").climate_place:"",e._id,Ce(e._id,"breakfast")?Ce(e._id,"breakfast").scale:0))),l.a.createElement("tr",null,l.a.createElement("td",null,"Lunch"),l.a.createElement("td",null,$.findSpendingDay(a,e._id)?$.findSpendingDay(a,e._id).lunch:""),l.a.createElement("td",{style:{borderColor:ea(e._id,"lunch")?"red":""}},l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ca("lunch","spending",e._id):ia("lunch","spending",e._id)}}),"    ",l.a.createElement("br",null),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",Ce(e._id,"lunch")?Ce(e._id,"lunch").scale:0," ",l.a.createElement("br",null),"place:",Ce(e._id,"lunch")?Ce(e._id,"lunch").project_allowance:0):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(Ce(e._id,"lunch")?Ce(e._id,"lunch").place_id:""),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(Ce(e._id,"lunch")?Ce(e._id,"lunch").place_id:""),"  ",l.a.createElement("br",null),"type:",ae.placeType(Ce(e._id,"lunch")?Ce(e._id,"lunch").place_id:"")," ",l.a.createElement("br",null),"scale:",Ce(e._id,"lunch")?Ce(e._id,"lunch").scale:0),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return Ae(e._id,"lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ra("lunch","spending",e._id):sa("lunch","spending",e._id)}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"General name:",te.climateName(Ce(e._id,"lunch")?Ce(e._id,"lunch").climate_place:"")," ",l.a.createElement("br",null),"name:",te.climateName(Ce(e._id,"lunch")?Ce(e._id,"lunch").climate_place:"")," ",l.a.createElement("br",null),"level:",te.climateLevel(Ce(e._id,"lunch")?Ce(e._id,"lunch").climate_place:"")," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(Ce(e._id,"lunch")?Ce(e._id,"lunch").climate_place:"")," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return De(e._id,"lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.spendingLunch(a,e._id,Ce(e._id,"lunch")?Ce(e._id,"lunch").scale:0)),l.a.createElement("td",null,$.sLunchClimate(a,Ce(e._id,"lunch")?Ce(e._id,"lunch").climate_place:"",e._id,Ce(e._id,"lunch")?Ce(e._id,"lunch").scale:0))),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,$.findSpendingDay(a,e._id)?$.findSpendingDay(a,e._id).dinner:""),l.a.createElement("td",{style:{borderColor:ea(e._id,"dinner")?"red":""}},l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ca("dinner","spending",e._id):ia("dinner","spending",e._id)}}),"    ",l.a.createElement("br",null),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",Ce(e._id,"dinner")?Ce(e._id,"dinner").scale:0," ",l.a.createElement("br",null),"place:",Ce(e._id,"dinner")?Ce(e._id,"dinner").project_allowance:0):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(Ce(e._id,"dinner")?Ce(e._id,"dinner").place_id:""),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(Ce(e._id,"dinner")?Ce(e._id,"dinner").place_id:""),"  ",l.a.createElement("br",null),"type:",ae.placeType(Ce(e._id,"dinner")?Ce(e._id,"dinner").place_id:"")," ",l.a.createElement("br",null),"scale:",Ce(e._id,"dinner")?Ce(e._id,"dinner").scale:0),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return Ae(e._id,"dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ra("dinner","spending",e._id):sa("dinner","spending",e._id)}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"General name:",te.climateName(Ce(e._id,"dinner")?Ce(e._id,"dinner").climate_place:"")," ",l.a.createElement("br",null),"name:",te.climateName(Ce(e._id,"dinner")?Ce(e._id,"dinner").climate_place:"")," ",l.a.createElement("br",null),"level:",te.climateLevel(Ce(e._id,"dinner")?Ce(e._id,"dinner").climate_place:"")," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(Ce(e._id,"dinner")?Ce(e._id,"dinner").climate_place:"")," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return De(e._id,"dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.spendingDinner(a,e._id,Ce(e._id,"dinner")?Ce(e._id,"dinner").scale:0)),l.a.createElement("td",null,$.sDinnerClimate(a,Ce(e._id,"dinner")?Ce(e._id,"dinner").climate_place:"",e._id,Ce(e._id,"dinner")?Ce(e._id,"dinner").scale:0))),l.a.createElement("tr",null,l.a.createElement("td",null,"Bed"),l.a.createElement("td",null,$.findSpendingDay(a,e._id)?$.findSpendingDay(a,e._id).bed:""),l.a.createElement("td",{style:{borderColor:ea(e._id,"bed")?"red":""}},l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ca("bed","spending",e._id):ia("bed","spending",e._id)}}),"    ",l.a.createElement("br",null),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",Ce(e._id,"bed")?Ce(e._id,"bed").scale:0," ",l.a.createElement("br",null),"place:",Ce(e._id,"bed")?Ce(e._id,"bed").project_allowance:0):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(Ce(e._id,"bed")?Ce(e._id,"bed").place_id:""),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(Ce(e._id,"bed")?Ce(e._id,"bed").place_id:""),"  ",l.a.createElement("br",null),"type:",ae.placeType(Ce(e._id,"bed")?Ce(e._id,"bed").place_id:"")," ",l.a.createElement("br",null),"scale:",Ce(e._id,"bed")?Ce(e._id,"bed").scale:0),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return Ae(e._id,"bed")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(a){return a.currentTarget.checked?ra("bed","spending",e._id):sa("bed","spending",e._id)}}),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"General name:",te.climateName(Ce(e._id,"bed")?Ce(e._id,"bed").climate_place:"")," ",l.a.createElement("br",null),"name:",te.climateName(Ce(e._id,"bed")?Ce(e._id,"bed").climate_place:"")," ",l.a.createElement("br",null),"level:",te.climateLevel(Ce(e._id,"bed")?Ce(e._id,"bed").climate_place:"")," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(Ce(e._id,"bed")?Ce(e._id,"bed").climate_place:"")," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(a){return De(e._id,"bed")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.spendingBed(a,e._id,Ce(e._id,"bed")?Ce(e._id,"bed").scale:0)),l.a.createElement("td",null,$.sBedClimate(a,Ce(e._id,"bed")?Ce(e._id,"bed").climate_place:"",e._id,Ce(e._id,"bed")?Ce(e._id,"bed").scale:0))))}))))):l.a.createElement("p",null),l.a.createElement("div",{className:"col-lg-12 my-2"},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"text-center"},"Return Day"),l.a.createElement(xe.g,{hover:!0,striped:!0,bordered:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info mx-2"}),"Return date"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.o,className:"fa-1x text-info mx-2"}),"Return Time"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.ab,className:"fa-1x text-info mx-2"}),"Allowance situation"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.T,className:"fa-1x text-info mx-2"}),"User Entered place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.U,className:"fa-1x text-info mx-2"}),"Place to calculate"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info mx-2"}),"Climate place"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"fa-1x text-info"}),"Day allowance"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.sb,className:"fa-1x text-info"}),"Climate Allowance"))),l.a.createElement(xe.h,null,l.a.createElement("tr",null,l.a.createElement("td",{rowSpan:3},Wa(ne.return_date)),l.a.createElement("td",{rowSpan:3},ne.return_time.hour,":",ne.return_time.min<10?"0"+ne.return_time.min:ne.return_time.min),l.a.createElement("td",null,"Breakfast"),l.a.createElement("td",null,ne.return_day.breakfast),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?aa("breakfast","return"):ta("breakfast","return")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",x.scale," ",l.a.createElement("br",null),"place:",x.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(x.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(x.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(x.place_id)," ",l.a.createElement("br",null),"scale:",x.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return Se("breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2",onChange:function(e){return e.currentTarget.checked?na("breakfast","return"):la("breakfast","return")}}),"   ",l.a.createElement("br",null),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(x.climate_place)?te.findClimatePlace(x.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(x.climate_place)?te.findClimatePlace(x.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(x.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return Pe("breakfast")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleBreakfast(x.scale)),l.a.createElement("td",null,$.breakFastClimate(x.climate_place,x.scale))),l.a.createElement("tr",null,l.a.createElement("td",null,"lunch"),l.a.createElement("td",null,ne.return_day.lunch),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?aa("lunch","return"):ta("lunch","return")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",y.scale," ",l.a.createElement("br",null),"place:",y.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(_.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(_.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(_.place_id)," ",l.a.createElement("br",null),"scale:",_.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return Se("lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2",onChange:function(e){return e.currentTarget.checked?na("lunch","return"):la("lunch","return")}}),"   ",l.a.createElement("br",null),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(y.climate_place)?te.findClimatePlace(y.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(y.climate_place)?te.findClimatePlace(y.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(y.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return Pe("lunch")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleLunch(y.scale)),l.a.createElement("td",null,$.lunchClimate(y.climate_place,y.scale))),l.a.createElement("tr",null,l.a.createElement("td",null,"Dinner"),l.a.createElement("td",null,ne.return_day.dinner),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2 float-left",onChange:function(e){return e.currentTarget.checked?aa("dinner","return"):ta("dinner","return")}}),se?l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"scale:",O.scale," ",l.a.createElement("br",null),"place:",O.project_allowance):l.a.createElement("p",{className:"text-center font-weight-bold my-auto"},"name:",ae.placeName(O.place_id),"  ",l.a.createElement("br",null),"region:",ae.placeRegion(O.place_id),"  ",l.a.createElement("br",null),"type:",ae.placeType(O.place_id)," ",l.a.createElement("br",null),"scale:",O.scale),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return Se("dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",className:"mx-2",onChange:function(e){return e.currentTarget.checked?na("dinner","return"):la("dinner","return")}}),"   ",l.a.createElement("br",null),l.a.createElement("p",{className:"text-center font-weight-bold font-italic"},"name:",te.findClimatePlace(O.climate_place)?te.findClimatePlace(O.climate_place).name:""," ",l.a.createElement("br",null),"level:",te.findClimatePlace(O.climate_place)?te.findClimatePlace(O.climate_place).level:""," ",l.a.createElement("br",null),"level_percent:",$.climateLevel(O.climate_place)," ",l.a.createElement("br",null)),l.a.createElement("button",{className:"btn btn-outline-danger my-auto float-right",onClick:function(e){return Pe("dinner")}},l.a.createElement(f.a,{icon:g.tb}))),l.a.createElement("td",null,$.singleDinner(O.scale)),l.a.createElement("td",null,$.dinnerClimate(O.climate_place,O.scale))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:6},l.a.createElement("h4",{className:"float-right font-weight-bold"},"Totall Day and climate allowance")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},Me)),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},Ve))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"petrol and gas spending")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},ne.petrol))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"Maintainance and repair spending")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},ne.maintainace))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"other spendings")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},ne.other))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold"},"Totall")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold"},Ze))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},l.a.createElement("h4",{className:"float-right font-weight-bold text-danger"},"prepaid amount")),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold text-danger"},"-",Qe))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:7},Xe<0?l.a.createElement("h4",{className:"float-right font-weight-bold text-info"},"Refundable amount"):Xe>0?l.a.createElement("h4",{className:"float-right font-weight-bold text-info"},"Additional amount"):l.a.createElement("p",null)),l.a.createElement("td",null,l.a.createElement("h5",{className:"float-right font-weight-bold text-info"},Math.abs(Xe)))))))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{className:"text-danger text-center font-weight-bold"},r.error),l.a.createElement("p",{className:"text-success text-center font-weight-bold"},r.success),l.a.createElement("p",{className:"text-info text-center font-weight-bold"},r.process),r.loading?l.a.createElement(fe,null):l.a.createElement("p",null))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("p",{className:"text-center font-weight-bold"},"Save options"),l.a.createElement("div",{className:"input-container"},l.a.createElement(f.a,{icon:g.nb,className:" fa-2x mx-2 my-auto "}),l.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return"draft"===e.target.value?o(Object(E.a)({},r,{save_options:e.target.value,approval_manager:{emp_id:""}})):o(Object(E.a)({},r,{save_options:e.target.value}))}},l.a.createElement("option",{value:"approve"},"Save and start approving"),l.a.createElement("option",{value:"draft"},"Save as draft")))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("button",{className:"btn-info form-control",onClick:function(e){return function(e){var t,n,l,c,i,s,m;return S.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return e.preventDefault(),d.prev=1,o(Object(E.a)({},r,{},ka("initial","saving please wait..."))),t={breakfast:{place_id:p.place_id,climate_place:p.climate_place,project_allowance:p.project_allowance,scale:$.singleBreakfast(p.scale),c_scale:$.breakFastClimate(p.climate_place,p.scale)},lunch:{place_id:_.place_id,climate_place:_.climate_place,project_allowance:_.project_allowance,scale:$.singleLunch(_.scale),c_scale:$.lunchClimate(_.climate_place,_.scale)},dinner:{place_id:v.place_id,climate_place:v.climate_place,project_allowance:v.project_allowance,scale:$.singleDinner(v.scale),c_scale:$.dinnerClimate(v.climate_place,v.scale)},bed:{place_id:h.place_id,climate_place:h.climate_place,project_allowance:h.project_allowance,scale:$.singleBed(h.scale),c_scale:$.bedClimate(h.climate_place,h.scale)}},n={breakfast:{place_id:x.place_id,climate_place:x.climate_place,project_allowance:x.project_allowance,scale:$.singleBreakfast(x.scale),c_scale:$.breakFastClimate(x.climate_place,x.scale)},lunch:{place_id:y.place_id,climate_place:y.climate_place,project_allowance:y.project_allowance,scale:$.singleLunch(y.scale),c_scale:$.lunchClimate(y.climate_place,y.scale)},dinner:{place_id:O.place_id,climate_place:O.climate_place,project_allowance:O.project_allowance,scale:$.singleDinner(O.scale),c_scale:$.dinnerClimate(O.climate_place,O.scale)}},l=[],r.c_spending_days.map((function(e){l.push({s_id:e._id,type:e.type,duration:e.duration,place_id:e.place_id,climate_place:e.climate_place,project_allowance:e.project_allowance,scale:"breakfast"===e.type?$.spendingBreakfast(a,e._id,Ce(e._id,e.type)?Ce(e._id,e.type).scale:0):"lunch"===e.type?$.spendingLunch(a,e._id,Ce(e._id,e.type)?Ce(e._id,e.type).scale:0):"dinner"===e.type?$.spendingDinner(a,e._id,Ce(e._id,e.type)?Ce(e._id,e.type).scale:0):"bed"===e.type?$.spendingBed(a,e._id,Ce(e._id,e.type)?Ce(e._id,e.type).scale:0):0,c_scale:"breakfast"===e.type?$.sBreakFastClimate(a,Ce(e._id,e.type)?Ce(e._id,e.type).climate_place:"",e._id,Ce(e._id,e.type)?Ce(e._id,e.type).scale:0):"lunch"===e.type?$.sLunchClimate(a,Ce(e._id,e.type)?Ce(e._id,e.type).climate_place:"",e._id,Ce(e._id,e.type)?Ce(e._id,e.type).scale:0):"dinner"===e.type?$.sDinnerClimate(a,Ce(e._id,e.type)?Ce(e._id,e.type).climate_place:"",e._id,Ce(e._id,e.type)?Ce(e._id,e.type).scale:0):"bed"===e.type?$.sBedClimate(a,Ce(e._id,e.type)?Ce(e._id,e.type).climate_place:"",e._id,Ce(e._id,e.type)?Ce(e._id,e.type).scale:0):0})})),d.next=9,S.a.awrap(qa());case 9:return c=d.sent,i=Object(T.encryptObject)(Object(E.a)({_id:ne._id},pt(),{f_employee:Object(E.a)({},ne.f_employee,{calculated:!0,calculated_date:c,save_options:r.save_options,redone:!!ne.f_tl_approve.redone}),f_tl_approve:Object(E.a)({},ne.f_tl_approve,{redone:!1}),c_initial_day:t,c_return_day:n,c_spending_days:l,difference_amount:Xe,climate_amount:Ve,day_amount:Me,totall_amount:Ze})),d.next=13,S.a.awrap(L.a.put(R.host+"/deductions",{data:i}));case 13:s=d.sent,(m=Object(T.decrptObject)(s.data)).error?o(Object(E.a)({},r,{},ka("error","Error while saving... Internal server error please try again later"))):!m.error&&m.updated&&(o(Object(E.a)({},r,{},ka("success","deduction save success"))),ie(q)),d.next=22;break;case 18:d.prev=18,d.t0=d.catch(1),console.log(d.t0),o(Object(E.a)({},r,{},ka("error","Error while saving... server is not active or responding please contact admin")));case 22:case"end":return d.stop()}}),null,null,[[1,18]])}(e)}},l.a.createElement(f.a,{icon:g.nb,className:" fa-2x mx-2 my-auto "}),"Save"))))))})),ml=Object(o.withRouter)((function(e){var a=e.match.params.id,t=Object(n.useState)({collapse:"closed-sidebar-mobile closed-sidebar"}),c=Object(i.a)(t,2),r=c[0],s=c[1];return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+r.collapse},l.a.createElement(m.Provider,{value:{uiContents:r,togglers:s}},l.a.createElement(xa,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(La,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement(ol,{_id:a}))))))})),dl=function(){var e=Object(n.useState)({f_director:[],f_sector_leader:[],directors:[],team_leaders:[],sector_leaders:[],employees:[],commisioner:[],users:[]}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),o=r.users,m=r.employees,u=r.messages,p=r.connections,_=o.state,v=o.loading,h=(o.error,m.state),N=m.loading,y=(m.error,new et(u.state,p.state,[],_,h)),w=x([].concat(Object(b.a)(y.Type("employee")),Object(b.a)(y.Type("f_employee"))),"_id"),O=y.Type("director"),j=y.Type("f_director"),k=x([].concat(Object(b.a)(y.Type("f_team_leader")),Object(b.a)(y.Type("team_leader"))),"_id"),C=y.Type("sector_leader"),A=y.Type("f_sector_leader"),D=y.Type("senior_officer");Object(n.useEffect)((function(){c(Object(E.a)({},t,{directors:O,employees:w,f_sector_leader:A,f_director:j,team_leaders:k,sector_leaders:C,commisioner:D}))}),[v,N]);return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"type name,department,id",onChange:function(e){return a=e.target.value,c((function(e){return Object(E.a)({},e,{f_director:""!==a?y.ContactSearch(a).f_director:j,f_sector_leader:""!==a?y.ContactSearch(a).f_sector_leader:A,directors:""!==a?y.ContactSearch(a).directors:O,team_leaders:""!==a?y.ContactSearch(a).team_leaders:k,sector_leaders:""!==a?y.ContactSearch(a).sector_leaders:C,employees:""!==a?y.ContactSearch(a).employees:w,commisioner:""!==a?y.ContactSearch(a).commisioner:D})}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))))),l.a.createElement("div",{className:"main-card mb-3 min-height card"},h.length?l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},t.f_director.length?l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"contact-header text-center"},"Finance director"),l.a.createElement(xe.g,{bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"# employee id"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.wb,className:"fa-1x text-danger mx-2"}),"name"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.Y,className:"fa-1x text-danger mx-2"}),"Department"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x text-danger mx-2"})),l.a.createElement("th",{className:"text-center"},"status"))),l.a.createElement(xe.h,null,t.f_director.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.emp_id),l.a.createElement("td",{className:"text-center"},y.Name(e.emp_id)),l.a.createElement("td",{className:"text-center"},e.department),l.a.createElement("td",{className:"text-center"},l.a.createElement(s.b,{to:"/message/"+e.emp_id},y.isOnline(e.emp_id)?l.a.createElement("button",{className:"btn btn-success"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"):l.a.createElement("button",{className:"btn"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"))),l.a.createElement("td",{className:"text-center"},l.a.createElement(s.b,{to:"message/"+e.emp_id},y.isOnline(e.emp_id)?l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x text-success mx-2"}),"online"):l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x mx-2"}),"offline"))))}))))):l.a.createElement("p",null),t.sector_leaders.length?l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"contact-header text-center"},"sector leaders"),l.a.createElement(xe.g,{bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"# employee id"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.wb,className:"fa-1x text-danger mx-2"}),"name"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.Y,className:"fa-1x text-danger mx-2"}),"Department"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x text-danger mx-2"})),l.a.createElement("th",{className:"text-center"},"status"))),l.a.createElement(xe.h,null,t.sector_leaders.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.emp_id),l.a.createElement("td",{className:"text-center"},y.Name(e.emp_id)),l.a.createElement("td",{className:"text-center"},e.department),l.a.createElement("td",{className:"text-center"},l.a.createElement(s.b,{to:"/message/"+e.emp_id},y.isOnline(e.emp_id)?l.a.createElement("button",{className:"btn btn-success"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"):l.a.createElement("button",{className:"btn"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"))),l.a.createElement("td",{className:"text-center"},l.a.createElement(s.b,{to:"message/"+e.emp_id},y.isOnline(e.emp_id)?l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x text-success mx-2"}),"online"):l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x mx-2"}),"offline"))))}))))):l.a.createElement("p",null),t.commisioner.length?l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"contact-header text-center"},"Commisioner"),l.a.createElement(xe.g,{bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"# employee id"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.wb,className:"fa-1x text-danger mx-2"}),"name"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.Y,className:"fa-1x text-danger mx-2"}),"Department"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x text-danger mx-2"})),l.a.createElement("th",{className:"text-center"},"status"))),l.a.createElement(xe.h,null,t.commisioner.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.emp_id),l.a.createElement("td",{className:"text-center"},y.Name(e.emp_id)),l.a.createElement("td",{className:"text-center"},e.department),l.a.createElement("td",{className:"text-center"},l.a.createElement(s.b,{to:"/message/"+e.emp_id},y.isOnline(e.emp_id)?l.a.createElement("button",{className:"btn btn-success"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"):l.a.createElement("button",{className:"btn"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"))),l.a.createElement("td",{className:"text-center"},l.a.createElement(s.b,{to:"message/"+e.emp_id},y.isOnline(e.emp_id)?l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x text-success mx-2"}),"online"):l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x mx-2"}),"offline"))))}))))):l.a.createElement("p",null),t.f_sector_leader.length?l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"contact-header text-center"},"Finance Sector leader"),l.a.createElement(xe.g,{bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"# employee id"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.wb,className:"fa-1x text-danger mx-2"}),"name"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.Y,className:"fa-1x text-danger mx-2"}),"Department"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x text-danger mx-2"})),l.a.createElement("th",{className:"text-center"},"status"))),l.a.createElement(xe.h,null,t.f_sector_leader.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.emp_id),l.a.createElement("td",{className:"text-center"},y.Name(e.emp_id)),l.a.createElement("td",{className:"text-center"},e.department),l.a.createElement("td",{className:"text-center"},l.a.createElement(s.b,{to:"message/"+e.emp_id},y.isOnline(e.emp_id)?l.a.createElement("button",{className:"btn btn-success"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"):l.a.createElement("button",{className:"btn"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"))),l.a.createElement("td",{className:"text-center"},y.isOnline(e.emp_id)?l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x text-success mx-2"}),"online"):l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x mx-2"}),"offline")))}))))):l.a.createElement("p",null),t.directors.length?l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"contact-header text-center"},"Directors"),l.a.createElement(xe.g,{bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"# employee id"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.wb,className:"fa-1x text-danger mx-2"}),"name"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.Y,className:"fa-1x text-danger mx-2"}),"Department"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x text-danger mx-2"})),l.a.createElement("th",{className:"text-center"},"status"))),l.a.createElement(xe.h,null,t.directors.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.emp_id),l.a.createElement("td",{className:"text-center"},y.Name(e.emp_id)),l.a.createElement("td",{className:"text-center"},e.department),l.a.createElement("td",{className:"text-center"},l.a.createElement(s.b,{to:"message/"+e.emp_id},y.isOnline(e.emp_id)?l.a.createElement("button",{className:"btn btn-success"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"):l.a.createElement("button",{className:"btn"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"))),l.a.createElement("td",{className:"text-center"},l.a.createElement(s.b,{to:"message/"+e.emp_id},y.isOnline(e.emp_id)?l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x text-success mx-2"}),"online"):l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x mx-2"}),"offline"))))}))))):l.a.createElement("p",null),t.team_leaders.length?l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"contact-header text-center"},"Team leaders"),l.a.createElement(xe.g,{bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"# employee id"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.wb,className:"fa-1x text-danger mx-2"}),"name"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.Y,className:"fa-1x text-danger mx-2"}),"Department"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x text-danger mx-2"})),l.a.createElement("th",{className:"text-center"},"status"))),l.a.createElement(xe.h,null,t.team_leaders.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.emp_id),l.a.createElement("td",{className:"text-center"},y.Name(e.emp_id)),l.a.createElement("td",{className:"text-center"},e.department),l.a.createElement("td",{className:"text-center"},l.a.createElement(s.b,{to:"message/"+e.emp_id},y.isOnline(e.emp_id)?l.a.createElement("button",{className:"btn btn-success"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"):l.a.createElement("button",{className:"btn"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"))),l.a.createElement("td",{className:"text-center"},y.isOnline(e.emp_id)?l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x text-success mx-2"}),"online"):l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x mx-2"}),"offline")))}))))):l.a.createElement("p",null),t.employees.length?l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"contact-header text-center"},"Employees"),l.a.createElement(xe.g,{bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"# employee id"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.wb,className:"fa-1x text-danger mx-2"}),"name"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.Y,className:"fa-1x text-danger mx-2"}),"Department"),l.a.createElement("th",{className:"text-center"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x text-danger mx-2"})),l.a.createElement("th",{className:"text-center"},"status"))),l.a.createElement(xe.h,null,t.employees.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.emp_id),l.a.createElement("td",{className:"text-center"},y.Name(e.emp_id)),l.a.createElement("td",{className:"text-center"},e.department),l.a.createElement("td",{className:"text-center"},l.a.createElement(s.b,{to:"message/"+e.emp_id},y.isOnline(e.emp_id)?l.a.createElement("button",{className:"btn btn-success"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"):l.a.createElement("button",{className:"btn"},l.a.createElement(f.a,{icon:g.y,className:"fa-1x mx-2"}),"contact"))),l.a.createElement("td",{className:"text-center"},y.isOnline(e.emp_id)?l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x text-success mx-2"}),"online"):l.a.createElement("p",null,l.a.createElement(f.a,{icon:g.u,className:"fa-1x mx-2"}),"offline")))}))))):l.a.createElement("p",null))):l.a.createElement("div",{className:"container mt-5"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h2",{className:"text-center"},"No Employees registered"))))))},ul=function(){var e=Object(n.useState)({collapse:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),o=r.letters,u=r.users,p=r.employees,E=r.messages,b=r.connections,_=p.loading,v=p.error,h=new et(E.state,b.state,o.state,u.state,p.state);E.loading||h.newInboxLetters().length;return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(xa,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(La,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h4",{className:"text-center"},l.a.createElement(s.c,{to:"/contact"},l.a.createElement(f.a,{icon:g.wb,className:"fa-1x mx-2 text-danger"}),"Employees to contact"))))),_?l.a.createElement(at,null):v?l.a.createElement(tt,null):l.a.createElement(dl,null))))))};var pl=function(){var e=Object(n.useState)({collapse:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.letters,o=r.users,u=r.employees,p=r.messages,E=r.connections,f=new et(p.state,E.state,s.state,o.state,u.state);return p.loading||f.newInboxLetters().length,l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(xa,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(La,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement(kt,null))))))},El={state:[],loading:!0,error:!1},fl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:El,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_MESSAGES":return{state:a.payload,loading:!1,error:!1};case"LOADING_MESSAGES":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},gl={state:[],loading:!0,error:!1},bl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gl,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_CONNECTIONS":return{state:a.payload,loading:!1,error:!1};case"LOADING_CONNECTIONS":return Object(E.a)({},e,{loading:!0});default:return Object(E.a)({},e,{loading:!1,error:!0})}},_l=t(336),vl=t.n(_l),hl=function(){var e=Object(n.useState)({Letters:[],found:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.employees,o=r.users,m=r.connections,u=r.messages,p=r.letters,b=r.socket,_=new et(u.state,m.state,p.state,o.state,s.state);Object(n.useEffect)((function(){c(Object(E.a)({},t,{Letters:_.outBox()}))}),[p]);var v=_.outBox(),h=function(){b.emit("chat",""),b.emit("letters",""),b.on("chat",(function(e){var a=new et(e,m.state,p.state,o.state,s.state);c((function(e){return Object(E.a)({},e,{Letters:a.outBox()})}))}))};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"},l.a.createElement(jt,{type:"Create_letter",typing:function(){return b.emit("typing_letter",{emp_id:u.getEmp_id()})},stop_typing:function(){return b.emit("typing_letter",{emp_id:""})}})),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type letter id,title and type",onChange:function(e){return a=e.target.value,c(Object(E.a)({},t,{Letters:""===a?v:_.searchLetters(a),found:""!==a}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Letters"),l.a.createElement("div",{className:"widget-subheading"},"Totall Made")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,v.length)))))),l.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},t.found?l.a.createElement("h5",{className:"text-center"},"Letters found -",t.Letters.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"# Letter id"),l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"Type"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"created"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.q,className:"mx-2"}),"Progress"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,t.Letters.length?t.Letters.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.id),l.a.createElement("td",{className:"text-center"},e.title),l.a.createElement("td",{className:"text-center"},e.type),l.a.createElement("td",{className:"text-center"},l.a.createElement("p",{className:"font-italic"},Ga(e.created_date)," ",l.a.createElement("br",null),Ka(e.created_date))),_.approval_managers(e._id).length?l.a.createElement("td",null,100===_.totallProgress(e._id)?l.a.createElement("p",{className:"font-weight-bold text-center text-success font-italic"},"Approval stage is completed"):l.a.createElement("div",{className:""},l.a.createElement(vl.a,{color:"info",value:_.totallProgress(e._id)}),_.totallProgress(e._id)+"%")):l.a.createElement("td",null,l.a.createElement("p",{className:"font-italic text-danger"},"The letter has no approval stage")),l.a.createElement("td",null,l.a.createElement(jt,{type:"view_letter",l_id:e._id}),l.a.createElement(jt,{type:"progress",l_id:e._id}),_.isModifiable(e._id)?l.a.createElement(jt,{type:"edit_letter",l_id:e._id}):l.a.createElement("p",null),_.isModifiable(e._id)?l.a.createElement(jt,{type:"delete_letter",l_id:e._id,emitter:h}):l.a.createElement("p",null)))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:6},l.a.createElement("p",{className:"text-center font-weight-bold text-danger"},"No letters are created"))))))))))},Nl=function(){var e=Object(n.useState)({collapse:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),o=r.letters,u=r.employees,p=r.messages,E=r.users,b=r.connections,_=o.loading,v=o.error,h=new et(p.state,b.state,o.state,E.state,u.state),N=p.loading?0:h.newInboxLetters().length;return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(xa,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(La,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("h4",{className:"text-center"},l.a.createElement(s.c,{to:"/inbox"},l.a.createElement(f.a,{icon:g.E,className:"fa-1x mx-2 text-danger"}),"Inbox letters",N?l.a.createElement("h4",{className:"mx-1 text-info font-weight-bold"},l.a.createElement(f.a,{icon:g.g,className:"text-info mx-1"}),N):l.a.createElement("p",null)))),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("h4",{className:"text-center"},l.a.createElement(s.c,{to:"/outbox"},l.a.createElement(f.a,{icon:g.F,className:"fa-1x mx-2 text-danger"}),"outbox letters"))))),_?l.a.createElement(at,null):v?l.a.createElement(tt,null):l.a.createElement(hl,null))))))},xl=function(){var e=Object(n.useState)({newLetters:[],seenLetters:[],found:!1}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=(r.socket,r.messages),o=r.connections,m=r.letters,u=r.users,p=r.employees,b=new et(s.state,o.state,m.state,u.state,p.state),_=b.InboxLetters();Object(n.useEffect)((function(){c((function(e){return Object(E.a)({},e,{newLetters:b.newInboxLetters(),seenLetters:b.seenInboxLetters()})}))}),[s.state,m.state]);return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 my-auto"}),l.a.createElement("div",{className:"col-lg-5 my-auto"},l.a.createElement("div",{className:"search-wrapper active"},l.a.createElement("div",{className:"input-holder"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type letter id,title and type",onChange:function(e){return a=e.target.value,c(Object(E.a)({},t,{newLetters:""===a?b.newInboxLetters():b.SearchLetters(a).newLetters,seenLetters:""===a?b.seenInboxLetters():b.SearchLetters(a).seenLetters,found:""!==a}));var a}}),l.a.createElement("button",{className:"search-icon"},l.a.createElement("span",null))))),l.a.createElement("div",{className:"col-lg-4 my-auto"},l.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},l.a.createElement("div",{className:"widget-content-wrapper text-white"},l.a.createElement("div",{className:"widget-content-left"},l.a.createElement("div",{className:"widget-heading"},"Letters"),l.a.createElement("div",{className:"widget-subheading"},"Totall Recieved")),l.a.createElement("div",{className:"widget-content-right"},l.a.createElement("div",{className:"widget-numbers text-white"},l.a.createElement("span",null,_.length)))))),l.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},t.found?l.a.createElement("h5",{className:"text-center"},"Letters found -",t.newLetters.length+t.seenLetters.length):l.a.createElement("p",null),l.a.createElement(xe.g,{hover:!0,bordered:!0,striped:!0},l.a.createElement(xe.i,null,l.a.createElement("tr",null,l.a.createElement("th",null,"# Letter id"),l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"Type"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.m,className:"mx-2"}),"created"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.q,className:"mx-2"}),"Decision made/Recieved"),l.a.createElement("th",null,l.a.createElement(f.a,{icon:g.x,className:"mx-2"}),"Options"))),l.a.createElement(xe.h,null,_.length?t.newLetters.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center text-info"},e.id),l.a.createElement("td",{className:"text-center text-info"},e.title),l.a.createElement("td",{className:"text-center text-info"},e.type),l.a.createElement("td",{className:"text-center text-info"},l.a.createElement("p",{className:"font-italic text-info"},Ga(e.created_date)," ",l.a.createElement("br",null),Ka(e.created_date))),l.a.createElement("td",null,b.manager_info(e._id)?"Approved"===b.manager_info(e._id).status?l.a.createElement("p",{className:"text-center text-success font-iatalic text-info"},l.a.createElement(f.a,{icon:g.r,className:"mx-2 fa-2x"}),"Approved"," ",l.a.createElement(Qt.a,{date:b.manager_info(e._id).approved_date})," ",l.a.createElement("br",null),"at"," ",Ka(b.manager_info(e._id).approved_date)):"unApproved"===b.manager_info(e._id).status?l.a.createElement("p",{className:"text-center text-danger font-iatalic text-info"},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fa-2x"}),"DisApproved"," ",l.a.createElement(Qt.a,{date:b.manager_info(e._id).approved_date})," ",l.a.createElement("br",null),"at"," ",Ka(b.manager_info(e._id).approved_date)," ",l.a.createElement("br",null),"comment-",b.manager_info(e._id)?b.manager_info(e._id).comment:""):"waiting"===b.manager_info(e._id).status?l.a.createElement("p",{className:"text-center font-iatalic text-info"},l.a.createElement(f.a,{icon:g.C,className:"mx-2 fa-2x"}),"Approval letter waiting for your decision"):l.a.createElement("p",null):l.a.createElement("p",null),b.particpant_info(e._id)?b.particpant_info(e._id).seen?l.a.createElement("p",{className:"text-center font-italic text-info"},l.a.createElement(f.a,{icon:g.Ab,className:"mx-2 fa-2x text-success"}),"letter seen"):l.a.createElement("p",{className:"text-center font-italic text-info"},l.a.createElement(f.a,{icon:g.xb,className:"mx-2 fa-2x"}),"waiting to review"):l.a.createElement("p",null)),l.a.createElement("td",null,l.a.createElement(jt,{type:"view_letter",l_id:e._id})))})):l.a.createElement("tr",null),_.length?t.seenLetters.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"text-center"},e.id),l.a.createElement("td",{className:"text-center"},e.title),l.a.createElement("td",{className:"text-center"},e.type),l.a.createElement("td",{className:"text-center"},l.a.createElement("p",{className:"font-italic"},Ga(e.created_date)," ",l.a.createElement("br",null),Ka(e.created_date))),l.a.createElement("td",null,b.manager_info(e._id)?"Approved"===b.manager_info(e._id).status?l.a.createElement("p",{className:"text-center text-success font-iatalic"},l.a.createElement(f.a,{icon:g.r,className:"mx-2 fa-2x"}),"Approved"," ",l.a.createElement(Qt.a,{date:b.manager_info(e._id).approved_date})," ",l.a.createElement("br",null),"at"," ",Ka(b.manager_info(e._id).approved_date)):"unApproved"===b.manager_info(e._id).status?l.a.createElement("p",{className:"text-center text-danger font-iatalic"},l.a.createElement(f.a,{icon:g.Eb,className:"mx-2 fa-2x"}),"DisApproved"," ",l.a.createElement(Qt.a,{date:b.manager_info(e._id).approved_date})," ",l.a.createElement("br",null),"at"," ",Ka(b.manager_info(e._id).approved_date)," ",l.a.createElement("br",null),"comment-",b.manager_info(e._id)?b.manager_info(e._id).comment:""):"waiting"===b.manager_info(e._id).status?l.a.createElement("p",{className:"text-center font-iatalic"},l.a.createElement(f.a,{icon:g.C,className:"mx-2 fa-2x"}),"Approval letter waiting for your decision"):l.a.createElement("p",null):l.a.createElement("p",null),b.particpant_info(e._id)?b.particpant_info(e._id).seen?l.a.createElement("p",{className:"text-center font-italic"},l.a.createElement(f.a,{icon:g.Ab,className:"mx-2 fa-2x text-success"}),"letter seen"):l.a.createElement("p",{className:"text-center font-italic"},l.a.createElement(f.a,{icon:g.yb,className:"mx-2 fa-2x"}),"waiting to review"):l.a.createElement("p",null)),l.a.createElement("td",null,l.a.createElement(jt,{type:"view_letter",l_id:e._id}),b.isApprovable(e._id)?l.a.createElement(jt,{type:"approve",l_id:e._id}):l.a.createElement("p",null)))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:6},l.a.createElement("p",{className:"text-center text-danger font-weight-bold my-2"},"No Letters ar recieved"))))))))))},yl=function(){var e=Object(n.useState)({collapse:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),o=r.letters,u=r.employees,p=r.messages,E=r.users,b=r.connections,_=o.loading,v=o.error,h=p.loading,N=p.error,x=new et(p.state,b.state,o.state,E.state,u.state),y=p.loading?0:x.newInboxLetters().length;return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(xa,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(La,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("h4",{className:"text-center"},l.a.createElement(s.c,{to:"/inbox"},l.a.createElement(f.a,{icon:g.E,className:"fa-1x mx-2 text-danger"}),"Inbox letters",y?l.a.createElement("h4",{className:"mx-1 text-info font-weight-bold"},l.a.createElement(f.a,{icon:g.g,className:"text-info mx-1"}),y):l.a.createElement("p",null)))),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("h4",{className:"text-center"},l.a.createElement(s.c,{to:"/outbox"},l.a.createElement(f.a,{icon:g.F,className:"fa-1x mx-2 text-danger"}),"outbox letters"))))),h||_?l.a.createElement(at,null):v||N?l.a.createElement(tt,null):l.a.createElement(xl,null))))))},wl=function(){var e=Object(n.useState)({allowance:"text-dark",deduction:"",collapse:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useContext)(d),s=r.allowances,o=r.deductions;r.users;return l.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+t.collapse},l.a.createElement(m.Provider,{value:{uiContents:t,togglers:c}},l.a.createElement(xa,null),l.a.createElement("div",{className:"app-main"},l.a.createElement(La,null),l.a.createElement("div",{className:"app-main__outer"},l.a.createElement("div",{className:"app-main__inner"},l.a.createElement("div",{className:"container my-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 bg-warning",style:{border:"2px solid",borderColor:"lightgray"},onClick:function(){return c(Object(E.a)({},t,{allowance:"text-dark",deduction:""}))}},l.a.createElement("h4",{className:"text-center text-white "+t.allowance},l.a.createElement(f.a,{icon:g.s,className:"text-center mx-2 text-white "+t.allowance}),"Completed Allowance")),l.a.createElement("div",{className:"col-lg-6 bg-warning",style:{border:"2px solid",borderColor:"lightgray"},onClick:function(){return c(Object(E.a)({},t,{allowance:"",deduction:"text-dark"}))}},l.a.createElement("h4",{className:"text-center text-white "+t.deduction},l.a.createElement(f.a,{icon:g.s,className:"text-center mx-2 text-white "+t.deduction}),"Completed Deduction")))),s.loading||o.loading?l.a.createElement(at,null):s.error||o.error?l.a.createElement(tt,null):"text-dark"===t.allowance?l.a.createElement(cn,null):"text-dark"===t.deduction?l.a.createElement(Zn,null):l.a.createElement("p",null))))))},Ol=function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)(""),m=Object(i.a)(r,2),u=m[0],p=m[1],E=Object(n.useState)(""),f=Object(i.a)(E,2),g=f[0],b=f[1],_=Object(n.useReducer)(je,Oe),v=Object(i.a)(_,2),h=v[0],N=v[1],x=Object(n.useReducer)(Te,Re),y=Object(i.a)(x,2),w=y[0],O=y[1],j=Object(n.useReducer)(Ye,Ge),k=Object(i.a)(j,2),C=k[0],A=k[1],D=Object(n.useReducer)(Je,He),S=Object(i.a)(D,2),P=S[0],L=S[1],R=Object(n.useReducer)(ca,la),T=Object(i.a)(R,2),I=T[0],F=T[1],B=Object(n.useReducer)(ma,oa),q=Object(i.a)(B,2),M=q[0],U=q[1],G=Object(n.useReducer)(ba,ga),Y=Object(i.a)(G,2),z=Y[0],W=Y[1],H=Object(n.useReducer)(Dt,At),J=Object(i.a)(H,2),V=J[0],Z=J[1],K=Object(n.useReducer)(on,sn),Q=Object(i.a)(K,2),X=Q[0],$=Q[1],ee=Object(n.useReducer)(_n,bn),ae=Object(i.a)(ee,2),te=ae[0],ne=ae[1],le=Object(n.useReducer)(tl,al),ce=Object(i.a)(le,2),re=ce[0],ie=ce[1],se=Object(n.useReducer)(fl,El),oe=Object(i.a)(se,2),de=oe[0],ue=oe[1],pe=Object(n.useReducer)(bl,gl),Ee=Object(i.a)(pe,2),fe=Ee[0],ge=Ee[1];return l.a.createElement(d.Provider,{value:{socket:g,setSocket:b,messages:de,dispatchMessages:ue,typing:t,setTyping:c,Ltyping:u,setLTyping:p,connections:fe,dispatchConnections:ge,allowances:X,dispatchAllowances:$,employees:h,dispatchEmployees:N,department:w,dispatchDepartment:O,place:C,dispatchPlaces:A,users:P,dispatchUsers:L,fieldEmployees:I,dispatchFieldEmplooyees:F,config:M,dispatchConfig:U,company:z,dispatchCompany:W,letters:V,dispatchLetters:Z,climatePlaces:te,dispatchClimatePlaces:ne,deductions:re,dispatchDeductions:ie}},l.a.createElement(ia.a,{isHydrating:!0,type:"text/javascript",src:"./css/assets/scripts/main.js"}),l.a.createElement(s.a,null,l.a.createElement(o.Switch,null,l.a.createElement(o.Route,{exact:!0,path:"/"},l.a.createElement(Ta,null)),l.a.createElement(o.Route,{path:"/message/:id"},l.a.createElement(pl,null)),l.a.createElement(o.Route,{path:"/message"},l.a.createElement(Ct,null)),l.a.createElement(o.Route,{path:"/allowance"},l.a.createElement(rn,null)),l.a.createElement(o.Route,{path:"/editDeduction/:id"},l.a.createElement(ml,null)),l.a.createElement(o.Route,{path:"/deduction/:id"},l.a.createElement(sl,null)," "),l.a.createElement(o.Route,{path:"/deduction"},l.a.createElement(el,null)),l.a.createElement(o.Route,{path:"/contact"},l.a.createElement(ul,null)),l.a.createElement(o.Route,{path:"/outbox"},l.a.createElement(Nl,null)),l.a.createElement(o.Route,{path:"/inbox"},l.a.createElement(yl,null)),l.a.createElement(o.Route,{path:"/reports"},l.a.createElement(wl,null)),l.a.createElement(o.Route,{path:"/login"},l.a.createElement(We,null)),l.a.createElement(o.Route,{path:"/signup"},l.a.createElement(ze,null)),l.a.createElement(o.Route,{path:"/users"},l.a.createElement(Xe,null)),l.a.createElement(o.Route,{path:"/admin"},l.a.createElement(me,null)),l.a.createElement(o.Route,{path:"/fieldAllowance"},l.a.createElement(na,null)),l.a.createElement(o.Route,{path:"/employee"},l.a.createElement(we,null)),l.a.createElement(o.Route,{path:"/company"},l.a.createElement(ha,null)),l.a.createElement(o.Route,{path:"/places"},l.a.createElement(Ue,null)),l.a.createElement(o.Route,{path:"/department"},l.a.createElement(Le,null)),l.a.createElement(o.Route,{path:"/configuration"},l.a.createElement(pa,null)),l.a.createElement(o.Route,{path:"/climate_places"},l.a.createElement(gn,null)),l.a.createElement(o.Route,{path:"/adminSignUp"},l.a.createElement(Na,null)),l.a.createElement(o.Route,{path:"/createCompany"},l.a.createElement(fa,null)),l.a.createElement(o.Route,{path:"/createConfiguration"},l.a.createElement(sa,null)),l.a.createElement(o.Route,{path:"/test"},l.a.createElement(il,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jl=t(329),kl=t(337),Cl=t(338);jl.a.addLocale(kl),jl.a.addLocale(Cl),r.a.render(l.a.createElement(Ol,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,a,t){var n=t(10).password,l=t(231);e.exports={encryptObject:function(e){return l.AES.encrypt(JSON.stringify(e),n).toString()},decrptObject:function(e){var a=l.AES.decrypt(e,n);return JSON.parse(a.toString(l.enc.Utf8))}}}},[[341,1,2]]]);
//# sourceMappingURL=main.763ce75e.chunk.js.map